<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Overriding Indicators</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-8-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-8-4.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>&nbsp;8.3.1 <SPAN class="insert2">Overriding Indicators</SPAN> <SPAN class="delete2"></SPAN></H1>
<DIV Class="paranum">1/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-20218.TXT">AI95-00218-03</A></I>} 
<SPAN class="insert2">An <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN> 
is used to declare that an operation is intended to override (or not 
override) an inherited operation.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2/2</DIV>
<DIV Class="SyntaxIndented">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-20218.TXT">AI95-00218-03</A></I>} 
<SPAN Class="swiss"></SPAN><SPAN class="insert2"><SPAN Class="swiss">overriding_indicator</SPAN></SPAN><SPAN Class="swiss"></SPAN><A NAME="I3746"></A><A NAME="S0178"></A><SPAN class="insert2"><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN></SPAN><SPAN class="insert2">[<B>not</B>]&nbsp;<B>overriding</B></SPAN></DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">3/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-20218.TXT">AI95-00218-03</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00348.TXT">AI95-00348-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00397.TXT">AI95-00397-01</A></I>} 
<SPAN class="insert2">If an <SPAN Class="swiss"><A HREF="AA-3-9-3.html#S0076">abstract_subprogram_declaration</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-6-7.html#S0172">null_procedure_declaration</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-6-3.html#S0162">subprogram_body</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-10-1-3.html#S0241">subprogram_body_stub</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-8-5-4.html#S0186">subprogram_renaming_declaration</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-12-3.html#S0257">generic_instantiation</A></SPAN> 
of a subprogram, or <SPAN Class="swiss"><A HREF="AA-6-1.html#S0148">subprogram_declaration</A></SPAN> 
other than a protected subprogram has an <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN>, 
then:</SPAN></DIV>
<DIV Class="paranum">4/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">the operation 
shall be a primitive operation for some type;</SPAN></LI></UL>
<DIV Class="paranum">5/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">if the <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN> 
is <B>overriding</B>, then the operation shall override a homograph at 
the place of the declaration or body;</SPAN></LI></UL>
<DIV Class="paranum">6/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">if the <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN> 
is <B>not overriding</B>, then the operation shall not override any homograph 
(at any place).</SPAN>&nbsp;</LI></UL>
<DIV Class="paranum">7/2</DIV>
<DIV Class="Normal"><SPAN class="insert2"><SPAN STYLE="font-size: 80%">{<I>generic 
contract issue</I> [partial]}</SPAN> <A NAME="I3747"></A>In addition 
to the places where Legality Rules normally apply, these rules also apply 
in the private part of an instance of a generic unit.</SPAN></DIV>
<DIV Class="paranum">7.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Discussion:&nbsp;</B>The 
<B>overriding</B> and <B>not overriding</B> rules differ slightly. For 
<B>overriding</B>, we want the indicator to reflect the overriding state 
at the place of the declaration; otherwise the indicator would be &ldquo;lying&rdquo;. 
Whether a homograph is implicitly declared after the declaration (see 
7.3.1 to see how this can happen) has no impact on this check. However, 
<B>not overriding</B> is different; &ldquo;lying&rdquo; would happen 
if a homograph declared later actually is overriding. So, we require 
this check to take into account later overridings. That can be implemented 
either by looking ahead, or by rechecking when additional operations 
are declared.</SPAN></DIV>
<DIV Class="paranum">7.b/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2">The &ldquo;no lying&rdquo; 
rules are needed to prevent a <SPAN Class="swiss"><A HREF="AA-6-1.html#S0148">subprogram_declaration</A></SPAN> 
and <SPAN Class="swiss"><A HREF="AA-6-3.html#S0162">subprogram_body</A></SPAN> 
from having contradictory <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN>s.</SPAN> 
</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">8/2</DIV>
<DIV Class="Notes">8&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00397.TXT">AI95-00397-01</A></I>} 
<SPAN class="insert2">Rules for <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN>s 
of task and protected entries and of protected subprograms are found 
in <A HREF="AA-9-5-2.html">9.5.2</A> and <A HREF="AA-9-4.html">9.4</A>, 
respectively.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">9/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00433.TXT">AI95-00433-01</A></I>} 
<SPAN class="insert2">The use of <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN>s 
allows the detection of errors at compile-time that otherwise might not 
be detected at all. For instance, we might declare a security queue derived 
from the Queue interface of 3.9.4 as:</SPAN></DIV>
<DIV Class="paranum">10/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>type</B>&nbsp;Security_Queue&nbsp;<B>is&nbsp;new</B>&nbsp;Queue&nbsp;<B>with&nbsp;record</B>&nbsp;...;</SPAN></DIV>
<DIV Class="paranum">11/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>overriding</B><BR>
<B>procedure</B>&nbsp;Append(Q&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Security_Queue;&nbsp;Person&nbsp;:&nbsp;<B>in</B>&nbsp;Person_Name);</SPAN></DIV>
<DIV Class="paranum">12/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>overriding</B><BR>
<B>procedure</B>&nbsp;Remove_First(Q&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Security_Queue;&nbsp;Person&nbsp;:&nbsp;<B>in</B>&nbsp;Person_Name);</SPAN></DIV>
<DIV Class="paranum">13/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>overriding</B><BR>
<B>function</B>&nbsp;Cur_Count(Q&nbsp;:&nbsp;<B>in</B>&nbsp;Security_Queue)&nbsp;<B>return</B>&nbsp;Natural;</SPAN></DIV>
<DIV Class="paranum">14/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>overriding</B><BR>
<B>function</B>&nbsp;Max_Count(Q&nbsp;:&nbsp;<B>in</B>&nbsp;Security_Queue)&nbsp;<B>return</B>&nbsp;Natural;</SPAN></DIV>
<DIV Class="paranum">15/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>not&nbsp;overriding</B><BR>
<B>procedure</B>&nbsp;Arrest(Q&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Security_Queue;&nbsp;Person&nbsp;:&nbsp;<B>in</B>&nbsp;Person_Name);</SPAN></DIV>
<DIV Class="paranum">16/2</DIV>
<DIV Class="Normal">&nbsp;<SPAN class="insert2">The first four subprogram 
declarations guarantee that these subprograms will override the four 
subprograms inherited from the Queue interface. A misspelling in one 
of these subprograms will be detected by the implementation. Conversely, 
the declaration of Arrest guarantees that this is a new operation.</SPAN></DIV>
<DIV Class="paranum">16.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Discussion:&nbsp;</B>In 
this case, the subprograms are abstract, so misspellings will get detected 
anyway. But for other subprograms (especially when deriving from concrete 
types), the error might never be detected, and a body other than the 
one the programmer intended might be executed without warning. Thus our 
new motto: &ldquo;Overriding indicators &mdash; don't derive a type without 
them!&rdquo;</SPAN>&nbsp;</DIV>

<H4 Class="centered">Extensions to Ada 95</H4>
<DIV Class="paranum">16.b/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-20218.TXT">AI95-00218-03</A></I>} 
<SPAN class="insert2">{<I>extensions to Ada 95</I>} <A NAME="I3748"></A><SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">Overriding_indicator</A></SPAN>s 
are new. These let the programmer state her overriding intentions to 
the compiler; if the compiler disagrees, an error will be produced rather 
than a hard to find bug.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-8-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-8-4.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
