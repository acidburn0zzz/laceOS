<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Conformance Rules</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert1 {text-decoration: underline; color: rgb(0,51,51) }
    SPAN.delete1 {text-decoration: line-through; color: rgb(0,51,51) }
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.SmallExamples {font-family: "Courier New", monospace; font-size: 72%; line-height: 122%; margin-left: 9.6em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.NestedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-6-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-6-3-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>6.3.1 Conformance Rules</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>conformance</I>}</SPAN> 
<A NAME="I3399"></A><A NAME="I3400"></A><A NAME="I3401"></A><A NAME="I3402"></A><A NAME="I3403"></A>[When 
subprogram profiles are given in more than one place, they are required 
to conform in one of four ways: type conformance, mode conformance, subtype 
conformance, or full conformance.]&nbsp;</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">2/1</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">{<I><A HREF="defect1.html#8652/0011">8652/0011</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00117.TXT">AI95-00117-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>convention</I>}</SPAN> <A NAME="I3404"></A><SPAN STYLE="font-size: 80%">{<I>calling 
convention</I>}</SPAN> <A NAME="I3405"></A>[As explained in <A HREF="AA-B-1.html">B.1</A>, 
&ldquo;<A HREF="AA-B-1.html">Interfacing Pragmas</A>&rdquo;, a <I>convention</I> 
can be specified for an entity.] <SPAN class="insert1">Unless this International 
Standard states otherwise, the default convention of an entity is Ada.</SPAN> 
[For a callable entity or access-to-subprogram type, the convention is 
called the <I>calling convention</I>.] The following conventions are 
defined by the language:&nbsp;</DIV>
<DIV Class="paranum">3</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN STYLE="font-size: 80%">{<I>Ada 
calling convention</I>}</SPAN> <A NAME="I3406"></A><SPAN STYLE="font-size: 80%">{<I>calling 
convention (Ada)</I>}</SPAN> <A NAME="I3407"></A>The default calling 
convention for any subprogram not listed below is <I>Ada</I>. [A <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Convention, Import, or Export may be used to override the default calling 
convention (see <A HREF="AA-B-1.html">B.1</A>)].&nbsp;</LI></UL>
<DIV Class="paranum">3.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>See also the rule about 
renamings-as-body in <A HREF="AA-8-5-4.html">8.5.4</A>.&nbsp;</DIV>
<DIV Class="paranum">4</DIV>
<UL Class="Bulleted" Style="margin-bottom: 0.3em"><LI TYPE=DISC><SPAN STYLE="font-size: 80%">{<I>Intrinsic 
calling convention</I>}</SPAN> <A NAME="I3408"></A><SPAN STYLE="font-size: 80%">{<I>calling 
convention (Intrinsic)</I>}</SPAN> <A NAME="I3409"></A>The <I>Intrinsic</I> 
calling convention represents subprograms that are &ldquo;built in&rdquo; 
to the compiler. The default calling convention is Intrinsic for the 
following:&nbsp;</LI></UL>
<DIV Class="paranum">5</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>an enumeration literal;</LI></UL>
<DIV Class="paranum">6</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>a &quot;/=&quot; operator declared 
implicitly due to the declaration of &quot;=&quot; (see <A HREF="AA-6-6.html">6.6</A>);</LI></UL>
<DIV Class="paranum">7</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>any other implicitly declared 
subprogram unless it is a dispatching operation of a tagged type;</LI></UL>
<DIV Class="paranum">8</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>an inherited subprogram of a 
generic formal tagged type with unknown discriminants;&nbsp;</LI></UL>
<DIV Class="paranum">8.a.1/1</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B><SPAN class="insert1">Consider:</SPAN> 
</DIV>
<DIV Class="paranum">8.a.2/1</DIV>
<DIV Class="SmallExamples"><SPAN class="insert1"><B>package</B>&nbsp;P&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Root&nbsp;<B>is&nbsp;tagged&nbsp;null&nbsp;record</B>;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;Proc(X:&nbsp;Root);<BR>
<B>end</B>&nbsp;P;</SPAN></DIV>
<DIV Class="paranum">8.a.3/1</DIV>
<DIV Class="SmallExamples"><SPAN class="insert1"><B>generic</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Formal(&lt;&gt;)&nbsp;<B>is&nbsp;new</B>&nbsp;Root&nbsp;<B>with&nbsp;private</B>;<BR>
<B>package</B>&nbsp;G&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;...<BR>
<B>end</B>&nbsp;G;</SPAN></DIV>
<DIV Class="paranum">8.a.4/1</DIV>
<DIV Class="SmallExamples"><SPAN class="insert1"><B>package&nbsp;body</B>&nbsp;G&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;...<BR>
&nbsp;&nbsp;&nbsp;&nbsp;X:&nbsp;Formal&nbsp;:=&nbsp;...;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;...<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Proc(X);&nbsp;--&nbsp;<SPAN Class="roman"><I>This&nbsp;is&nbsp;a&nbsp;dispatching&nbsp;call&nbsp;in&nbsp;Instance,&nbsp;because</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>the&nbsp;actual&nbsp;type&nbsp;for&nbsp;Formal&nbsp;is&nbsp;class-wide.</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;...<BR>
&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Proc'Access&nbsp;would&nbsp;be&nbsp;illegal&nbsp;here,&nbsp;because&nbsp;it&nbsp;is&nbsp;of</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>convention&nbsp;Intrinsic,&nbsp;by&nbsp;the&nbsp;above&nbsp;rule.</I></SPAN><BR>
<B>end</B>&nbsp;G;</SPAN></DIV>
<DIV Class="paranum">8.a.5/1</DIV>
<DIV Class="SmallExamples"><SPAN class="insert1"><B>type</B>&nbsp;Actual&nbsp;<B>is&nbsp;new</B>&nbsp;Root&nbsp;<B>with</B>&nbsp;...;<BR>
<B>procedure</B>&nbsp;Proc(X:&nbsp;Actual);<BR>
<B>package</B>&nbsp;Instance&nbsp;<B>is&nbsp;new</B>&nbsp;G(Formal&nbsp;=&gt;&nbsp;Actual'Class);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>It&nbsp;is&nbsp;legal&nbsp;to&nbsp;pass&nbsp;in&nbsp;a&nbsp;class-wide&nbsp;actual,&nbsp;because&nbsp;Formal</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>has&nbsp;unknown&nbsp;discriminants.</I></SPAN></SPAN></DIV>
<DIV Class="paranum">8.a.6/1</DIV>
<DIV Class="Annotations"><SPAN class="insert1">Within Instance, all calls 
to Proc will be dispatching calls, so Proc doesn't really exist in machine 
code, so we wish to avoid taking 'Access of it. This rule applies to 
those cases where the actual type might be class-wide, and makes these 
Intrinsic, thus forbidding 'Access.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">9</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>an attribute that is a subprogram;</LI></UL>
<DIV Class="paranum">10/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00252.TXT">AI95-00252-01</A></I>} 
a subprogram declared immediately within a <SPAN Class="swiss"><A HREF="AA-9-4.html#S0198">protected_body</A></SPAN><SPAN class="insert2">;</SPAN><SPAN class="delete2">.</SPAN></LI></UL>
<DIV Class="paranum">10.1/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00252.TXT">AI95-00252-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00407.TXT">AI95-00407-01</A></I>} 
<SPAN class="insert2">any prefixed view of a subprogram (see <A HREF="AA-4-1-3.html">4.1.3</A>).</SPAN> 
</LI></UL>
<DIV Class="paranum">10.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Reason:&nbsp;</B>The profile 
of a prefixed view is different than the &ldquo;real&rdquo; profile of 
the subprogram (it doesn't have the first parameter), so we don't want 
to be able to take 'Access of it, as that would require generating a 
wrapper of some sort.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">11</DIV>
<UL Class="Bulleted">[The Access attribute is not allowed for Intrinsic 
subprograms.]&nbsp;</UL>
<DIV Class="paranum">11.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>The Intrinsic calling convention 
really represents any number of calling conventions at the machine code 
level; the compiler might have a different instruction sequence for each 
intrinsic. That's why the Access attribute is disallowed. We do not wish 
to require the implementation to generate an out of line body for an 
intrinsic.</DIV>
<DIV Class="paranum">11.b</DIV>
<DIV Class="Annotations">Whenever we wish to disallow the Access attribute 
in order to ease implementation, we make the subprogram Intrinsic. Several 
language-defined subprograms have &ldquo;<B>pragma</B> Convention(Intrinsic, 
...);&rdquo;. An implementation might actually implement this as &ldquo;<B>pragma</B> 
Import(Intrinsic, ...);&rdquo;, if there is really no body, and the implementation 
of the subprogram is built into the code generator.</DIV>
<DIV Class="paranum">11.c</DIV>
<DIV Class="Annotations">Subprograms declared in <SPAN Class="swiss">protected_bodies</SPAN> 
will generally have a special calling convention so as to pass along 
the identification of the current instance of the protected type. The 
convention is not <I>protected</I> since such local subprograms need 
not contain any &ldquo;locking&rdquo; logic since they are not callable 
via &ldquo;external&rdquo; calls; this rule prevents an access value 
designating such a subprogram from being passed outside the protected 
unit.</DIV>
<DIV Class="paranum">11.d</DIV>
<DIV Class="Annotations">The &ldquo;implicitly declared subprogram&rdquo; 
above refers to predefined operators (other than the &quot;=&quot; of 
a tagged type) and the inherited subprograms of untagged types.&nbsp;</DIV>
<DIV Class="paranum">12</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN STYLE="font-size: 80%">{<I>protected 
calling convention</I>}</SPAN> <A NAME="I3410"></A><SPAN STYLE="font-size: 80%">{<I>calling 
convention (protected)</I>}</SPAN> <A NAME="I3411"></A>The default calling 
convention is <I>protected</I> for a protected subprogram, and for an 
access-to-subprogram type with the reserved word <B>protected</B> in 
its definition.</LI></UL>
<DIV Class="paranum">13</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN STYLE="font-size: 80%">{<I>entry 
calling convention</I>}</SPAN> <A NAME="I3412"></A><SPAN STYLE="font-size: 80%">{<I>calling 
convention (entry)</I>}</SPAN> <A NAME="I3413"></A>The default calling 
convention is <I>entry</I> for an entry.</LI></UL>
<DIV Class="paranum">13.1/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00254.TXT">AI95-00254-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<SPAN class="insert2">The calling convention for an anonymous access-to-subprogram 
parameter or anonymous access-to-subprogram result is <I>protected</I> 
if the reserved word <B>protected</B> appears in its definition and otherwise 
is the convention of the subprogram that contains the parameter.</SPAN> 
</LI></UL>
<DIV Class="paranum">13.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Ramification:&nbsp;</B>The 
calling convention for other anonymous access-to-subprogram types is 
Ada.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">13.2/1</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>{<I><A HREF="defect1.html#8652/0011">8652/0011</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00117.TXT">AI95-00117-01</A></I>} 
<SPAN class="insert1">[If not specified above as Intrinsic, the calling 
convention for any inherited or overriding dispatching operation of a 
tagged type is that of the corresponding subprogram of the parent type.] 
The default calling convention for a new dispatching operation of a tagged 
type is the convention of the type.</SPAN>&nbsp;</LI></UL>
<DIV Class="paranum">13.a.1/1</DIV>
<DIV Class="Annotations"><SPAN class="insert1"><B>Reason:&nbsp;</B>The first 
rule is officially stated in <A HREF="AA-3-9-2.html">3.9.2</A>. The second 
is intended to make interfacing to foreign OOP languages easier, by making 
the default be that the type and operations all have the same convention.</SPAN> 
</DIV>
<DIV Class="paranum">14</DIV>
<DIV Class="Normal">Of these four conventions, only Ada and Intrinsic 
are allowed as a <I>convention_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
in a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Convention, Import, or Export.&nbsp;</DIV>
<DIV Class="paranum">14.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>The names of the <I>protected</I> 
and <I>entry</I> calling conventions cannot be used in the interfacing 
pragmas. Note that <B>protected</B> and <B>entry</B> are reserved words. 
</DIV>
<DIV Class="paranum">15/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>type conformance</I>}</SPAN> <A NAME="I3414"></A><SPAN STYLE="font-size: 80%">{<I>profile 
(type conformant)</I>}</SPAN> <A NAME="I3415"></A>Two profiles are <I>type 
conformant</I> if they have the same number of parameters, and both have 
a result if either does, and corresponding parameter and result types 
are the same, or, for access parameters<SPAN class="insert2">&nbsp;or access 
results</SPAN>, corresponding designated types are the same<SPAN class="insert2">, 
or corresponding designated profiles are type conformant</SPAN>. <SPAN STYLE="font-size: 80%">{<I>type 
profile: See profile, type conformant</I>}</SPAN> <A NAME="I3416"></A></DIV>
<DIV Class="paranum">15.a/2</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
For <SPAN class="insert2">anonymous access-to-object</SPAN><SPAN class="delete2">&nbsp;access</SPAN> 
parameters, the designated types have to be the same for type conformance, 
not the access types, since in general each access parameter has its 
own anonymous access type, created when the subprogram is called. Of 
course, corresponding parameters have to be either both access parameters 
or both not access parameters.</DIV>
<DIV Class="paranum">15.b/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<SPAN class="insert2">Similarly, for anonymous access-to-subprogram parameters, 
the designated profiles of the types, not the types themselves, have 
to be conformant.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">16/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10318.TXT">AI95-00318-02</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>mode conformance</I>}</SPAN> <A NAME="I3417"></A><SPAN STYLE="font-size: 80%">{<I>profile 
(mode conformant)</I>}</SPAN> <A NAME="I3418"></A>Two profiles are <I>mode 
conformant</I> if they are type-conformant, and corresponding parameters 
have identical modes, and, for access parameters<SPAN class="insert2">&nbsp;or access result types</SPAN>, the designated subtypes statically match<SPAN class="insert2">, 
or the designated profiles are subtype conformant.</SPAN> <SPAN STYLE="font-size: 80%">{<I>statically 
matching (required)</I> [partial]}</SPAN> <A NAME="I3419"></A></DIV>
<DIV Class="paranum">17</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>subtype conformance</I>}</SPAN> 
<A NAME="I3420"></A><SPAN STYLE="font-size: 80%">{<I>profile (subtype 
conformant)</I>}</SPAN> <A NAME="I3421"></A>Two profiles are <I>subtype 
conformant</I> if they are mode-conformant, corresponding subtypes of 
the profile statically match, and the associated calling conventions 
are the same. The profile of a generic formal subprogram is not subtype-conformant 
with any other profile. <SPAN STYLE="font-size: 80%">{<I>statically matching 
(required)</I> [partial]}</SPAN> <A NAME="I3422"></A></DIV>
<DIV Class="paranum">17.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>{<I>generic contract issue</I> 
[partial]} <A NAME="I3423"></A></DIV>
<DIV Class="paranum">18</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>full conformance 
(for profiles)</I>}</SPAN> <A NAME="I3424"></A><SPAN STYLE="font-size: 80%">{<I>profile 
(fully conformant)</I>}</SPAN> <A NAME="I3425"></A>Two profiles are <I>fully 
conformant</I> if they are subtype-conformant, and corresponding parameters 
have the same names and have <SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN>s 
that are fully conformant with one another.&nbsp;</DIV>
<DIV Class="paranum">18.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Full conformance requires 
subtype conformance, which requires the same calling conventions. However, 
the calling convention of the declaration and body of a subprogram or 
entry are always the same by definition.&nbsp;</DIV>
<DIV Class="paranum">19</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><SPAN STYLE="font-size: 80%">{<I>full 
conformance (for expressions)</I>}</SPAN> <A NAME="I3426"></A>Two expressions 
are <I>fully conformant</I> if, [after replacing each use of an operator 
with the equivalent <SPAN Class="swiss"><A HREF="AA-6-4.html#S0164">function_call</A></SPAN>:] 
</DIV>
<DIV Class="paranum">20</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>each constituent construct of one 
corresponds to an instance of the same syntactic category in the other, 
except that an expanded name may correspond to a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN> 
(or <SPAN Class="swiss"><A HREF="AA-2-5.html#S0015">character_literal</A></SPAN>) 
or to a different expanded name in the other; and</LI></UL>
<DIV Class="paranum">21</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>each <SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-2-5.html#S0015">character_literal</A></SPAN>, 
and <SPAN Class="swiss"><A HREF="AA-4-1-3.html#S0099">selector_name</A></SPAN> 
that is not part of the <SPAN Class="swiss"><A HREF="AA-4-1.html#S0093">prefix</A></SPAN> 
of an expanded name in one denotes the same declaration as the corresponding 
<SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-2-5.html#S0015">character_literal</A></SPAN>, 
or <SPAN Class="swiss"><A HREF="AA-4-1-3.html#S0099">selector_name</A></SPAN> 
in the other; and&nbsp;</LI></UL>
<DIV Class="paranum">21.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Note that it doesn't say 
&ldquo;respectively&rdquo; because a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN> 
can correspond to a <SPAN Class="swiss"><A HREF="AA-4-1-3.html#S0099">selector_name</A></SPAN>, 
and vice-versa, by the previous bullet. This rule allows the <SPAN Class="swiss"><A HREF="AA-4-1.html#S0093">prefix</A></SPAN> 
of an expanded name to be removed, or replaced with a different <SPAN Class="swiss"><A HREF="AA-4-1.html#S0093">prefix</A></SPAN> 
that denotes a renaming of the same entity. However, it does not allow 
a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-4-1-3.html#S0099">selector_name</A></SPAN> 
to be replaced with one denoting a distinct renaming (except for <SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN>s 
and <SPAN Class="swiss"><A HREF="AA-4-1-3.html#S0099">selector_name</A></SPAN>s 
in <SPAN Class="swiss"><A HREF="AA-4-1.html#S0093">prefix</A></SPAN>es 
of expanded names). Note that calls using operator notation are equivalent 
to calls using prefix notation.</DIV>
<DIV Class="paranum">21.b</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em">Given the following 
declarations:&nbsp;</DIV>
<DIV Class="paranum">21.c</DIV>
<DIV Class="SmallExamples"><B>package</B>&nbsp;A&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;F(X&nbsp;:&nbsp;Integer&nbsp;:=&nbsp;1)&nbsp;<B>return</B>&nbsp;Boolean;<BR>
<B>end</B>&nbsp;A;</DIV>
<DIV Class="paranum">21.d</DIV>
<DIV Class="SmallExamples"><B>with</B>&nbsp;A;<BR>
<B>package</B>&nbsp;B&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>package</B>&nbsp;A_View&nbsp;<B>renames</B>&nbsp;A;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;F_View(X&nbsp;:&nbsp;Integer&nbsp;:=&nbsp;9999)&nbsp;<B>return</B>&nbsp;Boolean&nbsp;<B>renames</B>&nbsp;F;<BR>
<B>end</B>&nbsp;B;</DIV>
<DIV Class="paranum">21.e</DIV>
<DIV Class="SmallExamples"><B>with</B>&nbsp;A,&nbsp;B;&nbsp;<B>use</B>&nbsp;A,&nbsp;B;<BR>
<B>procedure</B>&nbsp;Main&nbsp;<B>is</B>&nbsp;...</DIV>
<DIV Class="paranum">21.f</DIV>
<DIV Class="Annotations">Within Main, the expressions &ldquo;F&rdquo;, 
&ldquo;A.F&rdquo;, &ldquo;B.A_View.F&rdquo;, and &ldquo;A_View.F&rdquo; 
are all fully conformant with one another. However, &ldquo;F&rdquo; and 
&ldquo;F_View&rdquo; are not fully conformant. If they were, it would 
be bad news, since the two denoted views have different <SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN>s. 
</DIV>
<DIV Class="paranum">21.1/1</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>{<I><A HREF="defect1.html#8652/0018">8652/0018</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00175.TXT">AI95-00175-01</A></I>} 
<SPAN class="insert1">each <SPAN Class="swiss"><A HREF="AA-4-1-4.html#S0101">attribute_designator</A></SPAN> 
in one must be the same as the corresponding <SPAN Class="swiss"><A HREF="AA-4-1-4.html#S0101">attribute_designator</A></SPAN> 
in the other; and</SPAN></LI></UL>
<DIV Class="paranum">22</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>each <SPAN Class="swiss"><A HREF="AA-4-4.html#S0120">primary</A></SPAN> 
that is a literal in one has the same value as the corresponding literal 
in the other.&nbsp;</LI></UL>
<DIV Class="paranum">22.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>The literals may be written 
differently.&nbsp;</DIV>
<DIV Class="paranum">22.b</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Note that the above definition 
makes full conformance a transitive relation.&nbsp;</DIV>
<DIV Class="paranum">23</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>full conformance 
(for known_discriminant_parts)</I>}</SPAN> <A NAME="I3427"></A>Two <SPAN Class="swiss"><A HREF="AA-3-7.html#S0061">known_discriminant_part</A></SPAN>s 
are <I>fully conformant</I> if they have the same number of discriminants, 
and discriminants in the same positions have the same names, statically 
matching subtypes, and <SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN>s 
that are fully conformant with one another. <SPAN STYLE="font-size: 80%">{<I>statically 
matching (required)</I> [partial]}</SPAN> <A NAME="I3428"></A></DIV>
<DIV Class="paranum">24</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>full conformance 
(for discrete_subtype_definitions)</I>}</SPAN> <A NAME="I3429"></A>Two 
<SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN>s 
are <I>fully conformant</I> if they are both <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0027">subtype_indication</A></SPAN>s 
or are both <SPAN Class="swiss"><A HREF="AA-3-5.html#S0037">range</A></SPAN>s, 
the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN>s 
(if any) denote the same subtype, and the corresponding <SPAN Class="swiss"><A HREF="AA-4-4.html#S0117">simple_expression</A></SPAN>s 
of the <SPAN Class="swiss"><A HREF="AA-3-5.html#S0037">range</A></SPAN>s 
(if any) fully conform.&nbsp;</DIV>
<DIV Class="paranum">24.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>In the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0027">subtype_indication</A></SPAN> 
case, any ranges have to <I>be</I> corresponding; that is, two <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0027">subtype_indication</A></SPAN>s 
cannot conform unless both or neither has a <SPAN Class="swiss"><A HREF="AA-3-5.html#S0037">range</A></SPAN>. 
</DIV>
<DIV Class="paranum">24.b</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>This definition is used in 
<A HREF="AA-9-5-2.html">9.5.2</A>, &ldquo;<A HREF="AA-9-5-2.html">Entries 
and Accept Statements</A>&rdquo; for the conformance required between 
the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN>s 
of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
for a family of entries and the corresponding <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0206">entry_index_specification</A></SPAN> 
of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN>. 
</DIV>
<DIV Class="paranum">24.1/2</DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00397.TXT">AI95-00397-01</A></I>} 
<SPAN class="insert2"><SPAN STYLE="font-size: 80%">{<I>prefixed view 
profile</I>}</SPAN> <A NAME="I3430"></A>The <I>prefixed view profile</I> 
of a subprogram is the profile obtained by omitting the first parameter 
of that subprogram. There is no prefixed view profile for a parameterless 
subprogram. For the purposes of defining subtype and mode conformance, 
the convention of a prefixed view profile is considered to match that 
of either an entry or a protected operation.</SPAN></DIV>
<DIV Class="paranum">24.c/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Discussion:&nbsp;</B>This 
definition is used to define how primitive subprograms of interfaces 
match operations in task and protected type definitions (see <A HREF="AA-9-1.html">9.1</A> 
and <A HREF="AA-9-4.html">9.4</A>).</SPAN>&nbsp;</DIV>
<DIV Class="paranum">24.d/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Reason:&nbsp;</B>The weird 
rule about conventions is pretty much required for synchronized interfaces 
to make any sense. There will be wrappers all over the place for interfaces 
anyway. Of course, this doesn't imply that entries have the same convention 
as protected operations.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Implementation Permissions</H4>
<DIV Class="paranum">25</DIV>
<DIV Class="Normal">An implementation may declare an operator declared 
in a language-defined library unit to be intrinsic.</DIV>

<H4 Class="centered">Extensions to Ada 83</H4>
<DIV Class="paranum">25.a</DIV>
<DIV Class="Annotations">{<I>extensions to Ada 83</I>} <A NAME="I3431"></A>The 
rules for full conformance are relaxed &mdash; they are now based on 
the structure of constructs, rather than the sequence of lexical elements. 
This implies, for example, that &quot;(X, Y: T)&quot; conforms fully 
with &quot;(X: T; Y: T)&quot;, and &quot;(X: T)&quot; conforms fully 
with &quot;(X: <B>in</B> T)&quot;.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">25.b/2</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0011">8652/0011</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00117.TXT">AI95-00117-01</A></I>} 
<SPAN class="insert2"><B>Corrigendum:</B> Clarified that the default 
convention is Ada. Also clarified that the convention of a primitive 
operation of a tagged type is the same as that of the type.</SPAN></DIV>
<DIV Class="paranum">25.c/2</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0018">8652/0018</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00175.TXT">AI95-00175-01</A></I>} 
<SPAN class="insert2"><B>Corrigendum:</B> Added wording to ensure that 
two attributes conform only if they have the same <SPAN Class="swiss"><A HREF="AA-4-1-4.html#S0101">attribute_designator</A></SPAN>.</SPAN></DIV>
<DIV Class="paranum">25.d/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00252.TXT">AI95-00252-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00254.TXT">AI95-00254-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00407.TXT">AI95-00407-01</A></I>} 
<SPAN class="insert2">Defined the calling convention for anonymous access-to-subprogram 
types and for prefixed views of subprograms (see <A HREF="AA-4-1-3.html">4.1.3</A>).</SPAN></DIV>
<DIV Class="paranum">25.e/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10318.TXT">AI95-00318-02</A></I>} 
<SPAN class="insert2">Defined the conformance of access result types 
(see <A HREF="AA-6-1.html">6.1</A>).</SPAN></DIV>
<DIV Class="paranum">25.f/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00397.TXT">AI95-00397-01</A></I>} 
<SPAN class="insert2">Defined the prefixed view profile of subprograms 
for later use.</SPAN></DIV>
<DIV Class="paranum">25.g/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<SPAN class="insert2">Defined the conformance of anonymous access-to-subprogram 
parameters.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-6-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-6-3-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
