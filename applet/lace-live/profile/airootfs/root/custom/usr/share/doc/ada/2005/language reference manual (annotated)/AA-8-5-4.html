<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Subprogram Renaming Declarations</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert1 {text-decoration: underline; color: rgb(0,51,51) }
    SPAN.delete1 {text-decoration: line-through; color: rgb(0,51,51) }
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Wide {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.WideAnnotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    DIV.SmallExamples {font-family: "Courier New", monospace; font-size: 72%; line-height: 122%; margin-left: 9.6em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-8-5-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-8-5-5.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>8.5.4 Subprogram Renaming Declarations</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal">A <SPAN Class="swiss"><A HREF="AA-8-5-4.html#S0186">subprogram_renaming_declaration</A></SPAN> 
can serve as the completion of a <SPAN Class="swiss"><A HREF="AA-6-1.html#S0148">subprogram_declaration</A></SPAN>; 
<SPAN STYLE="font-size: 80%">{<I>renaming-as-body</I>}</SPAN> <A NAME="I3795"></A>such 
a <SPAN Class="swiss"><A HREF="AA-8-5.html#S0182">renaming_declaration</A></SPAN> 
is called a <I>renaming-as-body</I>. <SPAN STYLE="font-size: 80%">{<I>renaming-as-declaration</I>}</SPAN> 
<A NAME="I3796"></A>A <SPAN Class="swiss"><A HREF="AA-8-5-4.html#S0186">subprogram_renaming_declaration</A></SPAN> 
that is not a completion is called a <I>renaming-as-declaration</I>[, 
and is used to rename a subprogram (possibly an enumeration literal) 
or an entry].&nbsp;</DIV>
<DIV Class="paranum">1.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>A renaming-as-body is a 
declaration, as defined in Section 3.&nbsp;</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2/2</DIV>
<DIV Class="SyntaxIndented">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-20218.TXT">AI95-00218-03</A></I>} 
<SPAN Class="swiss">subprogram_renaming_declaration</SPAN><A NAME="I3797"></A><A NAME="S0186"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><SPAN class="insert2"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;[<A NAME="I3798"></A><SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN>]<BR>
&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><A NAME="I3799"></A><SPAN Class="swiss"><A HREF="AA-6-1.html#S0149">subprogram_specification</A></SPAN>&nbsp;<B>renames</B>&nbsp;<I>callable_entity_</I><A NAME="I3800"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>;</DIV>

<H4 Class="centered">Name Resolution Rules</H4>
<DIV Class="paranum">3</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>expected profile 
(subprogram_renaming_declaration)</I> [partial]}</SPAN> <A NAME="I3801"></A>The 
expected profile for the <I>callable_entity_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
is the profile given in the <SPAN Class="swiss"><A HREF="AA-6-1.html#S0149">subprogram_specification</A></SPAN>. 
</DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">4</DIV>
<DIV Class="Normal">The profile of a renaming-as-declaration shall be 
mode-conformant with that of the renamed callable entity. <SPAN STYLE="font-size: 80%">{<I>mode 
conformance (required)</I>}</SPAN> <A NAME="I3802"></A></DIV>
<DIV Class="paranum">4.1/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00423.TXT">AI95-00423-01</A></I>} 
<SPAN class="insert2">For a parameter or result subtype of the <SPAN Class="swiss"><A HREF="AA-6-1.html#S0149">subprogram_specification</A></SPAN> 
that has an explicit <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>:</SPAN></DIV>
<DIV Class="paranum">4.2/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">if the <I>callable_entity_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
denotes a generic formal subprogram of a generic unit <I>G</I>, and the 
<SPAN Class="swiss"><A HREF="AA-8-5-4.html#S0186">subprogram_renaming_declaration</A></SPAN> 
occurs within the body of a generic unit <I>G</I> or within the body 
of a generic unit declared within the declarative region of the generic 
unit <I>G</I>, then the corresponding parameter or result subtype of 
the formal subprogram of <I>G</I> shall have a <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>;</SPAN></LI></UL>
<DIV Class="paranum">4.3/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">otherwise, the 
subtype of the corresponding parameter or result type of the renamed 
callable entity shall exclude null. <SPAN STYLE="font-size: 80%">{<I>generic 
contract issue</I> [partial]}</SPAN> <A NAME="I3803"></A>In addition 
to the places where Legality Rules normally apply (see <A HREF="AA-12-3.html">12.3</A>), 
this rule applies also in the private part of an instance of a generic 
unit.</SPAN>&nbsp;</LI></UL>
<DIV Class="paranum">4.a/2</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em"><SPAN class="insert2"><B>Reason: 
</B>This rule prevents &ldquo;lying&rdquo;. <B>Null</B> must never be 
the value of a parameter or result with an explicit <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>. 
The first bullet is an assume-the-worst rule which prevents trouble in 
generic bodies (including bodies of child units) when the formal subtype 
excludes null implicitly.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">5/1</DIV>
<DIV Class="Normal">{<I><A HREF="defect1.html#8652/0027">8652/0027</A></I>} 
{<I><A HREF="defect1.html#8652/0028">8652/0028</A></I>} {<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00135.TXT">AI95-00135-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00145.TXT">AI95-00145-01</A></I>} 
The profile of a renaming-as-body <SPAN class="delete1">shall be subtype-conformant 
with that of the renamed callable entity, and&nbsp;</SPAN>shall conform fully 
to that of the declaration it completes. <SPAN STYLE="font-size: 80%">{<I>full 
conformance (required)</I>}</SPAN> <A NAME="I3804"></A>If the renaming-as-body 
completes that declaration before the subprogram it declares is frozen, 
<SPAN class="insert1">the profile shall be mode-conformant <SPAN STYLE="font-size: 80%">{<I>mode 
conformance (required)</I>}</SPAN> <A NAME="I3805"></A>with that of the 
renamed callable entity and&nbsp;</SPAN>the subprogram it declares takes its 
convention from the renamed subprogram; otherwise<SPAN class="insert1">, 
the profile shall be subtype-conformant with that of the renamed callable 
entity and</SPAN> the convention of the renamed subprogram shall not 
be Intrinsic. <SPAN STYLE="font-size: 80%">{<I>subtype conformance (required)</I>}</SPAN> 
<A NAME="I3806"></A><SPAN class="insert1">A renaming-as-body is illegal 
if the declaration occurs before the subprogram whose declaration it 
completes is frozen, and the renaming renames the subprogram itself, 
through one or more subprogram renaming declarations, none of whose subprograms 
has been frozen.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">5.a/1</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>The <SPAN class="insert1">otherwise 
part of the second sentence</SPAN><SPAN class="delete1">&nbsp;first part of 
the first sentence</SPAN> is to allow an implementation of a renaming-as-body 
as a single jump instruction to the target subprogram. Among other things, 
this prevents a subprogram from being completed with a renaming of an 
entry. (In most cases, the target of the jump can be filled in at link 
time. In some cases, such as a renaming of a name like &quot;A(I).<B>all</B>&quot;, 
an indirect jump is needed. Note that the name is evaluated at renaming 
time, not at call time.)</DIV>
<DIV Class="paranum">5.a.1/1</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0028">8652/0028</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00145.TXT">AI95-00145-01</A></I>} 
<SPAN class="insert1">The first part of the second sentence is intended 
to allow renaming-as-body of predefined operators before the <SPAN Class="swiss"><A HREF="AA-6-1.html#S0148">subprogram_declaration</A></SPAN> 
is frozen. For some types (such as integer types), the parameter type 
for operators is the base type, and it would be very strange for<BR>
<TT>&nbsp;&nbsp;&nbsp;<B>function</B> Equal (A, B : <B>in</B> T) <B>return</B> 
Boolean;</TT><BR>
<TT>&nbsp;&nbsp;&nbsp;<B>function</B> Equal (A, B : <B>in</B> T) <B>return</B> 
Boolean <B>renames</B> &quot;=&quot;;</TT><BR>
to be illegal. (Note that predefined operators cannot be renamed this 
way after the <SPAN Class="swiss"><A HREF="AA-6-1.html#S0148">subprogram_declaration</A></SPAN> 
is frozen, as they have convention Intrinsic.)</SPAN></DIV>
<DIV Class="paranum">5.b/1</DIV>
<DIV Class="Annotations">The <SPAN class="delete1">second part of the 
</SPAN>first sentence is the normal rule for completions of <SPAN Class="swiss"><A HREF="AA-6-1.html#S0148">subprogram_declaration</A></SPAN>s. 
</DIV>
<DIV Class="paranum">5.c</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>An <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN>, 
unlike a <SPAN Class="swiss"><A HREF="AA-6-1.html#S0148">subprogram_declaration</A></SPAN>, 
cannot be completed with a <SPAN Class="swiss"><A HREF="AA-8-5.html#S0182">renaming_declaration</A></SPAN>. 
Nor can a <SPAN Class="swiss"><A HREF="AA-12-1.html#S0253">generic_subprogram_declaration</A></SPAN>.</DIV>
<DIV Class="paranum">5.d</DIV>
<DIV Class="Annotations">The syntax rules prevent a protected subprogram 
declaration from being completed by a renaming. This is fortunate, because 
it allows us to avoid worrying about whether the implicit protected object 
parameter of a protected operation is involved in the conformance rules. 
</DIV>
<DIV Class="paranum">5.d.1/1</DIV>
<DIV Class="Annotations"><SPAN class="insert1"><B>Reason:&nbsp;</B></SPAN>{<I><A HREF="defect1.html#8652/0027">8652/0027</A></I>} 
<SPAN class="insert1"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00135.TXT">AI95-00135-01</A></I>} 
<SPAN class="insert1">Circular renames before freezing is illegal, as 
the compiler would not be able to determine the convention of the subprogram. 
Other circular renames are handled below; see Bounded (Run-Time) Errors.</SPAN> 
</DIV>
<DIV Class="paranum">5.1/2</DIV>
<DIV Class="Normal">&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00228.TXT">AI95-00228-01</A></I>} 
<SPAN class="insert2">The <I>callable_entity_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
of a renaming shall not denote a subprogram that requires overriding 
(see <A HREF="AA-3-9-3.html">3.9.3</A>).</SPAN>&nbsp;</DIV>
<DIV Class="paranum">5.d.2/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Reason:&nbsp;</B></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00228.TXT">AI95-00228-01</A></I>} 
<SPAN class="insert2">Such a rename cannot be of the inherited subprogram 
(which requires overriding because it cannot be called), and thus cannot 
squirrel away a subprogram (see below). That would be confusing, so we 
make it illegal. The renaming is allowed after the overriding, as then 
the <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> will 
denote the overriding subprogram, not the inherited one.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">5.2/2</DIV>
<DIV Class="Normal">&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00228.TXT">AI95-00228-01</A></I>} 
<SPAN class="insert2">The <I>callable_entity_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
of a renaming-as-body shall not denote an abstract subprogram.</SPAN> 
</DIV>
<DIV Class="paranum">5.d.3/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Reason:&nbsp;</B></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00228.TXT">AI95-00228-01</A></I>} 
<SPAN class="insert2">Such a subprogram has no body, so it hardly can 
replace one in the program.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">6</DIV>
<DIV Class="Normal">A <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
that denotes a formal parameter of the <SPAN Class="swiss"><A HREF="AA-6-1.html#S0149">subprogram_specification</A></SPAN> 
is not allowed within the <I>callable_entity_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>. 
</DIV>
<DIV Class="paranum">6.a</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em"><B>Reason:&nbsp;</B>This 
is to prevent things like this:&nbsp;</DIV>
<DIV Class="paranum">6.b</DIV>
<DIV Class="SmallExamples"><B>function</B>&nbsp;F(X&nbsp;:&nbsp;Integer)&nbsp;<B>return</B>&nbsp;Integer&nbsp;<B>renames</B>&nbsp;Table(X).<B>all</B>;</DIV>
<DIV Class="paranum">6.c</DIV>
<DIV Class="WideAnnotations" Style="margin-bottom: 0.4em">A similar 
rule in <A HREF="AA-6-1.html">6.1</A> forbids things like this:&nbsp;</DIV>
<DIV Class="paranum">6.d</DIV>
<DIV Class="SmallExamples"><B>function</B>&nbsp;F(X&nbsp;:&nbsp;Integer;&nbsp;Y&nbsp;:&nbsp;Integer&nbsp;:=&nbsp;X)&nbsp;<B>return</B>&nbsp;Integer;</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">7</DIV>
<DIV Class="Normal">A renaming-as-declaration declares a new view of 
the renamed entity. The profile of this new view takes its subtypes, 
parameter modes, and calling convention from the original profile of 
the callable entity, while taking the formal parameter <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>s 
and <SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN>s 
from the profile given in the <SPAN Class="swiss"><A HREF="AA-8-5-4.html#S0186">subprogram_renaming_declaration</A></SPAN>. 
The new view is a function or procedure, never an entry.&nbsp;</DIV>
<DIV Class="paranum">7.a</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B>When renaming an entry 
as a procedure, the compile-time rules apply as if the new view is a 
procedure, but the run-time semantics of a call are that of an entry 
call.&nbsp;</DIV>
<DIV Class="paranum">7.b</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>For example, it is illegal 
for the <SPAN Class="swiss"><A HREF="AA-9-5-3.html#S0207">entry_call_statement</A></SPAN> 
of a <SPAN Class="swiss"><A HREF="AA-9-7-2.html#S0219">timed_entry_call</A></SPAN> 
to call the new view. But what looks like a procedure call will do things 
like barrier waiting.</DIV>
<DIV Class="paranum">7.b.1/2</DIV>
<DIV Class="Annotations">{<I><A HREF="defect2.html#8652/0105">8652/0105</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00211.TXT">AI95-00211-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00228.TXT">AI95-00228-01</A></I>} 
<SPAN class="insert1">All properties of the renamed entity are inherited 
by the new view unless otherwise stated by this International Standard. 
In particular, if the renamed entity is abstract</SPAN><SPAN class="insert1"><SPAN class="delete2">&nbsp;or requires overriding (see <A HREF="AA-3-9-3.html">3.9.3</A>)</SPAN></SPAN><SPAN class="insert1">, 
the new view also is abstract</SPAN><SPAN class="insert2">.</SPAN><SPAN class="insert1"></SPAN><SPAN class="insert1"><SPAN class="delete2">&nbsp;or requires overriding. (The renaming will often be illegal in these 
cases, as a renaming cannot be overridden.)</SPAN></SPAN><SPAN class="insert1"></SPAN> 
</DIV>

<H4 Class="centered">Dynamic Semantics</H4>
<DIV Class="paranum">7.1/1</DIV>
<DIV Class="Normal">&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0014">8652/0014</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00064.TXT">AI95-00064-01</A></I>} 
<SPAN class="insert1">For a call to a subprogram whose body is given 
as a renaming-as-body, the execution of the renaming-as-body is equivalent 
to the execution of a <SPAN Class="swiss"><A HREF="AA-6-3.html#S0162">subprogram_body</A></SPAN> 
that simply calls the renamed subprogram with its formal parameters as 
the actual parameters and, if it is a function, returns the value of 
the call.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">7.b.2/1</DIV>
<DIV Class="Annotations"><SPAN class="insert1"><B>Ramification:&nbsp;</B>This 
implies that the subprogram completed by the renaming-as-body has its 
own elaboration check.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">8</DIV>
<DIV Class="Normal">For a call on a renaming of a dispatching subprogram 
that is overridden, if the overriding occurred before the renaming, then 
the body executed is that of the overriding declaration, even if the 
overriding declaration is not visible at the place of the renaming; otherwise, 
the inherited or predefined subprogram is called.&nbsp;</DIV>
<DIV Class="paranum">8.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>Note that whether or not 
the renaming is itself primitive has nothing to do with the renamed subprogram.</DIV>
<DIV Class="paranum">8.b</DIV>
<DIV Class="Annotations">Note that the above rule is only for tagged 
types.</DIV>
<DIV Class="paranum">8.c</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em">Consider the following 
example:&nbsp;</DIV>
<DIV Class="paranum">8.d</DIV>
<DIV Class="SmallExamples"><B>package</B>&nbsp;P&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;T&nbsp;<B>is</B>&nbsp;<B>tagged</B>&nbsp;<B>null</B>&nbsp;<B>record</B>;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;Predefined_Equal(X,&nbsp;Y&nbsp;:&nbsp;T)&nbsp;<B>return</B>&nbsp;Boolean&nbsp;<B>renames</B>&nbsp;&quot;=&quot;;<BR>
<B>private</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;=&quot;(X,&nbsp;Y&nbsp;:&nbsp;T)&nbsp;<B>return</B>&nbsp;Boolean;&nbsp;--<SPAN Class="roman"><I>&nbsp;Override&nbsp;predefined&nbsp;&quot;=&quot;.</I></SPAN><BR>
<B>end</B>&nbsp;P;</DIV>
<DIV Class="paranum">8.e</DIV>
<DIV Class="SmallExamples"><B>with</B>&nbsp;P;&nbsp;<B>use</B>&nbsp;P;<BR>
<B>package</B>&nbsp;Q&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;User_Defined_Equal(X,&nbsp;Y&nbsp;:&nbsp;T)&nbsp;<B>return</B>&nbsp;Boolean&nbsp;<B>renames</B>&nbsp;P.&quot;=&quot;;<BR>
<B>end</B>&nbsp;Q;</DIV>
<DIV Class="paranum">8.f</DIV>
<DIV Class="Annotations">A call on Predefined_Equal will execute the 
predefined equality operator of T, whereas a call on User_Defined_Equal 
will execute the body of the overriding declaration in the private part 
of P.</DIV>
<DIV Class="paranum">8.g</DIV>
<DIV Class="Annotations">Thus a renaming allows one to squirrel away 
a copy of an inherited or predefined subprogram before later overriding 
it.{<I>squirrel away</I>} <A NAME="I3807"></A></DIV>

<H4 Class="centered">Bounded (Run-Time) Errors</H4>
<DIV Class="paranum">8.1/1</DIV>
<DIV Class="Normal">&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0027">8652/0027</A></I>} 
<SPAN class="insert1"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00135.TXT">AI95-00135-01</A></I>} 
<SPAN class="insert1"><SPAN STYLE="font-size: 80%">{<I>Program_Error 
(raised by failure of run-time check)</I>}</SPAN> <A NAME="I3808"></A><SPAN STYLE="font-size: 80%">{<I>Storage_Error 
(raised by failure of run-time check)</I>}</SPAN> <A NAME="I3809"></A>If 
a subprogram directly or indirectly renames itself, then it is a bounded 
error to call that subprogram. Possible consequences are that Program_Error 
or Storage_Error is raised, or that the call results in infinite recursion.</SPAN> 
</DIV>
<DIV Class="paranum">8.g.1/1</DIV>
<DIV Class="Annotations"><SPAN class="insert1"><B>Reason:&nbsp;</B></SPAN>{<I><A HREF="defect1.html#8652/0027">8652/0027</A></I>} 
<SPAN class="insert1"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00135.TXT">AI95-00135-01</A></I>} 
<SPAN class="insert1">This has to be a bounded error, as it is possible 
for a renaming-as-body appearing in a package body to cause this problem. 
Thus it is not possible in general to detect this problem at compile 
time.</SPAN>&nbsp;</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">9</DIV>
<DIV Class="Notes">12&nbsp;&nbsp;A procedure can only be renamed as a 
procedure. A function whose <SPAN Class="swiss"><A HREF="AA-6-1.html#S0153">defining_designator</A></SPAN> 
is either an <SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
or an <SPAN Class="swiss"><A HREF="AA-6-1.html#S0155">operator_symbol</A></SPAN> 
can be renamed with either an <SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
or an <SPAN Class="swiss"><A HREF="AA-6-1.html#S0155">operator_symbol</A></SPAN>; 
for renaming as an operator, the subprogram specification given in the 
<SPAN Class="swiss"><A HREF="AA-8-5.html#S0182">renaming_declaration</A></SPAN> 
is subject to the rules given in <A HREF="AA-6-6.html">6.6</A> for operator 
declarations. Enumeration literals can be renamed as functions; similarly, 
<SPAN Class="swiss"><A HREF="AA-4-1-4.html#S0100">attribute_reference</A></SPAN>s 
that denote functions (such as references to Succ and Pred) can be renamed 
as functions. An entry can only be renamed as a procedure; the new <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
is only allowed to appear in contexts that allow a procedure <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>. 
An entry of a family can be renamed, but an entry family cannot be renamed 
as a whole.</DIV>
<DIV Class="paranum">10</DIV>
<DIV Class="Notes">13&nbsp;&nbsp;The operators of the root numeric types 
cannot be renamed because the types in the profile are anonymous, so 
the corresponding specifications cannot be written; the same holds for 
certain attributes, such as Pos.</DIV>
<DIV Class="paranum">11</DIV>
<DIV Class="Notes">14&nbsp;&nbsp;Calls with the new <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
of a renamed entry are <SPAN Class="swiss"><A HREF="AA-6-4.html#S0163">procedure_call_statement</A></SPAN>s 
and are not allowed at places where the syntax requires an <SPAN Class="swiss"><A HREF="AA-9-5-3.html#S0207">entry_call_statement</A></SPAN> 
in <SPAN Class="swiss">conditional_</SPAN> and <SPAN Class="swiss"><A HREF="AA-9-7-2.html#S0219">timed_entry_call</A></SPAN>s, 
nor in an <SPAN Class="swiss"><A HREF="AA-9-7-4.html#S0223">asynchronous_select</A></SPAN>; 
similarly, the Count attribute is not available for the new <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>.</DIV>
<DIV Class="paranum">12</DIV>
<DIV Class="Notes">15&nbsp;&nbsp;The primitiveness of a renaming-as-declaration 
is determined by its profile, and by where it occurs, as for any declaration 
of (a view of) a subprogram; primitiveness is not determined by the renamed 
view. In order to perform a dispatching call, the subprogram name has 
to denote a primitive subprogram, not a non-primitive renaming of a primitive 
subprogram.&nbsp;</DIV>
<DIV Class="paranum">12.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>A <SPAN Class="swiss"><A HREF="AA-8-5-4.html#S0186">subprogram_renaming_declaration</A></SPAN> 
could more properly be called <SPAN Class="swiss">renaming_as_subprogram_declaration</SPAN>, 
since you're renaming something as a subprogram, but you're not necessarily 
renaming a subprogram. But that's too much of a mouthful. Or, alternatively, 
we could call it a <SPAN Class="swiss">callable_entity_renaming_declaration</SPAN>, 
but that's even worse. Not only is it a mouthful, it emphasizes the entity 
being renamed, rather than the new view, which we think is a bad idea. 
We'll live with the oddity.&nbsp;</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">13</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><I>Examples of subprogram 
renaming declarations:</I>&nbsp;</DIV>
<DIV Class="paranum">14</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;My_Write(C&nbsp;:&nbsp;<B>in</B>&nbsp;Character)&nbsp;<B>renames</B>&nbsp;Pool(K).Write;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;see&nbsp;<A HREF="AA-4-1-3.html">4.1.3</A></I></SPAN></DIV>
<DIV Class="paranum">15</DIV>
<DIV Class="Examples"><B>function</B>&nbsp;Real_Plus(Left,&nbsp;Right&nbsp;:&nbsp;Real&nbsp;&nbsp;&nbsp;)&nbsp;<B>return</B>&nbsp;Real&nbsp;&nbsp;&nbsp;&nbsp;<B>renames</B>&nbsp;&quot;+&quot;;<BR>
<B>function</B>&nbsp;Int_Plus&nbsp;(Left,&nbsp;Right&nbsp;:&nbsp;Integer)&nbsp;<B>return</B>&nbsp;Integer&nbsp;<B>renames</B>&nbsp;&quot;+&quot;;</DIV>
<DIV Class="paranum">16</DIV>
<DIV Class="Examples"><B>function</B>&nbsp;Rouge&nbsp;<B>return</B>&nbsp;Color&nbsp;<B>renames</B>&nbsp;Red;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;see&nbsp;<A HREF="AA-3-5-1.html">3.5.1</A></I></SPAN><BR>
<B>function</B>&nbsp;Rot&nbsp;&nbsp;&nbsp;<B>return</B>&nbsp;Color&nbsp;<B>renames</B>&nbsp;Red;<BR>
<B>function</B>&nbsp;Rosso&nbsp;<B>return</B>&nbsp;Color&nbsp;<B>renames</B>&nbsp;Rouge;</DIV>
<DIV Class="paranum">17</DIV>
<DIV Class="Examples"><B>function</B>&nbsp;Next(X&nbsp;:&nbsp;Color)&nbsp;<B>return</B>&nbsp;Color&nbsp;<B>renames</B>&nbsp;Color'Succ;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="AA-3-5-1.html">3.5.1</A></I></SPAN></DIV>
<DIV Class="paranum">18</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em"><I>Example of a subprogram 
renaming declaration with new parameter names:</I>&nbsp;</DIV>
<DIV Class="paranum">19</DIV>
<DIV Class="Examples"><B>function</B>&nbsp;&quot;*&quot;&nbsp;(X,Y&nbsp;:&nbsp;Vector)&nbsp;<B>return</B>&nbsp;Real&nbsp;<B>renames</B>&nbsp;Dot_Product;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="AA-6-1.html">6.1</A></I></SPAN></DIV>
<DIV Class="paranum">20</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em"><I>Example of a subprogram 
renaming declaration with a new default expression:</I>&nbsp;</DIV>
<DIV Class="paranum">21</DIV>
<DIV Class="Examples"><B>function</B>&nbsp;Minimum(L&nbsp;:&nbsp;Link&nbsp;:=&nbsp;Head)&nbsp;<B>return</B>&nbsp;Cell&nbsp;<B>renames</B>&nbsp;Min_Cell;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="AA-6-1.html">6.1</A></I></SPAN></DIV>

<H4 Class="centered">Extensions to Ada 95</H4>
<DIV Class="paranum">21.a/2</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0028">8652/0028</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00145.TXT">AI95-00145-01</A></I>} 
<SPAN class="insert2">{<I>extensions to Ada 95</I>} <A NAME="I3810"></A><B>Corrigendum:</B> 
Allowed a renaming-as-body to be just mode conformant with the specification 
if the subprogram is not yet frozen.</SPAN></DIV>
<DIV Class="paranum">21.b/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-20218.TXT">AI95-00218-03</A></I>} 
<SPAN class="insert2"><SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">Overriding_indicator</A></SPAN> 
(see <A HREF="AA-8-3-1.html">8.3.1</A>) is optionally added to subprogram 
renamings.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">21.c/2</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0014">8652/0014</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00064.TXT">AI95-00064-01</A></I>} 
<SPAN class="insert2"><B>Corrigendum:</B> Described the semantics of 
renaming-as-body, so that the location of elaboration checks is clear.</SPAN></DIV>
<DIV Class="paranum">21.d/2</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0027">8652/0027</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00135.TXT">AI95-00135-01</A></I>} 
<SPAN class="insert2"><B>Corrigendum:</B> Clarified that circular renaming-as-body 
is illegal (if it can be detected in time) or a bounded error.</SPAN></DIV>
<DIV Class="paranum">21.e/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00228.TXT">AI95-00228-01</A></I>} 
<SPAN class="insert2"><B>Amendment Correction:</B> Clarified that renaming 
a shall-be-overridden subprogram is illegal, as well as renaming-as-body 
an abstract subprogram.</SPAN></DIV>
<DIV Class="paranum">21.f/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00423.TXT">AI95-00423-01</A></I>} 
<SPAN class="insert2">Added matching rules for <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>s.</SPAN> 
</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-8-5-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-8-5-5.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
