<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Exception Declarations</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-11.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-11-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>11.1 Exception Declarations</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>exception</I>}</SPAN> 
<A NAME="I4514"></A>An <SPAN Class="swiss"><A HREF="AA-11-1.html#S0246">exception_declaration</A></SPAN> 
declares a name for an exception.&nbsp;</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">exception_declaration</SPAN><A NAME="I4515"></A><A NAME="S0246"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><A NAME="I4516"></A><SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0033">defining_identifier_list</A></SPAN>&nbsp;:&nbsp;<B>exception</B>;</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">3</DIV>
<DIV Class="Normal">Each single <SPAN Class="swiss"><A HREF="AA-11-1.html#S0246">exception_declaration</A></SPAN> 
declares a name for a different exception. If a generic unit includes 
an <SPAN Class="swiss"><A HREF="AA-11-1.html#S0246">exception_declaration</A></SPAN>, 
the <SPAN Class="swiss"><A HREF="AA-11-1.html#S0246">exception_declaration</A></SPAN>s 
implicitly generated by different instantiations of the generic unit 
refer to distinct exceptions (but all have the same <SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN>). 
The particular exception denoted by an exception name is determined at 
compilation time and is the same regardless of how many times the <SPAN Class="swiss"><A HREF="AA-11-1.html#S0246">exception_declaration</A></SPAN> 
is elaborated.&nbsp;</DIV>
<DIV Class="paranum">3.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>We considered removing this requirement 
inside generic bodies, because it is an implementation burden for implementations 
that wish to share code among several instances. In the end, it was decided 
that it would introduce too much implementation dependence.&nbsp;</DIV>
<DIV Class="paranum">3.b</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Hence, if an <SPAN Class="swiss"><A HREF="AA-11-1.html#S0246">exception_declaration</A></SPAN> 
occurs in a recursive subprogram, the exception name denotes the same 
exception for all invocations of the recursive subprogram. The reason 
for this rule is that we allow an exception occurrence to propagate out 
of its declaration's innermost containing master; if exceptions were 
created by their declarations like other entities, they would presumably 
be destroyed upon leaving the master; we would have to do something special 
to prevent them from propagating to places where they no longer exist. 
</DIV>
<DIV Class="paranum">3.c</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Exception identities are 
unique across all partitions of a program.&nbsp;</DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>predefined exception</I>}</SPAN> 
<A NAME="I4517"></A><SPAN STYLE="font-size: 80%">{<I>Constraint_Error 
(raised by failure of run-time check)</I>}</SPAN> <A NAME="I4518"></A><SPAN STYLE="font-size: 80%">{<I>Program_Error 
(raised by failure of run-time check)</I>}</SPAN> <A NAME="I4519"></A><SPAN STYLE="font-size: 80%">{<I>Storage_Error 
(raised by failure of run-time check)</I>}</SPAN> <A NAME="I4520"></A><SPAN STYLE="font-size: 80%">{<I>Tasking_Error 
(raised by failure of run-time check)</I>}</SPAN> <A NAME="I4521"></A>The 
<I>predefined</I> exceptions are the ones declared in the declaration 
of package Standard: Constraint_Error, Program_Error, Storage_Error, 
and Tasking_Error[; one of them is raised when a language-defined check 
fails.]&nbsp;</DIV>
<DIV Class="paranum">4.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>The exceptions declared 
in the language-defined package IO_Exceptions, for example, are not predefined. 
</DIV>

<H4 Class="centered">Dynamic Semantics</H4>
<DIV Class="paranum">5</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>elaboration (exception_declaration)</I> 
[partial]}</SPAN> <A NAME="I4522"></A>The elaboration of an <SPAN Class="swiss"><A HREF="AA-11-1.html#S0246">exception_declaration</A></SPAN> 
has no effect.</DIV>
<DIV Class="paranum">6</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>Storage_Check</I> 
[partial]}</SPAN> <A NAME="I4523"></A><SPAN STYLE="font-size: 80%">{<I>check, 
language-defined (Storage_Check)</I>}</SPAN> <A NAME="I4524"></A><SPAN STYLE="font-size: 80%">{<I>Storage_Error 
(raised by failure of run-time check)</I>}</SPAN> <A NAME="I4525"></A>The 
execution of any construct raises Storage_Error if there is insufficient 
storage for that execution. <SPAN STYLE="font-size: 80%">{<I>unspecified</I> 
[partial]}</SPAN> <A NAME="I4526"></A>The amount of storage needed for 
the execution of constructs is unspecified.&nbsp;</DIV>
<DIV Class="paranum">6.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Note that any execution 
whatsoever can raise Storage_Error. This allows much implementation freedom 
in storage management.&nbsp;</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">7</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><I>Examples of user-defined 
exception declarations:</I>&nbsp;</DIV>
<DIV Class="paranum">8</DIV>
<DIV Class="Examples">Singular&nbsp;:&nbsp;<B>exception</B>;<BR>
Error&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>exception</B>;<BR>
Overflow,&nbsp;Underflow&nbsp;:&nbsp;<B>exception</B>;</DIV>

<H4 Class="centered">Inconsistencies With Ada 83</H4>
<DIV Class="paranum">8.a</DIV>
<DIV Class="Annotations">{<I>inconsistencies with Ada 83</I>} <A NAME="I4527"></A>The 
exception Numeric_Error is now defined in the Obsolescent features Annex, 
as a rename of Constraint_Error. All checks that raise Numeric_Error 
in Ada 83 instead raise Constraint_Error in Ada 95. To increase upward 
compatibility, we also changed the rules to allow the same exception 
to be named more than once by a given handler. Thus, &ldquo;<B>when</B> 
Constraint_Error | Numeric_Error =&gt;&rdquo; will remain legal in Ada 
95, even though Constraint_Error and Numeric_Error now denote the same 
exception. However, it will not be legal to have separate handlers for 
Constraint_Error and Numeric_Error. This change is inconsistent in the 
rare case that an existing program explicitly raises Numeric_Error at 
a point where there is a handler for Constraint_Error; the exception 
will now be caught by that handler.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<DIV Class="paranum">8.b</DIV>
<DIV Class="Annotations">We explicitly define elaboration for <SPAN Class="swiss"><A HREF="AA-11-1.html#S0246">exception_declaration</A></SPAN>s. 
</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-11.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-11-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
