<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<TITLE>Ada 83 LRM, Sec 3.8: Access Types</TITLE>
</HEAD><BODY>
<hr><a href="ada_lrm.html"><IMG SRC="adass.gif" align=LEFT hspace=6 vspace=6 alt="Lady Ada"></a><H1>Ada '83 Language Reference Manual</H1>
<h6><a href="ada_legal.html">Copyright</a> 1980, 1982, 1983 owned by the United States Government. Direct reproduction and usage requests to the <a href="mailto://adainfo@sw-eng.falls-church.va.us">Ada Information Clearinghouse</a>.</h6>
<br clear=LEFT>
<hr>

<H2><A NAME="3.8">3.8</A>.  Access Types</H2>
<A HREF="lrm-03-07.html#3.7"><img src="lrm-prev.gif" alt="[PREVIOUS]"></A><A HREF="lrm-03.html#3"><img src="lrm-up.gif" alt="[UP]"></A><A HREF="lrm-03-09.html#3.9"><img src="lrm-next.gif" alt="[NEXT]"></A>
<P>
An object declared by an object declaration is created by  the  elaboration
of the object declaration and is denoted by a simple name or by some  other
form of name.  In contrast, there are objects that are created by the eval-
uation of allocators (see <a href="lrm-04-08.html#4.8">4.8</a>) and that have no  simple  name.   Access  to
such an object is achieved by an access value returned by an allocator; the
access value is said to designate the object.
<pre>
    access_type_definition ::= access subtype_indication
</pre>
<P>
For each access type, there is a literal null which has a null access value
designating  no  object  at  all.   The null value of an access type is the
default initial value of the type.  Other values  of  an  access  type  are
obtained  by  evaluation  of  a  special  operation  of  the type called an
allocator.  Each such access value designates  an  object  of  the  subtype
defined  by  the  subtype  indication  of  the access type definition; this
subtype is called the designated subtype;  the base type of this subtype is
called  the  designated  type.   The objects designated by the values of an
access type form a collection implicitly associated with the type.
<P>
The elaboration of an access type definition consists of the elaboration of
the subtype indication and creates an access type.
<P>
If an access object is constant, the  constrained  access  value  cannot be
changed and always designates the same object. On the other hand, the value
of  the  designated  object  need  not  remain the same (assignment  to the
designated object is allowed unless the designated type is limited).
<P>
The only forms of contraint that are allowed after the  name  of  an access
type  in  a  subtype  indication  are  index  constraints  and discriminant
constraints.  (See  sections  <a href="lrm-03-06.html#3.6.1">3.6.1</a>  and  <a href="lrm-03-07.html#3.7.2">3.7.2</a> for the rules applicable to
these subtype indications.)   An  access  value  belongs to a corresponding
subtype of an access type either if the access value  is  the null value or
if the value of the designated object satisfies the constraint.
<P>
Examples:
<pre>
    type FRAME is access MATRIX;         --  see <a href="lrm-03-06.html#3.6">3.6</a>

    type BUFFER_NAME is access BUFFER    --  see <a href="lrm-03-07.html#3.7.1">3.7.1</a>
</pre>
<P>
Notes:
<P>
An access value delivered by an allocator can be assigned to several access
objects.  Hence it is  possible for an object created by an allocator to be
designated by more than one  variable  or  constant of the access type.  An
access  value  can only designate an object created  by  an  allocator;  in
particular,  it  cannot  designate  an  object  declared   by   an   object
declaration.
<P>
If the type of the objects designated by the access values is an array type
or a type with discriminants, these objects are constrained with either the
array  bounds  or  the discriminant values supplied implicitly or explicity
for the corresponding allocators (see <a href="lrm-04-08.html#4.8">4.8</a>).
<P>
Access values are called pointers of references in some other languages.
<P>
<b>References:</b> <A HREF="lrm-04-08.html#4.8">allocator</A>,
<A HREF="lrm-03-06.html#3.6">array type</A>,
<A HREF="lrm-05-02.html#5.2">assignment</A>,
<A HREF="lrm-03-03.html#3.3">belong  to  a subtype</A>,
<A HREF="lrm-03-02.html#3.2.1">constant</A>,
<A HREF="lrm-03-03.html#3.3">constraint</A>,
<A HREF="lrm-03-07.html#3.7.2">discriminant constraint</A>,
<A HREF="lrm-03-09.html#3.9">elaboration</A>,
<A HREF="lrm-03-06.html#3.6.1">index  constraint</A>,
<A HREF="lrm-03-06.html#3.6">index specification</A>,
<A HREF="lrm-07-04.html#7.4.4">limited type</A>,
<A HREF="lrm-04-02.html#4.2">literal</A>,
<A HREF="lrm-04-01.html#4.1">name</A>,
<A HREF="lrm-03-02.html#3.2.1">object</A>,
<A HREF="lrm-03-02.html#3.2.1">object declaration</A>,
<A HREF="lrm-02-09.html#2.9">reserved word</A>,
<A HREF="lrm-03-03.html#3.3">satisfy</A>,
<A HREF="lrm-04-01.html#4.1">simple name</A>,
<A HREF="lrm-03-03.html#3.3">subcomponent</A>,
<A HREF="lrm-03-03.html#3.3">subtype</A>,
<A HREF="lrm-03-03.html#3.3.2">subtype indication</A>,
<A HREF="lrm-03-03.html#3.3">type</A>,
<A HREF="lrm-03-02.html#3.2.1">variable</A>.
<P>
<b>Rationale references:</b> 
<a href="http://archive.adaic.com/standards/83rat/html/ratl-06.html">6&nbsp;Access Types</a>
<p>
<b>Style Guide references:</b> 
<A HREF="http://archive.adaic.com/docs/style-guide/83style/html/sty-05-04.html#5.4.3">5.4.3&nbsp;Dynamic Data</a>, 
<A HREF="http://archive.adaic.com/docs/style-guide/83style/html/sty-05-09.html#5.9.2">5.9.2&nbsp;Unchecked Deallocation</a>, 
<A HREF="http://archive.adaic.com/docs/style-guide/83style/html/sty-06-01.html#6.1.3">6.1.3&nbsp;Dynamic Tasks</a>, 
<A HREF="http://archive.adaic.com/docs/style-guide/83style/html/sty-07-06.html#7.6.6">7.6.6&nbsp;Unchecked Deallocation</a>, 
<A HREF="http://archive.adaic.com/docs/style-guide/83style/html/sty-07-07.html#7.7.3">7.7.3&nbsp;I/O on Access Types</a>
<p>

<b>Sub-topics:</b>
<ul>
<li><A HREF="#3.8.1">3.8.1</A> Incomplete Type Declarations
<li><A HREF="#3.8.2">3.8.2</A> Operations of Access Types  
</ul>
<H3><A NAME="3.8.1">3.8.1</A>.  Incomplete Type Declarations</H3>
<A HREF="#3.8"><img src="lrm-up.gif" alt="[UP]"></A><A HREF="#3.8.2"><img src="lrm-next.gif" alt="[NEXT]"></A>
<P>
There are  no particular limitations on  the  designated  type of an access
type.  In particular, the type of a component of the designated type can be
another  access  type, or even the same access type.  This permits mutually
dependent  and recursive access types.  Their declarations require a  prior
incomplete (or private) type declaration for one or more types.
<pre>
     incomplete_type_declaration ::= type identifier [discriminant_part];
</pre>
<P>
For  each incomplete  type  declaration,  there  must  be  a  corresponding
declaration  of  a  type  with  the  same  identifier.   The  corresponding
declaration must be either a full type declaration or the declarations of a
task type.  In the rest of this section, explanations are given in terms of
full  type declarations;  the same rules apply also to declarations of task
types.  If the incomplete type declaration occurs immediately within either
a declarative part or the visible part of a package specification, then the
full  type  declaration  must  occur  later  and  immediately  within  this
declarative part or visible part. If the incomplete type declaration occurs
immediately  within  private  part  of  a  package,  then  the  full   type
declaration must occur later and immediately within either the private part
itself, or the declarative part of the corresponding package body.
<P>
A discriminant part must be given in the full type  declaration if and only
if one is given in the incomplete type declaration;  if discriminant  parts
are given, then they must conform (see  <a href="lrm-06-03.html#6.3.1">6.3.1</a>  for the  conformance rules).
Prior to the end of  the  full  type declaration, the only allowed use of a
name that  denotes  a type declared by an incomplete type declaration is as
the  type  mark in the subtype indication of an access type definition; the
only  form  of  constraint  allowed  in  this  subtype   indication  is   a
discriminant constraint.
<P>
The elaboration  of an  incomplete type declaration creates a type.  If the
incomplete type declaration  has  a  discriminant  part,  this  elaboration
includes  that of  the discriminant part:  in such a case, the discriminant
part of the full type declaration is not elaborated.
<P>
Example of a recursive type:
<pre>
    type CELL;  --  incomplete type declaration
    type LINK is access CELL;

    type CELL is
       record
          VALUE  : INTEGER;
          SUCC   : LINK;
          PRED   : LINK;
       end record;

    HEAD   : LINK  := new CELL'(O, null, null);
    NEXT   : LINK  := HEAD.SUCC;
</pre>
<P>
Examples of mutually dependent access types:
<pre>
    type PERSON(SEX : GENDER);  -- incomplete type declaration
    type CAR;                   -- incomplete type declaration

    type PERSON_NAME is access PERSON;
    type CAR_NAME    is access CAR;

    type CAR is
       record
          NUMBER  : INTEGER;
          OWNER   :PERSON_NAME;
       end record;                                                                               

    type PERSON(SEX : GENDER) is
       record
          NAME     : STRING(1 .. 20);
          BIRTH    : DATE;
          AGE      : INTEGER range 0 .. 130;                 
          VEHICLE  : CAR_NAME;
          case SEX is
             when M =&gt; WIFE           : PERSON_NAME(SEX =&gt; F);
             when F =&gt; HUSBAND        : PERSON_NAME(SEX =&gt; M);
          end case;
       end record;

    MY_CAR, YOUR_CAR, NEXT_CAR : CAR_NAME; -- implicitly initialized with
                                              null value
</pre>
<P>
<b>References:</b> <A HREF="#3.8">access type</A>,
<A HREF="#3.8">access type definition</A>,
<A HREF="lrm-03-03.html#3.3">component</A>,
<A HREF="lrm-06-03.html#6.3.1">conform</A>,
<A HREF="lrm-03-03.html#3.3">constraint</A>,
<A HREF="lrm-03-01.html#3.1">declaraton</A>,
<A HREF="lrm-03-09.html#3.9">declarative item</A>,
<A HREF="#3.8">designate</A>,
<A HREF="lrm-03-07.html#3.7.2">discriminant constraint</A>,
<A HREF="lrm-03-07.html#3.7.1">discriminant part</A>,
<A HREF="lrm-03-09.html#3.9">elaboration</A>,
<A HREF="lrm-02-03.html#2.3">identifier</A>,
<A HREF="lrm-04-01.html#4.1">name</A>,
<A HREF="lrm-03-03.html#3.3.2">subtype indication</A>,
<A HREF="lrm-03-03.html#3.3">type</A>,
<A HREF="lrm-03-03.html#3.3.2">type mark</A>.
<P>
<b>Style Guide references:</b> 
<A HREF="http://archive.adaic.com/docs/style-guide/83style/html/sty-05-04.html#5.4.3">5.4.3&nbsp;Dynamic Data</a>

<H3><A NAME="3.8.2">3.8.2</A>.  Operations of Access Types  </H3>
<A HREF="#3.8.1"><img src="lrm-prev.gif" alt="[PREVIOUS]"></A><A HREF="#3.8"><img src="lrm-up.gif" alt="[UP]"></A>
<P>
The  basic  operations of an access type include the operations involved in
assignment,   allocators   for   the   access   type,   membership   tests,
qualification,   explicit   conversion,  and  the  literal  null.   If  the
designated type is a type with discriminants, the basic operations  include
the  selection  of the corresponding discriminants;  if the designated type
is  a  record  type,  they  include  the  selection  of  the  corresponding
components;   if  the  designated  type  is an array type, they include the
formation of indexed components and slices;  if the designated  type  is  a
task   type,   they  include  selection  of  entries  and  entry  families.
Furthermore, the basic operations  include  the  formation  of  a  selected
component with the reserved word all (see <a href="lrm-04-01.html#4.1.3">4.1.3</a>). 
<P>
If  the  designated type is an array type, the basic operations include the
attributes that have the attribute  designators  FIRST,  LAST,  RANGE,  and
LENGTH  (likewise,  the  attribute designators of the N-th dimension).  The
prefix of each of these attributes must be a  value  of  the  access  type.
These  attributes yield the corresponding characteristics of the designated
object (see <a href="lrm-03-06.html#3.6.2">3.6.2</a>). 
<P>
If the designated type is a task type, the  basic  operations  include  the
attributes that have the attribute designators TERMINATED and CALLABLE (see
<a href="lrm-09-09.html#9.9">9.9</a>).  The prefix of each of these attributes must be a value of the access
type.   These  attributes  yield  the  corresponding characteristics of the
designated task objects. 
<P>
In addition, the  attribute  T'BASE  (see  <a href="lrm-03-03.html#3.3.3">3.3.3</a>)  and  the  representation
attributes T'SIZE and T'STORAGE_SIZE (see <a href="lrm-13-07.html#13.7.2">13.7.2</a>) are defined for an access
type  or subtype T;  the attributes A'SIZE and A'ADDRESS are defined for an
access object A (see <a href="lrm-13-07.html#13.7.2">13.7.2</a>).   
<P>
Besides the basic operations, the operations of an access type include  the
predefined comparison for equality and inequality. 
<P>
<b>References:</b>   <A HREF="#3.8">access  type</A>,
<A HREF="lrm-04-08.html#4.8">allocator</A>,
<A HREF="lrm-03-06.html#3.6">array type</A>,
<A HREF="lrm-05-02.html#5.2">assignment</A>,
<A HREF="lrm-04-01.html#4.1.4">attribute</A>,
<A HREF="lrm-04-01.html#4.1.4">attribute designator</A>,
<A HREF="lrm-03-03.html#3.3">base  type</A>,
<A HREF="lrm-03-03.html#3.3.3">basic operation</A>,
<A HREF="#3.8">collection</A>,
<A HREF="lrm-03-06.html#3.6">constrained array subtype</A>,
<A HREF="lrm-04-06.html#4.6">conversion</A>,
<A HREF="#3.8">designate</A>,
<A HREF="#3.8">designated  subtype</A>,
<A HREF="#3.8">designated   type</A>,
<A HREF="lrm-03-03.html#3.3">discriminant</A>,
<A HREF="lrm-04-01.html#4.1.1">indexed component</A>,
<A HREF="lrm-04-02.html#4.2">literal</A>,
<A HREF="lrm-04-05.html#4.5">membership test</A>,
 and <A HREF="lrm-04-05.html#4.5.2">4.5.2</A>,
<A HREF="lrm-03-02.html#3.2.1">object</A>,
<A HREF="lrm-03-03.html#3.3">operation</A>,
<A HREF="lrm-07-04.html#7.4">private type</A>,
<A HREF="lrm-04-07.html#4.7">qualified expression</A>,
<A HREF="lrm-03-07.html#3.7">record type</A>,
<A HREF="lrm-04-01.html#4.1.3">selected component</A>,
<A HREF="lrm-04-01.html#4.1.2">slice</A>,
<A HREF="lrm-03-03.html#3.3">subtype</A>,
<A HREF="lrm-09-01.html#9.1">task type</A>,
<A HREF="lrm-03-03.html#3.3">type</A>.
<P>


<A HREF="lrm-IDX.html"><img src="lrm-idx.gif" alt="[INDEX]"></A><A HREF="lrm-TOC.html"><img src="lrm-toc.gif" alt="[CONTENTS]"></A>

<hr>
<address><a href="htttp://www.adaic.com/"><IMG SRC="small_adaic_logo.gif" ALT="[Ada Information Clearinghouse]"></a><p>
Address any questions or comments to
<A HREF="mailto://adainfo@sw-eng.falls-church.va.us">adainfo@sw-eng.falls-church.va.us</A>.</address>
</BODY></HTML>
