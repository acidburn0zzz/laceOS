<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Package Specifications and Declarations</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-7.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-7-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>7.1 Package Specifications and Declarations</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal">[A package is generally provided in two parts: a 
<SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN> 
and a <SPAN Class="swiss"><A HREF="AA-7-2.html#S0175">package_body</A></SPAN>. 
Every package has a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN>, 
but not all packages have a <SPAN Class="swiss"><A HREF="AA-7-2.html#S0175">package_body</A></SPAN>.] 
</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">package_declaration</SPAN><A NAME="I3553"></A><A NAME="S0173"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><A NAME="I3554"></A><SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN>;</DIV>
<DIV Class="paranum">3</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">package_specification</SPAN><A NAME="I3555"></A><A NAME="S0174"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>package</B>&nbsp;<A NAME="I3556"></A><SPAN Class="swiss"><A HREF="AA-6-1.html#S0154">defining_program_unit_name</A></SPAN>&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<A NAME="I3557"></A><SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN>}<BR>
&nbsp;&nbsp;&nbsp;[<B>private</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<A NAME="I3558"></A><SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN>}]<BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;[[<A NAME="I3559"></A><SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0234">parent_unit_name</A></SPAN>.]<A NAME="I3560"></A><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>]</DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="SyntaxIndented">If an <SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0234">parent_unit_name</A></SPAN>.<SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
appears at the end of a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN>, 
then this sequence of lexical elements shall repeat the <SPAN Class="swiss"><A HREF="AA-6-1.html#S0154">defining_program_unit_name</A></SPAN>. 
</DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">5/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00434.TXT">AI95-00434-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>requires a completion (package_declaration)</I> 
[partial]}</SPAN> <A NAME="I3561"></A><SPAN STYLE="font-size: 80%">{<I>requires 
a completion (generic_package_declaration)</I> [partial]}</SPAN> <A NAME="I3562"></A>A 
<SPAN Class="swiss"><A HREF="AA-7-1.html#S0173">package_declaration</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-12-1.html#S0254">generic_package_declaration</A></SPAN> 
requires a completion [(a body)] if it contains any <SPAN class="insert2"><SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN></SPAN><SPAN class="delete2"><SPAN Class="swiss"><A HREF="AA-3-11.html#S0087">&nbsp;declarative_item</A></SPAN></SPAN> 
that requires a completion, but whose completion is not in its <SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN>. 
</DIV>
<DIV Class="paranum">5.a</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B>If an implementation supports 
it, a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Import may substitute for the body of a package or generic package.&nbsp;</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">6/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00420.TXT">AI95-00420-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00434.TXT">AI95-00434-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>visible part (of a package (other than 
a generic formal package))</I> [partial]}</SPAN> <A NAME="I3563"></A>The 
first list of <SPAN class="insert2"><SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN>s</SPAN><SPAN class="delete2"><SPAN Class="swiss"><A HREF="AA-3-11.html#S0087">&nbsp;declarative_item</A></SPAN>s</SPAN> 
of a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN> 
of a package other than a generic formal package is called the <I>visible 
part</I> of the package. [<SPAN STYLE="font-size: 80%">{<I>private part 
(of a package)</I> [partial]}</SPAN> <A NAME="I3564"></A>The optional 
list of <SPAN class="insert2"><SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN>s</SPAN><SPAN class="delete2"><SPAN Class="swiss"><A HREF="AA-3-11.html#S0087">&nbsp;declarative_item</A></SPAN>s</SPAN> 
after the reserved word <B>private</B> (of any <SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN>) 
is called the <I>private part</I> of the package. If the reserved word 
<B>private</B> does not appear, the package has an implicit empty private 
part.]<SPAN class="insert2">&nbsp;Each list of <SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN>s 
of a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN> 
forms a <I>declaration list</I> of the package.<SPAN STYLE="font-size: 80%">{<I>declaration 
list (package_specification)</I> [partial]}</SPAN> <A NAME="I3565"></A></SPAN></DIV>
<DIV Class="paranum">6.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>This definition of visible 
part does not apply to generic formal packages &mdash; <A HREF="AA-12-7.html">12.7</A> 
defines the visible part of a generic formal package.</DIV>
<DIV Class="paranum">6.b</DIV>
<DIV Class="Annotations">The implicit empty private part is important 
because certain implicit declarations occur there if the package is a 
child package, and it defines types in its visible part that are derived 
from, or contain as components, private types declared within the parent 
package. These implicit declarations are visible in children of the child 
package. See <A HREF="AA-10-1-1.html">10.1.1</A>.&nbsp;</DIV>
<DIV Class="paranum">7</DIV>
<DIV Class="Normal">[An entity declared in the private part of a package 
is visible only within the declarative region of the package itself (including 
any child units &mdash; see <A HREF="AA-10-1-1.html">10.1.1</A>). In 
contrast, expanded names denoting entities declared in the visible part 
can be used even outside the package; furthermore, direct visibility 
of such entities can be achieved by means of <SPAN Class="swiss"><A HREF="AA-8-4.html#S0179">use_clause</A></SPAN>s 
(see <A HREF="AA-4-1-3.html">4.1.3</A> and <A HREF="AA-8-4.html">8.4</A>).] 
</DIV>

<H4 Class="centered">Dynamic Semantics</H4>
<DIV Class="paranum">8</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>elaboration (package_declaration)</I> 
[partial]}</SPAN> <A NAME="I3566"></A>The elaboration of a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0173">package_declaration</A></SPAN> 
consists of the elaboration of its <SPAN Class="swiss"><A HREF="AA-3-11.html#S0088">basic_declarative_item</A></SPAN>s 
in the given order.&nbsp;</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">9</DIV>
<DIV Class="Notes">1&nbsp;&nbsp;The visible part of a package contains 
all the information that another program unit is able to know about the 
package.</DIV>
<DIV Class="paranum">10</DIV>
<DIV Class="Notes">2&nbsp;&nbsp;If a declaration occurs immediately within 
the specification of a package, and the declaration has a corresponding 
completion that is a body, then that body has to occur immediately within 
the body of the package.&nbsp;</DIV>
<DIV Class="paranum">10.a</DIV>
<DIV Class="Annotations"><B>Proof:&nbsp;</B>This follows from the fact that 
the declaration and completion are required to occur immediately within 
the same declarative region, and the fact that <SPAN Class="swiss">bodies</SPAN> 
are disallowed (by the Syntax Rules) in <SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN>s. 
This does not apply to instances of generic units, whose bodies can occur 
in <SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN>s. 
</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">11</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><I>Example of a package 
declaration:</I>&nbsp;</DIV>
<DIV Class="paranum">12</DIV>
<DIV Class="Examples"><B>package</B>&nbsp;Rational_Numbers&nbsp;<B>is</B></DIV>
<DIV Class="paranum">13</DIV>
<DIV Class="Examples">&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Rational&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>record</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Numerator&nbsp;&nbsp;&nbsp;:&nbsp;Integer;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Denominator&nbsp;:&nbsp;Positive;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;<B>record</B>;</DIV>
<DIV Class="paranum">14</DIV>
<DIV Class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;=&quot;(X,Y&nbsp;:&nbsp;Rational)&nbsp;<B>return</B>&nbsp;Boolean;</DIV>
<DIV Class="paranum">15</DIV>
<DIV Class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;/&quot;&nbsp;&nbsp;(X,Y&nbsp;:&nbsp;Integer)&nbsp;&nbsp;<B>return</B>&nbsp;Rational;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;to&nbsp;construct&nbsp;a&nbsp;rational&nbsp;number</I></SPAN></DIV>
<DIV Class="paranum">16</DIV>
<DIV Class="Examples">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;+&quot;&nbsp;&nbsp;(X,Y&nbsp;:&nbsp;Rational)&nbsp;<B>return</B>&nbsp;Rational;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;-&quot;&nbsp;&nbsp;(X,Y&nbsp;:&nbsp;Rational)&nbsp;<B>return</B>&nbsp;Rational;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;*&quot;&nbsp;&nbsp;(X,Y&nbsp;:&nbsp;Rational)&nbsp;<B>return</B>&nbsp;Rational;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;&quot;/&quot;&nbsp;&nbsp;(X,Y&nbsp;:&nbsp;Rational)&nbsp;<B>return</B>&nbsp;Rational;<BR>
<B>end</B>&nbsp;Rational_Numbers;</DIV>
<DIV Class="paranum">17</DIV>
<DIV Class="Normal">There are also many examples of package declarations 
in the predefined language environment (see <A HREF="AA-A.html">Annex 
A</A>).&nbsp;</DIV>

<H4 Class="centered">Incompatibilities With Ada 83</H4>
<DIV Class="paranum">17.a</DIV>
<DIV Class="Annotations">{<I>incompatibilities with Ada 83</I>} <A NAME="I3567"></A>In 
Ada 83, a library package is allowed to have a body even if it doesn't 
need one. In Ada 95, a library package body is either required or forbidden 
&mdash; never optional. The workaround is to add <B>pragma</B> Elaborate_Body, 
or something else requiring a body, to each library package that has 
a body that isn't otherwise required.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<DIV Class="paranum">17.b</DIV>
<DIV Class="Annotations">We have moved the syntax into this clause and 
the next clause from RM83-7.1, &ldquo;Package Structure&rdquo;, which 
we have removed.</DIV>
<DIV Class="paranum">17.c</DIV>
<DIV Class="Annotations">RM83 was unclear on the rules about when a package 
requires a body. For example, RM83-7.1(4) and RM83-7.1(8) clearly forgot 
about the case of an incomplete type declared in a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0173">package_declaration</A></SPAN> 
but completed in the body. In addition, RM83 forgot to make this rule 
apply to a generic package. We have corrected these rules. Finally, since 
we now allow a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Import for any explicit declaration, the completion rules need to take 
this into account as well.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">17.d/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00420.TXT">AI95-00420-01</A></I>} 
<SPAN class="insert2">Defined &ldquo;declaration list&rdquo; to avoid 
ambiguity in other rules as to whether packages are included.</SPAN> 
</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-7.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-7-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
