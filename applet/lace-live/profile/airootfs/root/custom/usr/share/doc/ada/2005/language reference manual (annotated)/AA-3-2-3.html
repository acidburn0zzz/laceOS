<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Classification of Operations</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-2-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-3.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>3.2.3 Classification of Operations</H1>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">1/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00416.TXT">AI95-00416-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>operates on a type</I>}</SPAN> <A NAME="I1507"></A>An 
operation <I>operates on a type</I> <I>T</I> if it yields a value of 
type <I>T</I>, if it has an operand whose expected type (see <A HREF="AA-8-6.html">8.6</A>) 
is <I>T</I>, or if it has an access parameter<SPAN class="insert2">&nbsp;or 
access result type</SPAN> (see <A HREF="AA-6-1.html">6.1</A>) designating 
<I>T</I>. <SPAN STYLE="font-size: 80%">{<I>predefined operation (of a 
type)</I>}</SPAN> <A NAME="I1508"></A>A predefined operator, or other 
language-defined operation such as assignment or a membership test, that 
operates on a type, is called a <I>predefined operation</I> of the type. 
<SPAN STYLE="font-size: 80%">{<I>primitive operations (of a type)</I>}</SPAN> 
<A NAME="I1509"></A>The <I>primitive operations</I> of a type are the 
predefined operations of the type, plus any user-defined primitive subprograms. 
</DIV>
<DIV Class="paranum">1.a</DIV>
<DIV Class="Annotations"><B>Glossary entry:&nbsp;</B>{<I>Primitive operations</I>} 
The primitive operations of a type are the operations (such as subprograms) 
declared together with the type declaration. They are inherited by other 
types in the same class of types. For a tagged type, the primitive subprograms 
are dispatching subprograms, providing run-time polymorphism. A dispatching 
subprogram may be called with statically tagged operands, in which case 
the subprogram body invoked is determined at compile time. Alternatively, 
a dispatching subprogram may be called using a dispatching call, in which 
case the subprogram body invoked is determined at run time.</DIV>
<DIV Class="paranum">1.b</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B>Protected subprograms are 
not considered to be &ldquo;primitive subprograms,&rdquo; even though 
they are subprograms, and they are inherited by derived types.&nbsp;</DIV>
<DIV Class="paranum">1.c</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>We use the term &ldquo;primitive 
subprogram&rdquo; in most of the rest of the manual. The term &ldquo;primitive 
operation&rdquo; is used mostly in conceptual discussions.&nbsp;</DIV>
<DIV Class="paranum">2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><SPAN STYLE="font-size: 80%">{<I>primitive 
subprograms (of a type)</I>}</SPAN> <A NAME="I1510"></A>The <I>primitive 
subprograms</I> of a specific type are defined as follows:&nbsp;</DIV>
<DIV Class="paranum">3</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The predefined operators of the type 
(see <A HREF="AA-4-5.html">4.5</A>);</LI></UL>
<DIV Class="paranum">4</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For a derived type, the inherited 
(see <A HREF="AA-3-4.html">3.4</A>) user-defined subprograms;</LI></UL>
<DIV Class="paranum">5</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For an enumeration type, the enumeration 
literals (which are considered parameterless functions &mdash; see <A HREF="AA-3-5-1.html">3.5.1</A>);</LI></UL>
<DIV Class="paranum">6</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For a specific type declared immediately 
within a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN>, 
any subprograms (in addition to the enumeration literals) that are explicitly 
declared immediately within the same <SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN> 
and that operate on the type;</LI></UL>
<DIV Class="paranum">7/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00200.TXT">AI95-00200-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>override (a primitive subprogram)</I>}</SPAN> 
<A NAME="I1511"></A><SPAN class="insert2">For a nonformal type, any</SPAN><SPAN class="delete2">&nbsp;Any</SPAN> 
subprograms not covered above [that are explicitly declared immediately 
within the same declarative region as the type] and that override (see 
<A HREF="AA-8-3.html">8.3</A>) other implicitly declared primitive subprograms 
of the type.&nbsp;</LI></UL>
<DIV Class="paranum">7.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>In Ada 83, only subprograms 
declared in the visible part were &ldquo;primitive&rdquo; (i.e. derivable). 
In Ada 95, mostly because of child library units, we include all operations 
declared in the private part as well, and all operations that override 
implicit declarations.&nbsp;</DIV>
<DIV Class="paranum">7.b</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>It is possible for a subprogram 
to be primitive for more than one type, though it is illegal for a subprogram 
to be primitive for more than one tagged type. See <A HREF="AA-3-9.html">3.9</A>. 
</DIV>
<DIV Class="paranum">7.c</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>The order of the implicit 
declarations when there are both predefined operators and inherited subprograms 
is described in <A HREF="AA-3-4.html">3.4</A>, &ldquo;<A HREF="AA-3-4.html">Derived 
Types and Classes</A>&rdquo;.&nbsp;</DIV>
<DIV Class="paranum">7.d/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Ramification:&nbsp;</B></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00200.TXT">AI95-00200-01</A></I>} 
<SPAN class="insert2">Subprograms declared in a generic package specification 
are never primitive for a formal type, even if they happen to override 
an operation of the formal type. This includes formal subprograms, which 
are never primitive operations (that's true even for an abstract formal 
subprogram).</SPAN>&nbsp;</DIV>
<DIV Class="paranum">8</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>primitive operator 
(of a type)</I>}</SPAN> <A NAME="I1512"></A>A primitive subprogram whose 
designator is an <SPAN Class="swiss"><A HREF="AA-6-1.html#S0155">operator_symbol</A></SPAN> 
is called a <I>primitive operator</I>.</DIV>

<H4 Class="centered">Incompatibilities With Ada 83</H4>
<DIV Class="paranum">8.a</DIV>
<DIV Class="Annotations">{<I>incompatibilities with Ada 83</I>} <A NAME="I1513"></A>The 
attribute S'Base is no longer defined for non-scalar subtypes. Since 
this was only permitted as the prefix of another attribute, and there 
are no interesting non-scalar attributes defined for an unconstrained 
composite or access subtype, this should not affect any existing programs. 
</DIV>

<H4 Class="centered">Extensions to Ada 83</H4>
<DIV Class="paranum">8.b</DIV>
<DIV Class="Annotations">{<I>extensions to Ada 83</I>} <A NAME="I1514"></A>The 
primitive subprograms (derivable subprograms) include subprograms declared 
in the private part of a package specification as well, and those that 
override implicitly declared subprograms, even if declared in a body. 
</DIV>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<DIV Class="paranum">8.c</DIV>
<DIV Class="Annotations">We have dropped the confusing term <I>operation 
of a type</I> in favor of the more useful <I>primitive operation of a 
type</I> and the phrase <I>operates on a type</I>.</DIV>
<DIV Class="paranum">8.d</DIV>
<DIV Class="Annotations">The description of S'Base has been moved to 
<A HREF="AA-3-5.html">3.5</A>, &ldquo;<A HREF="AA-3-5.html">Scalar Types</A>&rdquo; 
because it is now defined only for scalar types.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">8.e/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00200.TXT">AI95-00200-01</A></I>} 
<SPAN class="insert2">Clarified that a formal subprogram that happens 
to override a primitive operation of a formal type is not a primitive 
operation (and thus not a dispatching operation) of the formal type.</SPAN></DIV>
<DIV Class="paranum">8.f/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00416.TXT">AI95-00416-01</A></I>} 
<SPAN class="insert2">Added wording to include access result types in 
the kinds of operations that operate on a type T.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-2-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-3.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
