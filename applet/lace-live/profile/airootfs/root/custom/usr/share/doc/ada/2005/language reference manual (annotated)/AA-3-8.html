<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Record Types</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert1 {text-decoration: underline; color: rgb(0,51,51) }
    SPAN.delete1 {text-decoration: line-through; color: rgb(0,51,51) }
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Wide {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-7-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-8-1.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>3.8 Record Types</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>record</I>}</SPAN> 
<A NAME="I2115"></A><SPAN STYLE="font-size: 80%">{<I>record type</I>}</SPAN> 
<A NAME="I2116"></A>A record object is a composite object consisting 
of named components. The value of a record object is a composite value 
consisting of the values of the components. <SPAN STYLE="font-size: 80%">{<I>structure: 
See record type</I>}</SPAN> <A NAME="I2117"></A></DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">record_type_definition</SPAN><A NAME="I2118"></A><A NAME="S0066"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN>[[<B>abstract</B>]&nbsp;<B>tagged</B>]&nbsp;[<B>limited</B>]&nbsp;<A NAME="I2119"></A><SPAN Class="swiss"><A HREF="AA-3-8.html#S0067">record_definition</A></SPAN></DIV>
<DIV Class="paranum">3</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">record_definition</SPAN><A NAME="I2120"></A><A NAME="S0067"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>record</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A NAME="I2121"></A><SPAN Class="swiss"><A HREF="AA-3-8.html#S0068">component_list</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;<B>record</B><BR>
&nbsp;&nbsp;|&nbsp;<B>null&nbsp;record</B></DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">component_list</SPAN><A NAME="I2122"></A><A NAME="S0068"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A NAME="I2123"></A><SPAN Class="swiss"><A HREF="AA-3-8.html#S0069">component_item</A></SPAN>&nbsp;{<A NAME="I2124"></A><SPAN Class="swiss"><A HREF="AA-3-8.html#S0069">component_item</A></SPAN>}<BR>
&nbsp;&nbsp;&nbsp;|&nbsp;{<A NAME="I2125"></A><SPAN Class="swiss"><A HREF="AA-3-8.html#S0069">component_item</A></SPAN>}&nbsp;<A NAME="I2126"></A><SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0071">variant_part</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;<B>null</B>;</DIV>
<DIV Class="paranum">5/1</DIV>
<DIV Class="SyntaxIndented">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
<SPAN Class="swiss">component_item</SPAN><A NAME="I2127"></A><A NAME="S0069"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><A NAME="I2128"></A><SPAN Class="swiss"><A HREF="AA-3-8.html#S0070">component_declaration</A></SPAN>&nbsp;|&nbsp;<SPAN class="insert1"><A NAME="I2129"></A><SPAN Class="swiss"><A HREF="AA-13-1.html#S0283">aspect_clause</A></SPAN></SPAN><SPAN class="delete1"><A NAME="I2130"></A><SPAN Class="swiss"><A HREF="AA-13-1.html#S0284">&nbsp;representation_clause</A></SPAN></SPAN></DIV>
<DIV Class="paranum">6</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">component_declaration</SPAN><A NAME="I2131"></A><A NAME="S0070"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;<A NAME="I2132"></A><SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0033">defining_identifier_list</A></SPAN>&nbsp;:&nbsp;<A NAME="I2133"></A><SPAN Class="swiss"><A HREF="AA-3-6.html#S0056">component_definition</A></SPAN>&nbsp;[:=&nbsp;<A NAME="I2134"></A><SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN>];</DIV>

<H4 Class="centered">Name Resolution Rules</H4>
<DIV Class="paranum">7</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>expected type (component_declaration 
default_expression)</I> [partial]}</SPAN> <A NAME="I2135"></A>The expected 
type for the <SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN>, 
if any, in a <SPAN Class="swiss"><A HREF="AA-3-8.html#S0070">component_declaration</A></SPAN> 
is the type of the component.&nbsp;</DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">8/2</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%"><I>This paragraph was 
deleted.</I></SPAN><SPAN class="delete2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
<SPAN class="delete2">A <SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN> 
is not permitted if the component is of a limited type.</SPAN></DIV>
<DIV Class="paranum">9/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00366.TXT">AI95-00366-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>components (of a record type)</I> [partial]}</SPAN> 
<A NAME="I2136"></A>Each <SPAN Class="swiss"><A HREF="AA-3-8.html#S0070">component_declaration</A></SPAN> 
declares a <SPAN class="insert2">component</SPAN><SPAN class="delete2"><I>&nbsp;component</I></SPAN> 
of the record type. Besides components declared by <SPAN Class="swiss"><A HREF="AA-3-8.html#S0070">component_declaration</A></SPAN>s, 
the components of a record type include any components declared by <SPAN Class="swiss"><A HREF="AA-3-7.html#S0062">discriminant_specification</A></SPAN>s 
of the record type declaration. [The identifiers of all components of 
a record type shall be distinct.]&nbsp;</DIV>
<DIV Class="paranum">9.a</DIV>
<DIV Class="Annotations"><B>Proof:&nbsp;</B>The identifiers of all components 
of a record type have to be distinct because they are all declared immediately 
within the same declarative region. See Section 8.&nbsp;</DIV>
<DIV Class="paranum">10</DIV>
<DIV Class="Normal">Within a <SPAN Class="swiss"><A HREF="AA-3-2-1.html#S0023">type_declaration</A></SPAN>, 
a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> that 
denotes a component, protected subprogram, or entry of the type is allowed 
only in the following cases:</DIV>
<DIV Class="paranum">11</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>A <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
that denotes any component, protected subprogram, or entry is allowed 
within a representation item that occurs within the declaration of the 
composite type.</LI></UL>
<DIV Class="paranum">12</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>A <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
that denotes a noninherited discriminant is allowed within the declaration 
of the type, but not within the <SPAN Class="swiss"><A HREF="AA-3-7.html#S0059">discriminant_part</A></SPAN>. 
If the discriminant is used to define the constraint of a component, 
the bounds of an entry family, or the constraint of the parent subtype 
in a <SPAN Class="swiss"><A HREF="AA-3-4.html#S0035">derived_type_definition</A></SPAN> 
then its name shall appear alone as a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN> 
(not as part of a larger expression or expanded name). A discriminant 
shall not be used to define the constraint of a scalar component.<SPAN STYLE="font-size: 80%">{<I>discriminant 
(use in a record definition)</I>}</SPAN> <A NAME="I2137"></A></LI></UL>
<DIV Class="paranum">12.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>The penultimate restriction simplifies 
implementation, and allows the outer discriminant and the inner discriminant 
or bound to possibly share storage.&nbsp;</DIV>
<DIV Class="paranum">12.b</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Other rules prevent such 
a discriminant from being an inherited one.&nbsp;</DIV>
<DIV Class="paranum">12.c</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>The last restriction is inherited 
from Ada 83. The restriction is not really necessary from a language 
design point of view, but we did not remove it, in order to avoid unnecessary 
changes to existing compilers.&nbsp;</DIV>
<DIV Class="paranum">12.d</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>Note that a discriminant 
can be used to define the constraint for a component that is of an access-to-composite 
type.&nbsp;</DIV>
<DIV Class="paranum">12.e/2</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00373.TXT">AI95-00373-01</A></I>} 
The above rules, and a similar one in <A HREF="AA-6-1.html">6.1</A> for 
formal parameters, are intended to allow initializations of components 
or parameters to occur in <SPAN class="insert2">a (nearly)</SPAN><SPAN class="delete2">&nbsp;an</SPAN> 
arbitrary order &mdash; whatever order is most efficient<SPAN class="insert2">&nbsp;(subject to the restrictions of <A HREF="AA-3-3-1.html">3.3.1</A>)</SPAN>, 
since one <SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN> 
cannot depend on the value of another one. <SPAN class="insert2">They</SPAN><SPAN class="delete2">&nbsp;It</SPAN> 
also prevent circularities.&nbsp;</DIV>
<DIV Class="paranum">12.f</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Inherited discriminants 
are not allowed to be denoted, except within representation items. However, 
the <I>discriminant_</I><SPAN Class="swiss"><A HREF="AA-4-1-3.html#S0099">selector_name</A></SPAN> 
of the parent <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0027">subtype_indication</A></SPAN> 
is allowed to denote a discriminant of the parent.&nbsp;</DIV>
<DIV Class="paranum">13</DIV>
<DIV Class="Normal">If the name of the current instance of a type (see 
<A HREF="AA-8-6.html">8.6</A>) is used to define the constraint of a 
component, then it shall appear as a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN> 
that is the <SPAN Class="swiss"><A HREF="AA-4-1.html#S0093">prefix</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="AA-4-1-4.html#S0100">attribute_reference</A></SPAN> 
whose result is of an access type, and the <SPAN Class="swiss"><A HREF="AA-4-1-4.html#S0100">attribute_reference</A></SPAN> 
shall appear alone.&nbsp;</DIV>
<DIV Class="paranum">13.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>This rule allows T'Access or 
T'Unchecked_Access, but disallows, for example, a range constraint (1..T'Size). 
Allowing things like (1..T'Size) would mean that a per-object constraint 
could affect the size of the object, which would be bad.&nbsp;</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">13.1/2</DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10318.TXT">AI95-00318-02</A></I>} 
<SPAN class="insert2"><SPAN STYLE="font-size: 80%">{<I>explicitly limited 
record</I>}</SPAN> <A NAME="I2138"></A><SPAN STYLE="font-size: 80%">{<I>record 
(explicitly limited)</I>}</SPAN> <A NAME="I2139"></A>If a <SPAN Class="swiss"><A HREF="AA-3-8.html#S0066">record_type_definition</A></SPAN> 
includes the reserved word <B>limited</B>, the type is called an <I>explicitly 
limited record</I> type.</SPAN></DIV>
<DIV Class="paranum">14</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>nominal subtype 
(of a record component)</I> [partial]}</SPAN> <A NAME="I2140"></A>The 
<SPAN Class="swiss"><A HREF="AA-3-6.html#S0056">component_definition</A></SPAN> 
of a <SPAN Class="swiss"><A HREF="AA-3-8.html#S0070">component_declaration</A></SPAN> 
defines the (nominal) subtype of the component. If the reserved word 
<B>aliased</B> appears in the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0056">component_definition</A></SPAN>, 
then the component is aliased (see <A HREF="AA-3-10.html">3.10</A>). 
</DIV>
<DIV Class="paranum">14.a/2</DIV>
<DIV Class="Annotations"><SPAN class="delete2"><B>Ramification:&nbsp;</B></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00363.TXT">AI95-00363-01</A></I>} 
<SPAN class="delete2">In this case, the nominal subtype cannot be an 
unconstrained discriminated subtype. See <A HREF="AA-3-6.html">3.6</A>.</SPAN> 
</DIV>
<DIV Class="paranum">15</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>null record</I>}</SPAN> 
<A NAME="I2141"></A>If the <SPAN Class="swiss"><A HREF="AA-3-8.html#S0068">component_list</A></SPAN> 
of a record type is defined by the reserved word <B>null</B> and there 
are no discriminants, then the record type has no components and all 
records of the type are <I>null records</I>. A <SPAN Class="swiss"><A HREF="AA-3-8.html#S0067">record_definition</A></SPAN> 
of <B>null record</B> is equivalent to <B>record null; end record</B>. 
</DIV>
<DIV Class="paranum">15.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>This short-hand is available 
both for declaring a record type and a record extension &mdash; see <A HREF="AA-3-9-1.html">3.9.1</A>. 
</DIV>

<H4 Class="centered">Dynamic Semantics</H4>
<DIV Class="paranum">16</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>elaboration (record_type_definition)</I> 
[partial]}</SPAN> <A NAME="I2142"></A>The elaboration of a <SPAN Class="swiss"><A HREF="AA-3-8.html#S0066">record_type_definition</A></SPAN> 
creates the record type and its first subtype, and consists of the elaboration 
of the <SPAN Class="swiss"><A HREF="AA-3-8.html#S0067">record_definition</A></SPAN>. 
<SPAN STYLE="font-size: 80%">{<I>elaboration (record_definition)</I> 
[partial]}</SPAN> <A NAME="I2143"></A>The elaboration of a <SPAN Class="swiss"><A HREF="AA-3-8.html#S0067">record_definition</A></SPAN> 
consists of the elaboration of its <SPAN Class="swiss"><A HREF="AA-3-8.html#S0068">component_list</A></SPAN>, 
if any.</DIV>
<DIV Class="paranum">17</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>elaboration (component_list)</I> 
[partial]}</SPAN> <A NAME="I2144"></A>The elaboration of a <SPAN Class="swiss"><A HREF="AA-3-8.html#S0068">component_list</A></SPAN> 
consists of the elaboration of the <SPAN Class="swiss"><A HREF="AA-3-8.html#S0069">component_item</A></SPAN>s 
and <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0071">variant_part</A></SPAN>, 
if any, in the order in which they appear. <SPAN STYLE="font-size: 80%">{<I>elaboration 
(component_declaration)</I> [partial]}</SPAN> <A NAME="I2145"></A>The 
elaboration of a <SPAN Class="swiss"><A HREF="AA-3-8.html#S0070">component_declaration</A></SPAN> 
consists of the elaboration of the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0056">component_definition</A></SPAN>. 
</DIV>
<DIV Class="paranum">17.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>If the <SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0033">defining_identifier_list</A></SPAN> 
has more than one <SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN>, 
we presume here that the transformation explained in <A HREF="AA-3-3-1.html">3.3.1</A> 
has already taken place. Alternatively, we could say that the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0056">component_definition</A></SPAN> 
is elaborated once for each <SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN> 
in the list.&nbsp;</DIV>
<DIV Class="paranum">18/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="defect1.html#8652/0002">8652/0002</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00171.TXT">AI95-00171-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00230.TXT">AI95-00230-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>per-object expression</I>}</SPAN> <A NAME="I2146"></A><SPAN STYLE="font-size: 80%">{<I>per-object 
constraint</I>}</SPAN> <A NAME="I2147"></A><SPAN STYLE="font-size: 80%">{<I>entry 
index subtype</I>}</SPAN> <A NAME="I2148"></A>Within the definition of 
a composite type, if a <SPAN Class="swiss"><A HREF="AA-3-6.html#S0056">component_definition</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN> 
(see <A HREF="AA-9-5-2.html">9.5.2</A>) includes a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
that denotes a discriminant of the type, or that is an <SPAN Class="swiss"><A HREF="AA-4-1-4.html#S0100">attribute_reference</A></SPAN> 
whose <SPAN Class="swiss"><A HREF="AA-4-1.html#S0093">prefix</A></SPAN> 
denotes the current instance of the type, the expression containing the 
<SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> is called 
a <I>per-object expression</I>, and the <SPAN class="insert1"><SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0029">constraint</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-3-5.html#S0037">range</A></SPAN></SPAN><SPAN class="delete1">&nbsp;constraint</SPAN> 
being defined is called a <I>per-object constraint</I>. <SPAN STYLE="font-size: 80%">{<I>elaboration 
(component_definition)</I> [partial]}</SPAN> <A NAME="I2149"></A>For 
the elaboration of a <SPAN Class="swiss"><A HREF="AA-3-6.html#S0056">component_definition</A></SPAN> 
of a <SPAN Class="swiss"><A HREF="AA-3-8.html#S0070">component_declaration</A></SPAN><SPAN class="insert1">&nbsp;or the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
for an entry family (see <A HREF="AA-9-5-2.html">9.5.2</A>)</SPAN>,<SPAN class="insert2">&nbsp;if the component subtype is defined by an <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN> 
or</SPAN> if the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0029">constraint</A></SPAN> 
<SPAN class="insert1">or <SPAN Class="swiss"><A HREF="AA-3-5.html#S0037">range</A></SPAN></SPAN> 
of the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0027">subtype_indication</A></SPAN> 
<SPAN class="insert1">or <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN></SPAN> 
is not a per-object constraint, then the<SPAN class="insert2">&nbsp;<SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN>,</SPAN> 
<SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0027">subtype_indication</A></SPAN><SPAN class="insert2">,</SPAN> 
<SPAN class="insert1">or <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN></SPAN> 
is elaborated. On the other hand, if the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0029">constraint</A></SPAN> 
<SPAN class="insert1">or <SPAN Class="swiss"><A HREF="AA-3-5.html#S0037">range</A></SPAN></SPAN> 
is a per-object constraint, then the elaboration consists of the evaluation 
of any included expression that is not part of a per-object expression. 
<SPAN class="insert1">Each such expression is evaluated once unless it 
is part of a named association in a discriminant constraint, in which 
case it is evaluated once for each associated discriminant.</SPAN></DIV>
<DIV Class="paranum">18.1/1</DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0002">8652/0002</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00171.TXT">AI95-00171-01</A></I>} 
<SPAN class="insert1"><SPAN STYLE="font-size: 80%">{<I>Elaboration (per-object 
constraint)</I> [partial]}</SPAN> <A NAME="I2150"></A>When a per-object 
constraint is elaborated [(as part of creating an object)], each per-object 
expression of the constraint is evaluated. For other expressions, the 
values determined during the elaboration of the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0056">component_definition</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
are used. Any checks associated with the enclosing <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0027">subtype_indication</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN> 
are performed[, including the subtype compatibility check (see <A HREF="AA-3-2-2.html">3.2.2</A>),] 
and the associated subtype is created.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">18.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>The evaluation of other expressions 
that appear in <SPAN Class="swiss"><A HREF="AA-3-6.html#S0056">component_definition</A></SPAN>s 
and <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN>s 
is performed when the type definition is elaborated. The evaluation of 
expressions that appear as <SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN>s 
is postponed until an object is created. Expressions in representation 
items that appear within a composite type definition are evaluated according 
to the rules of the particular representation item.&nbsp;</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">19</DIV>
<DIV Class="Notes">57&nbsp;&nbsp;A <SPAN Class="swiss"><A HREF="AA-3-8.html#S0070">component_declaration</A></SPAN> 
with several identifiers is equivalent to a sequence of single <SPAN Class="swiss"><A HREF="AA-3-8.html#S0070">component_declaration</A></SPAN>s, 
as explained in <A HREF="AA-3-3-1.html">3.3.1</A>.</DIV>
<DIV Class="paranum">20</DIV>
<DIV Class="Notes">58&nbsp;&nbsp;The <SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN> 
of a record component is only evaluated upon the creation of a default-initialized 
object of the record type (presuming the object has the component, if 
it is in a <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0071">variant_part</A></SPAN> 
&mdash; see <A HREF="AA-3-3-1.html">3.3.1</A>).</DIV>
<DIV Class="paranum">21</DIV>
<DIV Class="Notes">59&nbsp;&nbsp;The subtype defined by a <SPAN Class="swiss"><A HREF="AA-3-6.html#S0056">component_definition</A></SPAN> 
(see <A HREF="AA-3-6.html">3.6</A>) has to be a definite subtype.</DIV>
<DIV Class="paranum">22</DIV>
<DIV Class="Notes">60&nbsp;&nbsp;If a record type does not have a <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0071">variant_part</A></SPAN>, 
then the same components are present in all values of the type.</DIV>
<DIV Class="paranum">23</DIV>
<DIV Class="Notes">61&nbsp;&nbsp;A record type is limited if it has the 
reserved word <B>limited</B> in its definition, or if any of its components 
are limited (see <A HREF="AA-7-5.html">7.5</A>).</DIV>
<DIV Class="paranum">24</DIV>
<DIV Class="Notes">62&nbsp;&nbsp;<SPAN STYLE="font-size: 80%">{<I>predefined 
operations (of a record type)</I> [partial]}</SPAN> <A NAME="I2151"></A>The 
predefined operations of a record type include membership tests, qualification, 
and explicit conversion. If the record type is nonlimited, they also 
include assignment and the predefined equality operators.</DIV>
<DIV Class="paranum">25/2</DIV>
<DIV Class="Notes">63&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
A component of a record can be named with a <SPAN Class="swiss"><A HREF="AA-4-1-3.html#S0098">selected_component</A></SPAN>. 
A value of a record can be specified with a <SPAN Class="swiss"><A HREF="AA-4-3-1.html#S0105">record_aggregate</A></SPAN><SPAN class="delete2">, 
unless the record type is limited</SPAN>.</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">26</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><I>Examples of record 
type declarations:&nbsp;</I></DIV>
<DIV Class="paranum">27</DIV>
<DIV Class="Examples"><B>type</B>&nbsp;Date&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>record</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Day&nbsp;&nbsp;&nbsp;:&nbsp;Integer&nbsp;<B>range</B>&nbsp;1&nbsp;..&nbsp;31;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Month&nbsp;:&nbsp;Month_Name;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Year&nbsp;&nbsp;:&nbsp;Integer&nbsp;<B>range</B>&nbsp;0&nbsp;..&nbsp;4000;<BR>
&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;<B>record</B>;</DIV>
<DIV Class="paranum">28</DIV>
<DIV Class="Examples"><B>type</B>&nbsp;Complex&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>record</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Re&nbsp;:&nbsp;Real&nbsp;:=&nbsp;0.0;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Im&nbsp;:&nbsp;Real&nbsp;:=&nbsp;0.0;<BR>
&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;<B>record</B>;</DIV>
<DIV Class="paranum">29</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em"><I>Examples of record 
variables:&nbsp;</I></DIV>
<DIV Class="paranum">30</DIV>
<DIV Class="Examples">Tomorrow,&nbsp;Yesterday&nbsp;:&nbsp;Date;<BR>
A,&nbsp;B,&nbsp;C&nbsp;:&nbsp;Complex;</DIV>
<DIV Class="paranum">31</DIV>
<DIV Class="Examples">--<SPAN Class="roman"><I>&nbsp;both&nbsp;components&nbsp;of&nbsp;A,&nbsp;B,&nbsp;and&nbsp;C&nbsp;are&nbsp;implicitly&nbsp;initialized&nbsp;to&nbsp;zero&nbsp;</I></SPAN></DIV>

<H4 Class="centered">Extensions to Ada 83</H4>
<DIV Class="paranum">31.a</DIV>
<DIV Class="Annotations">{<I>extensions to Ada 83</I>} <A NAME="I2152"></A>The 
syntax rule for <SPAN Class="swiss"><A HREF="AA-3-8.html#S0070">component_declaration</A></SPAN> 
is modified to use <SPAN Class="swiss"><A HREF="AA-3-6.html#S0056">component_definition</A></SPAN> 
(instead of <SPAN Class="swiss">component_subtype_definition</SPAN>). 
The effect of this change is to allow the reserved word <B>aliased</B> 
before the <SPAN Class="swiss">component_subtype_definition</SPAN>.</DIV>
<DIV Class="paranum">31.b</DIV>
<DIV Class="Annotations">A short-hand is provided for defining a null 
record type (and a null record extension), as these will be more common 
for abstract root types (and derived types without additional components).</DIV>
<DIV Class="paranum">31.c</DIV>
<DIV Class="Annotations">The syntax rule for <SPAN Class="swiss"><A HREF="AA-3-8.html#S0066">record_type_definition</A></SPAN> 
is modified to allow the reserved words <B>tagged</B> and <B>limited</B>. 
Tagging is new. Limitedness is now orthogonal to privateness. In Ada 
83 the syntax implied that limited private was sort of more private than 
private. However, limitedness really has nothing to do with privateness; 
limitedness simply indicates the lack of assignment capabilities, and 
makes perfect sense for nonprivate types such as record types.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<DIV Class="paranum">31.d/1</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
The syntax rules now allow <SPAN class="insert1"><SPAN Class="swiss"><A HREF="AA-13-1.html#S0283">aspect_clause</A></SPAN>s</SPAN><SPAN class="delete1"><SPAN Class="swiss"><A HREF="AA-13-1.html#S0284">&nbsp;representation_clause</A></SPAN>s</SPAN> 
to appear in a <SPAN Class="swiss"><A HREF="AA-3-8.html#S0067">record_definition</A></SPAN>. 
This is not a language extension, because Legality Rules prevent all 
language-defined representation clauses from appearing there. However, 
an implementation-defined <SPAN Class="swiss"><A HREF="AA-13-3.html#S0286">attribute_definition_clause</A></SPAN> 
could appear there. The reason for this change is to allow the rules 
for <SPAN class="insert1"><SPAN Class="swiss"><A HREF="AA-13-1.html#S0283">aspect_clause</A></SPAN>s</SPAN><SPAN class="delete1"><SPAN Class="swiss"><A HREF="AA-13-1.html#S0284">&nbsp;representation_clause</A></SPAN>s</SPAN> 
and representation pragmas to be as similar as possible.&nbsp;</DIV>

<H4 Class="centered">Extensions to Ada 95</H4>
<DIV Class="paranum">31.e/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
<SPAN class="insert2">{<I>extensions to Ada 95</I>} <A NAME="I2153"></A>Record 
components can have an anonymous access type.</SPAN></DIV>
<DIV Class="paranum">31.f/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
<SPAN class="insert2">{<I>extensions to Ada 95</I>} <A NAME="I2154"></A>Limited 
components can be initialized, so long as the expression is one that 
allows building the object in place (such as an <SPAN Class="swiss"><A HREF="AA-4-3.html#S0104">aggregate</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-6-4.html#S0164">function_call</A></SPAN>).</SPAN> 
</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">31.g/2</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0002">8652/0002</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00171.TXT">AI95-00171-01</A></I>} 
<SPAN class="insert2"><B>Corrigendum:</B> Improved the description of 
the elaboration of per-object constraints.</SPAN></DIV>
<DIV Class="paranum">31.h/2</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
<SPAN class="insert2"><B>Corrigendum:</B> Changed representation clauses 
to aspect clauses to reflect that they are used for more than just representation.</SPAN></DIV>
<DIV Class="paranum">31.i/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10318.TXT">AI95-00318-02</A></I>} 
<SPAN class="insert2">Defined <I>explicitly limited record</I> type to 
use in other rules.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-7-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-8-1.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
