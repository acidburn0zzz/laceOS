<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Pragmas Assert and Assertion_Policy</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B></SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-11-4-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-11-4-3.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>11.4.2 Pragmas Assert and Assertion_Policy</H1>
<DIV Class="paranum">1/2</DIV>
<DIV Class="Normal">Pragma Assert is used to assert the truth of a Boolean 
expression at any point within a sequence of declarations or statements. 
Pragma Assertion_Policy is used to control whether such assertions<A NAME="I4162"></A> 
are to be ignored by the implementation, checked at run-time, or handled 
in some implementation-defined manner.&nbsp;</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2/2</DIV>
<DIV Class="SyntaxIndented" Style="margin-bottom: 0.2em">The form of 
a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> Assert 
is as follows:&nbsp;</DIV>
<DIV Class="paranum">3/2</DIV>
<DIV Class="SyntaxIndented">&nbsp;&nbsp;<B>pragma</B> <A NAME="I4163"></A><A NAME="I4164"></A>Assert([Check 
=&gt;] <I>boolean_</I><A NAME="I4165"></A><SPAN Class="swiss"><A HREF="RM-4-4.html#S0115">expression</A></SPAN>[, 
[Message =&gt;] <I>string_</I><A NAME="I4166"></A><SPAN Class="swiss"><A HREF="RM-4-4.html#S0115">expression</A></SPAN>]);</DIV>
<DIV Class="paranum">4/2</DIV>
<DIV Class="SyntaxIndented">A <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Assert is allowed at the place where a <SPAN Class="swiss"><A HREF="RM-3-11.html#S0087">declarative_item</A></SPAN> 
or a <SPAN Class="swiss"><A HREF="RM-5-1.html#S0131">statement</A></SPAN> 
is allowed.</DIV>
<DIV Class="paranum">5/2</DIV>
<DIV Class="SyntaxIndented" Style="margin-bottom: 0.2em">The form of 
a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> Assertion_Policy 
is as follows:&nbsp;</DIV>
<DIV Class="paranum">6/2</DIV>
<DIV Class="SyntaxIndented">&nbsp;&nbsp;<B>pragma</B> <A NAME="I4167"></A><A NAME="I4168"></A>Assertion_Policy(<I>policy_</I><A NAME="I4169"></A><SPAN Class="swiss"><A HREF="RM-2-3.html#S0002">identifier</A></SPAN>);</DIV>
<DIV Class="paranum">7/2</DIV>
<DIV Class="SyntaxIndented"><A NAME="I4170"></A><A NAME="I4171"></A>A 
<SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> Assertion_Policy 
is a configuration pragma.</DIV>

<H4 Class="centered">Name Resolution Rules</H4>
<DIV Class="paranum">8/2</DIV>
<DIV Class="Normal">The expected type for the <I>boolean_</I><SPAN Class="swiss"><A HREF="RM-4-4.html#S0115">expression</A></SPAN> 
of a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Assert is any boolean type. The expected type for the <I>string_</I><SPAN Class="swiss"><A HREF="RM-4-4.html#S0115">expression</A></SPAN> 
of a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Assert is type String.&nbsp;</DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">9/2</DIV>
<DIV Class="Normal">The <I>policy_</I><SPAN Class="swiss"><A HREF="RM-2-3.html#S0002">identifier</A></SPAN> 
of a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Assertion_Policy shall be either Check, Ignore, or an implementation-defined 
identifier.&nbsp;</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">10/2</DIV>
<DIV Class="Normal">&nbsp;A <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Assertion_Policy is a configuration pragma that specifies the assertion 
policy in effect for the compilation units to which it applies. Different 
policies may apply to different compilation units within the same partition. 
The default assertion policy is implementation-defined.&nbsp;</DIV>
<DIV Class="paranum">11/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;The following language-defined 
library package exists:</DIV>
<DIV Class="paranum">12/2</DIV>
<DIV Class="Examples"><A NAME="I4172"></A><B>package</B>&nbsp;Ada.Assertions&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>pragma</B>&nbsp;Pure(Assertions);</DIV>
<DIV Class="paranum">13/2</DIV>
<DIV Class="Examples">&nbsp;&nbsp;&nbsp;Assertion_Error&nbsp;:&nbsp;<B>exception</B>;</DIV>
<DIV Class="paranum">14/2</DIV>
<DIV Class="Examples">&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;Assert(Check&nbsp;:&nbsp;<B>in</B>&nbsp;Boolean);<BR>
&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;Assert(Check&nbsp;:&nbsp;<B>in</B>&nbsp;Boolean;&nbsp;Message&nbsp;:&nbsp;<B>in</B>&nbsp;String);</DIV>
<DIV Class="paranum">15/2</DIV>
<DIV Class="Examples"><B>end</B>&nbsp;Ada.Assertions;</DIV>
<DIV Class="paranum">16/2</DIV>
<DIV Class="Normal">&nbsp;A compilation unit containing a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Assert has a semantic dependence on the Assertions library unit.</DIV>
<DIV Class="paranum">17/2</DIV>
<DIV Class="Normal">&nbsp;The assertion policy that applies to a generic unit 
also applies to all its instances.&nbsp;</DIV>

<H4 Class="centered">Dynamic Semantics</H4>
<DIV Class="paranum">18/2</DIV>
<DIV Class="Normal">&nbsp;An assertion policy <A NAME="I4173"></A>specifies 
how a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Assert is interpreted by the implementation. If the assertion policy 
is Ignore at the point of a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Assert, the pragma is ignored. If the assertion policy is Check at the 
point of a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Assert, the elaboration of the pragma consists of evaluating the boolean 
expression, and if the result is False, evaluating the Message argument, 
if any, and raising the exception Assertions.Assertion_Error, with a 
message if the Message argument is provided.</DIV>
<DIV Class="paranum">19/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;Calling the procedure 
Assertions.Assert without a Message parameter is equivalent to:</DIV>
<DIV Class="paranum">20/2</DIV>
<DIV Class="Examples"><B>if</B>&nbsp;Check&nbsp;=&nbsp;False&nbsp;<B>then</B><BR>
&nbsp;&nbsp;&nbsp;<B>raise</B>&nbsp;Ada.Assertions.Assertion_Error;<BR>
<B>end</B>&nbsp;<B>if</B>;</DIV>
<DIV Class="paranum">21/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;Calling the procedure 
Assertions.Assert with a Message parameter is equivalent to:</DIV>
<DIV Class="paranum">22/2</DIV>
<DIV Class="Examples"><B>if</B>&nbsp;Check&nbsp;=&nbsp;False&nbsp;<B>then</B><BR>
&nbsp;&nbsp;&nbsp;<B>raise</B>&nbsp;Ada.Assertions.Assertion_Error&nbsp;<B>with</B>&nbsp;Message;<BR>
<B>end</B>&nbsp;<B>if</B>;</DIV>
<DIV Class="paranum">23/2</DIV>
<DIV Class="Normal">&nbsp;The procedures Assertions.Assert have these effects 
independently of the assertion policy in effect.</DIV>

<H4 Class="centered">Implementation Permissions</H4>
<DIV Class="paranum">24/2</DIV>
<DIV Class="Normal">&nbsp;Assertion_Error may be declared by renaming an implementation-defined 
exception from another package.&nbsp;</DIV>
<DIV Class="paranum">25/2</DIV>
<DIV Class="Normal">&nbsp;Implementations may define their own assertion policies. 
</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">26/2</DIV>
<DIV Class="Notes">2&nbsp;&nbsp;Normally, the boolean expression in a 
<SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> Assert 
should not call functions that have significant side-effects when the 
result of the expression is True, so that the particular assertion policy 
in effect will not affect normal operation of the program.&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-11-4-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-11-4-3.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
