<HTML><HEAD>
<a href="http://sw-eng.falls-church.va.us/AdaIC/"><IMG SRC="small_adaic_logo.gif" ALT="[Ada Information Clearinghouse]"></a>
<hr>
<TITLE>Ada '83 Rationale, Sec 8.1: Subprogram Declarations and Subprogram Bodies</TITLE>
</HEAD>

<BODY>
<center><h2>"Rationale for the Design of the<BR>
Ada&#174; Programming Language"</H2>
<H3>[Ada '83 Rationale, HTML Version]</h3>
<h6><i><a href="ratl-00.html#copyright">Copyright</a> &#169;1986
owned by the United States Government. All rights reserved.<BR>
Direct inquiries to the <a href="http://sw-eng.falls-church.va.us/AdaIC/">Ada Information Clearinghouse</a>
at <A HREF="mailto://adainfo@sw-eng.falls-church.va.us">adainfo@sw-eng.falls-church.va.us</A>.</i></h6></center>
<hr>

<H2>CHAPTER 8: Subprograms</H2>

<H3><a name="8.1">8.1 Subprogram Declarations and Subprogram Bodies</a></H3>

The textual presentation of subprogram bodies is largely classical, as
shown in the following example:
<p>
<table border cellpadding=6><tr><td><pre>
procedure PUSH(E :  in ELEMENT;  S :  in out STACK) is
  -- local quantities could be declared here
begin
  if S.INDEX = S.SIZE then
    raise STACK_OVERFLOW;
  else
    S.INDEX :=  S.INDEX + 1;
    S.SPACE(S.INDEX) :=  E;
  end if;
end PUSH;
</pre></td></tr></table>
<p>
However, Ada  allows the  subprogram declaration  to be separated from
the subprogram body. For example, the subprogram declaration
<p>
<PRE>    procedure PUSH(E :  in ELEMENT;  S :  in out STACK);</PRE>
<p>
may appear grouped with other subprogram, variable, constant, and type
declarations in  a given  declarative part,  while its body may appear
later, in the list of bodies of the declarative part.
<p>
The declaration consists of the subprogram specification followed by a
semicolon.
<p>
The main  reason for permitting such separation is readability. If the
body and  the specification  appear together  (as in  <a href="ratl-BIB.html#languages">Algol  60</a>),  the
potentially  large   body  is   mixed  with   the  smaller   interface
specification. The  specification provides  the information  needed to
call the subprogram; it may be hard for the reader to find, especially
when examining  a program  with a  large number  of subprograms spread
over  several  pages  of  text.  In  addition,  an  isolated  variable
declaration between  two large  subprograms is  a well-known source of
error in  Algol 60  (the neglected variable may hide an outer variable
that is in consequence never used - <a href="ratl-03-02.html#3.2">see 3.2</a>).
<p>
These inconveniences are avoided in Ada. All bodies must be grouped at
the end  of a  declarative part  without any  variable declaration  in
between them.  Furthermore the  user is  provided with  the ability to
regroup subprogram declarations within a small space of text, so as to
provide an  immediate overview  of all subprograms that are local to a
given program  unit. The  split of the subprogram declaration from its
body is  merely a  convenience for  large subprograms;  but  it  is  a
necessity for  subprograms declared  in the visible part of a package,
and for  subprograms that are mutually recursive. However, requiring a
split in  all cases,  including  small  subprograms,  would  add  only
verbosity without  compensating advantages.  In Ada,  the decision  to
split is  therefore left  to the  programmer, except in the cases just
mentioned where it is necessary.
<p>
Although this decision is left to the programmer, no semantic problems
are  involved   since  the  information  provided  by  the  subprogram
declaration is  repeated in  full in  the subprogram body, and the two
specifications must agree.
<p>
<center>
<hr width=60%>
&#128; <a href="ratl-08-02.html#8.2"><b>NEXT</b></a>
&#128; <a href="ratl-08.html#8"><b>PREVIOUS</b></a>
&#128; <a href="ratl-08.html#8"><b>UP</b></a>
&#128; <a href="ratl-TOC.html"><b>TOC</b></a>
&#128; <a href="ratl-IDX.html"><b>INDEX</b></a>
&#128;
<hr width=60%>
<address>Address any questions or comments to
<A HREF="mailto://adainfo@sw-eng.falls-church.va.us">adainfo@sw-eng.falls-church.va.us</A>.</address></center>
<p>
</BODY></HTML>

