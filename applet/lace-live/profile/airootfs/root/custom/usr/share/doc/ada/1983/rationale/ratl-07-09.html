<HTML><HEAD>
<a href="http://sw-eng.falls-church.va.us/AdaIC/"><IMG SRC="small_adaic_logo.gif" ALT="[Ada Information Clearinghouse]"></a>
<hr>
<TITLE>Ada '83 Rationale, Sec 7.9: Conclusion - Achieving Copies in Ada</TITLE>
</HEAD>

<BODY>
<center><h2>"Rationale for the Design of the<BR>
Ada&#174; Programming Language"</H2>
<H3>[Ada '83 Rationale, HTML Version]</h3>
<h6><i><a href="ratl-00.html#copyright">Copyright</a> &#169;1986
owned by the United States Government. All rights reserved.<BR>
Direct inquiries to the <a href="http://sw-eng.falls-church.va.us/AdaIC/">Ada Information Clearinghouse</a>
at <A HREF="mailto://adainfo@sw-eng.falls-church.va.us">adainfo@sw-eng.falls-church.va.us</A>.</i></h6></center>
<hr>

<H2>CHAPTER 7: Derived Types</H2>

<H3><a name="7.9">7.9 Conclusion - Achieving Copies in Ada</a></H3>

7.9 Conclusion - Achieving Copies in Ada
<p>

Three main classes of entity are found in Ada programs:
<ol>
<li>Objects

<li>Types

<li>Program units
</ol>

The last class consists mainly of subprograms and packages. Nominally,
it also  includes tasks; although in certain respects tasks are closer
to types and objects.
<p>
For each  class of  entity, the language provides a copying mechanism;
that is,  a mechanism  by which we can create distinct replicas having
similar properties:

<p>
<center><table border cellpadding=6><tr><th align=left>class of entity</th><th align=left>replication mechanism</th></tr>
<tr><td>
<table><tr><td>
<pre>
(1) objects
(2) types
(3) program units
</pre></td></tr></table>
</td><td>
<table><tr><td>
<pre>
object declaration
type derivation
generic instantiation
</pre></td></tr></table></tr></table></center>
<p>
Clearly, there  are limits  to this  analogy  since  each  replication
mechanism is adapted to the class of entities to which it applies.
<p>
The replication  mechanism offered  by generic  units is very powerful
and can  be used  to replicate  the contents of program units. Thus in
<a href="ratl-07-03.html#7.3">section 7.3</a>  it was  shown that  some aspects of type replication (not
all, however)  could be achieved by generic instantiation of a package
that included the model type.
<p>
The generality  of generic units certainly runs against a saying often
heard in programming language design that there should be only one way
of doing  a given  thing. Generic  instantiation can  even be  used to
achieve object  replication, but  it  would  be  carrying  matters  to
extremes to conclude from this that no simpler way should be provided.
Consider thus
<p>
<table border cellpadding=6><tr><td><pre>
generic
package CREATE is
  OBJECT :  INTEGER;
end;
</pre></td></tr></table>
<p>
and now we can replicate objects by generic instantiation:
<p>
<table border cellpadding=6><tr><td><pre>
package A                 is new CREATE;  -- creates A.OBJECT
package B                 is new CREATE;  -- creates B.OBJECT
...
package Z                 is new CREATE;  -- creates Z.OBJECT
</pre></td></tr></table>
<p>
But (obviously)  replication of objects could be achieved in a simpler
manner:
<p>
<table border cellpadding=6><tr><td><pre>
A  :  INTEGER;
B  :  INTEGER;
...
Z  :  INTEGER;
</pre></td></tr></table>
<p>
The awkwardness  of the  above example  should be an indication of the
limitations of  the only  one way principle. (Note also that we are in
an inescapable  circular situation  since both  ways imply  an  object
declaration.) Generic  instantiation can  be used to replicate objects
but it  is not  the most  natural  way.  Similarly,  although  generic
instantiation can  be used  to replicate  types, derivation  is a more
natural and direct way.
<p>
To summarize  this point,  the design  of Ada has provided replication
mechanisms for  each of  the three  main classes  of entity:  objects,
types, and  program units.  Each of these mechanisms is adapted to the
corresponding  class  of  entity:  it  provides  the  natural  way  of
replicating  the  corresponding  entities.  Being  specialized,  these
mechanisms can also take advantage of specific aspects of the entities
concerned. In  the  case  of  generic  units  these  specific  aspects
correspond to  parameterization. In  the case  of  derived  types  the
specific aspects correspond to the allowed explicit conversions.
<p>
Six major  situations have  been reviewed  in  which  copying  a  type
provides a natural solution for the problem considered:
<ul>
<li>Simple strong typing

<li>Numeric types

<li>New types inheriting literals

<li>Construction of private types

<li>Transitivity of visibility

<li>Change of representation
</ul>

The common  characteristic of the above six situations is that in each
of them  there is a need to introduce a type that is a copy of another
type. Without derivation, a variety of solutions and palliatives, most
of them  only partially satisfactory, would be required to solve these
six problems.  Furthermore many  of these  palliatives  would  involve
manual copying  and therefore  raise severe  issues of maintenance and
configuration control.  With derivation  a  unique  -  and  elegant  -
mechanism is  used to  solve what  is inherently a unique problem: the
replication of a type.
<p>
<center>
<hr width=60%>
&#128; <a href="ratl-08.html#8"><b>NEXT</b></a>
&#128; <a href="ratl-07-08.html#7.8"><b>PREVIOUS</b></a>
&#128; <a href="ratl-07.html#7"><b>UP</b></a>
&#128; <a href="ratl-TOC.html"><b>TOC</b></a>
&#128; <a href="ratl-IDX.html"><b>INDEX</b></a>
&#128;
<hr width=60%>
<address>Address any questions or comments to
<A HREF="mailto://adainfo@sw-eng.falls-church.va.us">adainfo@sw-eng.falls-church.va.us</A>.</address></center>
<p>
</BODY></HTML>

