<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Entries and Accept Statements</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert1 {text-decoration: underline; color: rgb(0,51,51) }
    SPAN.delete1 {text-decoration: line-through; color: rgb(0,51,51) }
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Wide {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    DIV.SmallExamples {font-family: "Courier New", monospace; font-size: 72%; line-height: 122%; margin-left: 9.6em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-9-5-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-9-5-3.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>9.5.2 Entries and Accept Statements</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal"><SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">Entry_declaration</A></SPAN>s, 
with the corresponding <SPAN Class="swiss">entry_bodies</SPAN> or <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>s, 
are used to define potentially queued operations on tasks and protected 
objects.&nbsp;</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2/2</DIV>
<DIV Class="SyntaxIndented">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00397.TXT">AI95-00397-01</A></I>} 
<SPAN Class="swiss">entry_declaration</SPAN><A NAME="I4009"></A><A NAME="S0200"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><SPAN class="insert2"><BR>
&nbsp;&nbsp;&nbsp;[<A NAME="I4010"></A><SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN>]</SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>entry</B>&nbsp;<A NAME="I4011"></A><SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN>&nbsp;[(<A NAME="I4012"></A><SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN>)]&nbsp;<A NAME="I4013"></A><SPAN Class="swiss"><A HREF="AA-6-1.html#S0157">parameter_profile</A></SPAN>;</DIV>
<DIV Class="paranum">3</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">accept_statement</SPAN><A NAME="I4014"></A><A NAME="S0201"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>accept</B>&nbsp;<I>entry_</I><A NAME="I4015"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN>&nbsp;[(<A NAME="I4016"></A><SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0202">entry_index</A></SPAN>)]&nbsp;<A NAME="I4017"></A><SPAN Class="swiss"><A HREF="AA-6-1.html#S0157">parameter_profile</A></SPAN>&nbsp;[<B>do</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A NAME="I4018"></A><SPAN Class="swiss"><A HREF="AA-11-2.html#S0247">handled_sequence_of_statements</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;[<I>entry_</I><A NAME="I4019"></A><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>]];</DIV>
<DIV Class="paranum">3.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>We cannot use <SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN> 
for <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>s. 
Although an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
is sort of like a body, it can appear nested within a <SPAN Class="swiss"><A HREF="AA-5-6.html#S0145">block_statement</A></SPAN>, 
and therefore be hidden from its own entry by an outer homograph.&nbsp;</DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">entry_index</SPAN><A NAME="I4020"></A><A NAME="S0202"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><A NAME="I4021"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN></DIV>
<DIV Class="paranum">5</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">entry_body</SPAN><A NAME="I4022"></A><A NAME="S0203"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;<B>entry</B>&nbsp;<A NAME="I4023"></A><SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN>&nbsp;&nbsp;<A NAME="I4024"></A><SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0204">entry_body_formal_part</A></SPAN>&nbsp;&nbsp;<A NAME="I4025"></A><SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0205">entry_barrier</A></SPAN>&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A NAME="I4026"></A><SPAN Class="swiss"><A HREF="AA-3-11.html#S0086">declarative_part</A></SPAN><BR>
&nbsp;&nbsp;<B>begin</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A NAME="I4027"></A><SPAN Class="swiss"><A HREF="AA-11-2.html#S0247">handled_sequence_of_statements</A></SPAN><BR>
&nbsp;&nbsp;<B>end</B>&nbsp;[<I>entry_</I><A NAME="I4028"></A><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>];</DIV>
<DIV Class="paranum">5.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Discussion:&nbsp;</B></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00397.TXT">AI95-00397-01</A></I>} 
<SPAN class="insert2">We don't allow an <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN> 
on an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN> 
because entries always implement procedures at the point of the type 
declaration; there is no late implementation. And we don't want to have 
to think about <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN>s 
on <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>s.</SPAN> 
</DIV>
<DIV Class="paranum">6</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">entry_body_formal_part</SPAN><A NAME="I4029"></A><A NAME="S0204"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN>[(<A NAME="I4030"></A><SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0206">entry_index_specification</A></SPAN>)]&nbsp;<A NAME="I4031"></A><SPAN Class="swiss"><A HREF="AA-6-1.html#S0157">parameter_profile</A></SPAN></DIV>
<DIV Class="paranum">7</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">entry_barrier</SPAN><A NAME="I4032"></A><A NAME="S0205"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><B>when</B>&nbsp;<A NAME="I4033"></A><SPAN Class="swiss"><A HREF="AA-5-3.html#S0139">condition</A></SPAN></DIV>
<DIV Class="paranum">8</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">entry_index_specification</SPAN><A NAME="I4034"></A><A NAME="S0206"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><B>for</B>&nbsp;<A NAME="I4035"></A><SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN>&nbsp;<B>in</B>&nbsp;<A NAME="I4036"></A><SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN></DIV>
<DIV Class="paranum">9</DIV>
<DIV Class="SyntaxIndented">If an <I>entry_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
appears at the end of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>, 
it shall repeat the <I>entry_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN>. 
If an <I>entry_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
appears at the end of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN>, 
it shall repeat the <SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN>.</DIV>
<DIV Class="paranum">10</DIV>
<DIV Class="SyntaxIndented">[An <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
is allowed only in a protected or task declaration.]&nbsp;</DIV>
<DIV Class="paranum">10.a</DIV>
<DIV Class="Annotations"><B>Proof:&nbsp;</B>This follows from the BNF.&nbsp;</DIV>
<DIV Class="paranum">10.1/2</DIV>
<DIV Class="SyntaxIndented">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00397.TXT">AI95-00397-01</A></I>} 
<SPAN class="insert2">An <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN> 
is not allowed in an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
that includes a <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN>.</SPAN> 
</DIV>
<DIV Class="paranum">10.a.1/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Reason:&nbsp;</B>An entry 
family can never implement something, so allowing an indicator is felt 
by the majority of the ARG to be redundant.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Name Resolution Rules</H4>
<DIV Class="paranum">11</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>expected profile 
(accept_statement entry_direct_name)</I> [partial]}</SPAN> <A NAME="I4037"></A>In 
an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>, 
the expected profile for the <I>entry_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN> 
is that of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN>; 
<SPAN STYLE="font-size: 80%">{<I>expected type (entry_index)</I> [partial]}</SPAN> 
<A NAME="I4038"></A>the expected type for an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0202">entry_index</A></SPAN> 
is that of the subtype defined by the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN> 
of the corresponding <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN>.</DIV>
<DIV Class="paranum">12</DIV>
<DIV Class="Normal">Within the <SPAN Class="swiss"><A HREF="AA-11-2.html#S0247">handled_sequence_of_statements</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>, 
if a <SPAN Class="swiss"><A HREF="AA-4-1-3.html#S0098">selected_component</A></SPAN> 
has a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0093">prefix</A></SPAN> 
that denotes the corresponding <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN>, 
then the entity denoted by the <SPAN Class="swiss"><A HREF="AA-4-1.html#S0093">prefix</A></SPAN> 
is the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>, 
and the <SPAN Class="swiss"><A HREF="AA-4-1-3.html#S0098">selected_component</A></SPAN> 
is interpreted as an expanded name (see <A HREF="AA-4-1-3.html">4.1.3</A>)[; 
the <SPAN Class="swiss"><A HREF="AA-4-1-3.html#S0099">selector_name</A></SPAN> 
of the <SPAN Class="swiss"><A HREF="AA-4-1-3.html#S0098">selected_component</A></SPAN> 
has to be the <SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
for some formal parameter of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>]. 
</DIV>
<DIV Class="paranum">12.a</DIV>
<DIV Class="Annotations"><B>Proof:&nbsp;</B>The only declarations that occur 
immediately within the declarative region of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
are those for its formal parameters.&nbsp;</DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">13</DIV>
<DIV Class="Normal">An <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
in a task declaration shall not contain a specification for an access 
parameter (see <A HREF="AA-3-10.html">3.10</A>).&nbsp;</DIV>
<DIV Class="paranum">13.a</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em"><B>Reason:&nbsp;</B>Access 
parameters for task entries would require a complex implementation. For 
example:&nbsp;</DIV>
<DIV Class="paranum">13.b</DIV>
<DIV Class="SmallExamples"><B>task</B>&nbsp;T&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>entry</B>&nbsp;E(Z&nbsp;:&nbsp;<B>access</B>&nbsp;Integer);&nbsp;--<SPAN Class="roman"><I>&nbsp;Illegal!</I></SPAN><BR>
<B>end</B>&nbsp;T;</DIV>
<DIV Class="paranum">13.c</DIV>
<DIV Class="SmallExamples"><B>task&nbsp;body</B>&nbsp;T&nbsp;<B>is</B><BR>
<B>begin</B><BR>
&nbsp;&nbsp;&nbsp;<B>declare</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;A&nbsp;<B>is&nbsp;access&nbsp;all</B>&nbsp;Integer;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X&nbsp;:&nbsp;A;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Int&nbsp;:&nbsp;<B>aliased</B>&nbsp;Integer;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>task</B>&nbsp;Inner;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>task&nbsp;body</B>&nbsp;Inner&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>begin</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;T.E(Int'Access);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;Inner;<BR>
&nbsp;&nbsp;&nbsp;<B>begin</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>accept</B>&nbsp;E(Z&nbsp;:&nbsp;<B>access</B>&nbsp;Integer)&nbsp;<B>do</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X&nbsp;:=&nbsp;A(Z);&nbsp;--<SPAN Class="roman"><I>&nbsp;Accessibility_Check</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;E;<BR>
&nbsp;&nbsp;&nbsp;<B>end</B>;<BR>
<B>end</B>&nbsp;T;</DIV>
<DIV Class="paranum">13.d</DIV>
<DIV Class="Annotations">Implementing the Accessibility_Check inside 
the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
for E is difficult, since one does not know whether the entry caller 
is calling from inside the immediately enclosing declare block or from 
outside it. This means that the lexical nesting level associated with 
the designated object is not sufficient to determine whether the Accessibility_Check 
should pass or fail.</DIV>
<DIV Class="paranum">13.e</DIV>
<DIV Class="Annotations">Note that such problems do not arise with protected 
entries, because <SPAN Class="swiss">entry_bodies</SPAN> are always nested 
immediately within the <SPAN Class="swiss"><A HREF="AA-9-4.html#S0198">protected_body</A></SPAN>; 
they cannot be further nested as can <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>s, 
nor can they be called from within the <SPAN Class="swiss"><A HREF="AA-9-4.html#S0198">protected_body</A></SPAN> 
(since no entry calls are permitted inside a <SPAN Class="swiss"><A HREF="AA-9-4.html#S0198">protected_body</A></SPAN>). 
</DIV>
<DIV Class="paranum">13.1/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00397.TXT">AI95-00397-01</A></I>} 
<SPAN class="insert2">If an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
has an <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN>, 
then at the point of the declaration:</SPAN>&nbsp;</DIV>
<DIV Class="paranum">13.2/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">if the <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN> 
is <B>overriding</B>, then the entry shall implement an inherited subprogram;</SPAN></LI></UL>
<DIV Class="paranum">13.3/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">if the <SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">overriding_indicator</A></SPAN> 
is <B>not overriding</B>, then the entry shall not implement any inherited 
subprogram.</SPAN></LI></UL>
<DIV Class="paranum">13.4/2</DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;<SPAN class="insert2"><SPAN STYLE="font-size: 80%">{<I>generic 
contract issue</I> [partial]}</SPAN> <A NAME="I4039"></A>In addition 
to the places where Legality Rules normally apply (see <A HREF="AA-12-3.html">12.3</A>), 
these rules also apply in the private part of an instance of a generic 
unit.</SPAN></DIV>
<DIV Class="paranum">13.f/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Discussion:&nbsp;</B>These 
rules are subtly different than those for subprograms (see <A HREF="AA-8-3-1.html">8.3.1</A>) 
because there cannot be &ldquo;late&rdquo; inheritance of primitives 
from interfaces. Hidden (that is, private) interfaces are prohibited 
explicitly (see <A HREF="AA-7-3.html">7.3</A>), as are hidden primitive 
operations (as private operations of public abstract types are prohibited 
&mdash; see <A HREF="AA-3-9-3.html">3.9.3</A>).</SPAN>&nbsp;</DIV>
<DIV Class="paranum">14</DIV>
<DIV Class="Normal">For an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>, 
the innermost enclosing body shall be a <SPAN Class="swiss"><A HREF="AA-9-1.html#S0192">task_body</A></SPAN>, 
and the <I>entry_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN> 
shall denote an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
in the corresponding task declaration; the profile of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
shall conform fully to that of the corresponding <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN>. 
<SPAN STYLE="font-size: 80%">{<I>full conformance (required)</I>}</SPAN> 
<A NAME="I4040"></A>An <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
shall have a parenthesized <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0202">entry_index</A></SPAN> 
if and only if the corresponding <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
has a <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN>.</DIV>
<DIV Class="paranum">15</DIV>
<DIV Class="Normal">An <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
shall not be within another <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
that corresponds to the same <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN>, 
nor within an <SPAN Class="swiss"><A HREF="AA-9-7-4.html#S0223">asynchronous_select</A></SPAN> 
inner to the enclosing <SPAN Class="swiss"><A HREF="AA-9-1.html#S0192">task_body</A></SPAN>. 
</DIV>
<DIV Class="paranum">15.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B><SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">Accept_statement</A></SPAN>s 
are required to be immediately within the enclosing <SPAN Class="swiss"><A HREF="AA-9-1.html#S0192">task_body</A></SPAN> 
(as opposed to being in a nested subprogram) to ensure that a nested 
task does not attempt to accept the entry of its enclosing task. We considered 
relaxing this restriction, either by making the check a run-time check, 
or by allowing a nested task to accept an entry of its enclosing task. 
However, neither change seemed to provide sufficient benefit to justify 
the additional implementation burden.</DIV>
<DIV Class="paranum">15.b</DIV>
<DIV Class="Annotations">Nested <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>s 
for the same entry (or entry family) are prohibited to ensure that there 
is no ambiguity in the resolution of an expanded name for a formal parameter 
of the entry. This could be relaxed by allowing the inner one to hide 
the outer one from all visibility, but again the small added benefit 
didn't seem to justify making the change for Ada 95.</DIV>
<DIV Class="paranum">15.c</DIV>
<DIV Class="Annotations"><SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">Accept_statement</A></SPAN>s 
are not permitted within <SPAN Class="swiss"><A HREF="AA-9-7-4.html#S0223">asynchronous_select</A></SPAN> 
statements to simplify the semantics and implementation: an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
in an <SPAN Class="swiss"><A HREF="AA-9-7-4.html#S0226">abortable_part</A></SPAN> 
could result in Tasking_Error being propagated from an entry call even 
though the target task was still callable; implementations that use multiple 
tasks implicitly to implement an <SPAN Class="swiss"><A HREF="AA-9-7-4.html#S0223">asynchronous_select</A></SPAN> 
might have trouble supporting &quot;up-level&quot; accepts. Furthermore, 
if <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>s 
were permitted in the <SPAN Class="swiss"><A HREF="AA-9-7-4.html#S0226">abortable_part</A></SPAN>, 
a task could call its own entry and then accept it in the <SPAN Class="swiss"><A HREF="AA-9-7-4.html#S0226">abortable_part</A></SPAN>, 
leading to rather unusual and possibly difficult-to-specify semantics. 
</DIV>
<DIV Class="paranum">16</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>requires a completion 
(protected entry_declaration)</I> [partial]}</SPAN> <A NAME="I4041"></A>An 
<SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
of a protected unit requires a completion[, which shall be an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN>,] 
<SPAN STYLE="font-size: 80%">{<I>only as a completion (entry_body)</I> 
[partial]}</SPAN> <A NAME="I4042"></A>and every <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN> 
shall be the completion of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
of a protected unit. <SPAN STYLE="font-size: 80%">{<I>completion legality 
(entry_body)</I> [partial]}</SPAN> <A NAME="I4043"></A>The profile of 
the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN> 
shall conform fully to that of the corresponding declaration. <SPAN STYLE="font-size: 80%">{<I>full 
conformance (required)</I>}</SPAN> <A NAME="I4044"></A></DIV>
<DIV Class="paranum">16.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>An <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN>, 
unlike a <SPAN Class="swiss"><A HREF="AA-6-1.html#S0148">subprogram_declaration</A></SPAN>, 
cannot be completed with a <SPAN Class="swiss"><A HREF="AA-8-5.html#S0182">renaming_declaration</A></SPAN>. 
</DIV>
<DIV Class="paranum">16.b</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B>The completion can be a 
<SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> Import, 
if the implementation supports it.&nbsp;</DIV>
<DIV Class="paranum">16.c</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>The above applies only to 
protected entries, which are the only ones completed with <SPAN Class="swiss">entry_bodies</SPAN>. 
Task entries have corresponding <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>s 
instead of having <SPAN Class="swiss">entry_bodies</SPAN>, and we do 
not consider an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
to be a &ldquo;completion,&rdquo; because a task <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
is allowed to have zero, one, or more than one corresponding <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>s. 
</DIV>
<DIV Class="paranum">17</DIV>
<DIV Class="Normal">An <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0204">entry_body_formal_part</A></SPAN> 
shall have an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0206">entry_index_specification</A></SPAN> 
if and only if the corresponding <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
has a <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN>. 
In this case, the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN>s 
of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
and the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0206">entry_index_specification</A></SPAN> 
shall fully conform to one another (see <A HREF="AA-6-3-1.html">6.3.1</A>). 
<SPAN STYLE="font-size: 80%">{<I>full conformance (required)</I>}</SPAN> 
<A NAME="I4045"></A></DIV>
<DIV Class="paranum">18</DIV>
<DIV Class="Normal">A name that denotes a formal parameter of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN> 
is not allowed within the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0205">entry_barrier</A></SPAN> 
of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN>.</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">19</DIV>
<DIV Class="Normal">The parameter modes defined for parameters in the 
<SPAN Class="swiss"><A HREF="AA-6-1.html#S0157">parameter_profile</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
are the same as for a <SPAN Class="swiss"><A HREF="AA-6-1.html#S0148">subprogram_declaration</A></SPAN> 
and have the same meaning (see <A HREF="AA-6-2.html">6.2</A>).&nbsp;</DIV>
<DIV Class="paranum">19.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>Note that access parameters 
are not allowed for task entries (see above).&nbsp;</DIV>
<DIV Class="paranum">20</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>family (entry)</I>}</SPAN> 
<A NAME="I4046"></A><SPAN STYLE="font-size: 80%">{<I>entry family</I>}</SPAN> 
<A NAME="I4047"></A><SPAN STYLE="font-size: 80%">{<I>entry index subtype</I>}</SPAN> 
<A NAME="I4048"></A>An <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
with a <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN> 
(see <A HREF="AA-3-6.html">3.6</A>) declares a <I>family</I> of distinct 
entries having the same profile, with one such entry for each value of 
the <I>entry index subtype</I> defined by the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN>. 
[A name for an entry of a family takes the form of an <SPAN Class="swiss"><A HREF="AA-4-1-1.html#S0096">indexed_component</A></SPAN>, 
where the <SPAN Class="swiss"><A HREF="AA-4-1.html#S0093">prefix</A></SPAN> 
denotes the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
for the family, and the index value identifies the entry within the family.] 
<SPAN STYLE="font-size: 80%">{<I>single entry</I>}</SPAN> <A NAME="I4049"></A><SPAN STYLE="font-size: 80%">{<I>entry 
(single)</I>}</SPAN> <A NAME="I4050"></A>The term <I>single entry</I> 
is used to refer to any entry other than an entry of an entry family.</DIV>
<DIV Class="paranum">21</DIV>
<DIV Class="Normal">In the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN> 
for an entry family, the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0206">entry_index_specification</A></SPAN> 
declares a named constant whose subtype is the entry index subtype defined 
by the corresponding <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN>; 
<SPAN STYLE="font-size: 80%">{<I>named entry index</I>}</SPAN> <A NAME="I4051"></A>the 
value of the <I>named entry index</I> identifies which entry of the family 
was called.&nbsp;</DIV>
<DIV Class="paranum">21.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>The <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN> 
of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0206">entry_index_specification</A></SPAN> 
is not elaborated; the subtype of the named constant declared is defined 
by the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN> 
of the corresponding <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN>, 
which is elaborated, either when the type is declared, or when the object 
is created, if its constraint is per-object.&nbsp;</DIV>

<H4 Class="centered">Dynamic Semantics</H4>
<DIV Class="paranum">22/1</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="defect1.html#8652/0002">8652/0002</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00171.TXT">AI95-00171-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>elaboration (entry_declaration)</I> 
[partial]}</SPAN> <A NAME="I4052"></A><SPAN class="insert1">The elaboration 
of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
for an entry family consists of the elaboration of the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN>, 
as described in <A HREF="AA-3-8.html">3.8</A>.</SPAN><SPAN class="delete1">&nbsp;For 
the elaboration of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
for an entry family, if the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN> 
contains no per-object expressions (see <A HREF="AA-3-8.html">3.8</A>), 
then the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN> 
is elaborated. Otherwise, the elaboration of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
consists of the evaluation of any expression of the <SPAN Class="swiss"><A HREF="AA-3-6.html#S0055">discrete_subtype_definition</A></SPAN> 
that is not a per-object expression (or part of one).</SPAN> The elaboration 
of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0200">entry_declaration</A></SPAN> 
for a single entry has no effect.&nbsp;</DIV>
<DIV Class="paranum">22.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>The elaboration of the declaration 
of a protected subprogram has no effect, as specified in clause <A HREF="AA-6-1.html">6.1</A>. 
The default initialization of an object of a task or protected type is 
covered in <A HREF="AA-3-3-1.html">3.3.1</A>.&nbsp;</DIV>
<DIV Class="paranum">23</DIV>
<DIV Class="Normal">[The actions to be performed when an entry is called 
are specified by the corresponding <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>s 
(if any) for an entry of a task unit, and by the corresponding <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN> 
for an entry of a protected unit.]</DIV>
<DIV Class="paranum">24</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>execution (accept_statement)</I> 
[partial]}</SPAN> <A NAME="I4053"></A>For the execution of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>, 
the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0202">entry_index</A></SPAN>, 
if any, is first evaluated and converted to the entry index subtype; 
this index value identifies which entry of the family is to be accepted. 
<SPAN STYLE="font-size: 80%">{<I>implicit subtype conversion (entry index)</I> 
[partial]}</SPAN> <A NAME="I4054"></A><SPAN STYLE="font-size: 80%">{<I>blocked 
(on an accept_statement)</I> [partial]}</SPAN> <A NAME="I4055"></A><SPAN STYLE="font-size: 80%">{<I>selection 
(of an entry caller)</I>}</SPAN> <A NAME="I4056"></A>Further execution 
of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
is then blocked until a caller of the corresponding entry is selected 
(see <A HREF="AA-9-5-3.html">9.5.3</A>), whereupon the <SPAN Class="swiss"><A HREF="AA-11-2.html#S0247">handled_sequence_of_statements</A></SPAN>, 
if any, of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
is executed, with the formal parameters associated with the corresponding 
actual parameters of the selected entry call. Upon completion of the 
<SPAN Class="swiss"><A HREF="AA-11-2.html#S0247">handled_sequence_of_statements</A></SPAN>, 
the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
completes and is left. When an exception is propagated from the <SPAN Class="swiss"><A HREF="AA-11-2.html#S0247">handled_sequence_of_statements</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>, 
the same exception is also raised by the execution of the corresponding 
<SPAN Class="swiss"><A HREF="AA-9-5-3.html#S0207">entry_call_statement</A></SPAN>. 
</DIV>
<DIV Class="paranum">24.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>This is in addition to 
propagating it to the construct containing the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>. 
In other words, for a rendezvous, the raising splits in two, and continues 
concurrently in both tasks.</DIV>
<DIV Class="paranum">24.b</DIV>
<DIV Class="Annotations">The caller gets a new occurrence; this isn't 
considered propagation.</DIV>
<DIV Class="paranum">24.c</DIV>
<DIV Class="Annotations">Note that we say &ldquo;propagated from the 
<SPAN Class="swiss"><A HREF="AA-11-2.html#S0247">handled_sequence_of_statements</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>&rdquo;, 
not &ldquo;propagated from an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>.&rdquo; 
The latter would be wrong &mdash; we don't want exceptions propagated 
by the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0202">entry_index</A></SPAN> 
to be sent to the caller (there is none yet!).&nbsp;</DIV>
<DIV Class="paranum">25</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>rendezvous</I>}</SPAN> 
<A NAME="I4057"></A>The above interaction between a calling task and 
an accepting task is called a <I>rendezvous</I>. [After a rendezvous, 
the two tasks continue their execution independently.]</DIV>
<DIV Class="paranum">26</DIV>
<DIV Class="Normal">[An <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN> 
is executed when the <SPAN Class="swiss"><A HREF="AA-5-3.html#S0139">condition</A></SPAN> 
of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0205">entry_barrier</A></SPAN> 
evaluates to True and a caller of the corresponding single entry, or 
entry of the corresponding entry family, has been selected (see <A HREF="AA-9-5-3.html">9.5.3</A>).] 
<SPAN STYLE="font-size: 80%">{<I>execution (entry_body)</I> [partial]}</SPAN> 
<A NAME="I4058"></A>For the execution of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN>, 
the <SPAN Class="swiss"><A HREF="AA-3-11.html#S0086">declarative_part</A></SPAN> 
of the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN> 
is elaborated, and the <SPAN Class="swiss"><A HREF="AA-11-2.html#S0247">handled_sequence_of_statements</A></SPAN> 
of the body is executed, as for the execution of a <SPAN Class="swiss"><A HREF="AA-6-3.html#S0162">subprogram_body</A></SPAN>. 
The value of the named entry index, if any, is determined by the value 
of the entry index specified in the <I>entry_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
of the selected entry call (or intermediate <SPAN Class="swiss"><A HREF="AA-9-5-4.html#S0208">requeue_statement</A></SPAN> 
&mdash; see <A HREF="AA-9-5-4.html">9.5.4</A>).&nbsp;</DIV>
<DIV Class="paranum">26.a</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B>If the entry had been renamed 
as a subprogram, and the call was a <SPAN Class="swiss"><A HREF="AA-6-4.html#S0163">procedure_call_statement</A></SPAN> 
using the name declared by the renaming, the entry index (if any) comes 
from the entry <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
specified in the <SPAN Class="swiss"><A HREF="AA-8-5-4.html#S0186">subprogram_renaming_declaration</A></SPAN>. 
</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">27</DIV>
<DIV Class="Notes">23&nbsp;&nbsp;A task entry has corresponding accept_statements 
(zero or more), whereas a protected entry has a corresponding entry_body 
(exactly one).</DIV>
<DIV Class="paranum">28</DIV>
<DIV Class="Notes">24&nbsp;&nbsp;A consequence of the rule regarding 
the allowed placements of <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>s 
is that a task can execute <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN>s 
only for its own entries.</DIV>
<DIV Class="paranum">29/2</DIV>
<DIV Class="Notes">25&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10318.TXT">AI95-00318-02</A></I>} 
A <SPAN class="insert2">return statement</SPAN><SPAN class="delete2"><SPAN Class="swiss"><A HREF="AA-6-5.html#S0169">&nbsp;return_statement</A></SPAN></SPAN> 
(see <A HREF="AA-6-5.html">6.5</A>) or a <SPAN Class="swiss"><A HREF="AA-9-5-4.html#S0208">requeue_statement</A></SPAN> 
(see <A HREF="AA-9-5-4.html">9.5.4</A>) may be used to complete the execution 
of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
or an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN>. 
</DIV>
<DIV Class="paranum">29.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>An <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">accept_statement</A></SPAN> 
need not have a <SPAN Class="swiss"><A HREF="AA-11-2.html#S0247">handled_sequence_of_statements</A></SPAN> 
even if the corresponding entry has parameters. Equally, it can have 
a <SPAN Class="swiss"><A HREF="AA-11-2.html#S0247">handled_sequence_of_statements</A></SPAN> 
even if the corresponding entry has no parameters.&nbsp;</DIV>
<DIV Class="paranum">29.b</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>A single entry overloads 
a subprogram, an enumeration literal, or another single entry if they 
have the same <SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN>. 
Overloading is not allowed for entry family names. A single entry or 
an entry of an entry family can be renamed as a procedure as explained 
in <A HREF="AA-8-5-4.html">8.5.4</A>.&nbsp;</DIV>
<DIV Class="paranum">30</DIV>
<DIV Class="Notes">26&nbsp;&nbsp;The <SPAN Class="swiss"><A HREF="AA-5-3.html#S0139">condition</A></SPAN> 
in the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0205">entry_barrier</A></SPAN> 
may reference anything visible except the formal parameters of the entry. 
This includes the entry index (if any), the components (including discriminants) 
of the protected object, the Count attribute of an entry of that protected 
object, and data global to the protected unit.</DIV>
<DIV Class="paranum">31</DIV>
<DIV Class="Notes">The restriction against referencing the formal parameters 
within an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0205">entry_barrier</A></SPAN> 
ensures that all calls of the same entry see the same barrier value. 
If it is necessary to look at the parameters of an entry call before 
deciding whether to handle it, the <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0205">entry_barrier</A></SPAN> 
can be &ldquo;<B>when</B> True&rdquo; and the caller can be requeued 
(on some private entry) when its parameters indicate that it cannot be 
handled immediately.&nbsp;</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">32</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><I>Examples of entry 
declarations:</I>&nbsp;</DIV>
<DIV Class="paranum">33</DIV>
<DIV Class="Examples"><B>entry</B>&nbsp;Read(V&nbsp;:&nbsp;<B>out</B>&nbsp;Item);<BR>
<B>entry</B>&nbsp;Seize;<BR>
<B>entry</B>&nbsp;Request(Level)(D&nbsp;:&nbsp;Item);&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;a&nbsp;family&nbsp;of&nbsp;entries</I></SPAN></DIV>
<DIV Class="paranum">34</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em"><I>Examples of accept 
statements:</I>&nbsp;</DIV>
<DIV Class="paranum">35</DIV>
<DIV Class="Examples"><B>accept</B>&nbsp;Shut_Down;</DIV>
<DIV Class="paranum">36</DIV>
<DIV Class="Examples"><B>accept</B>&nbsp;Read(V&nbsp;:&nbsp;<B>out</B>&nbsp;Item)&nbsp;<B>do</B><BR>
&nbsp;&nbsp;&nbsp;V&nbsp;:=&nbsp;Local_Item;<BR>
<B>end</B>&nbsp;Read;</DIV>
<DIV Class="paranum">37</DIV>
<DIV Class="Examples"><B>accept</B>&nbsp;Request(Low)(D&nbsp;:&nbsp;Item)&nbsp;<B>do</B><BR>
&nbsp;&nbsp;&nbsp;...<BR>
<B>end</B>&nbsp;Request;</DIV>

<H4 Class="centered">Extensions to Ada 83</H4>
<DIV Class="paranum">37.a</DIV>
<DIV Class="Annotations">{<I>extensions to Ada 83</I>} <A NAME="I4059"></A>The 
syntax rule for <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN> 
is new.</DIV>
<DIV Class="paranum">37.b</DIV>
<DIV Class="Annotations"><SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0201">Accept_statement</A></SPAN>s 
can now have <SPAN Class="swiss"><A HREF="AA-11-2.html#S0248">exception_handler</A></SPAN>s. 
</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">37.c/2</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0002">8652/0002</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00171.TXT">AI95-00171-01</A></I>} 
<SPAN class="insert2"><B>Corrigendum:</B> Clarified the elaboration of 
per-object constraints.</SPAN></DIV>
<DIV Class="paranum">37.d/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00397.TXT">AI95-00397-01</A></I>} 
<SPAN class="insert2"><SPAN Class="swiss"><A HREF="AA-8-3-1.html#S0178">Overriding_indicator</A></SPAN>s 
can be used on entries; this is only useful when a task or protected 
type inherits from an interface.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-9-5-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-9-5-3.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
