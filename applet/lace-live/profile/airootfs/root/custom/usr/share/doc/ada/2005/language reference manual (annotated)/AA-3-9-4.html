<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Interface Types</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    DIV.SmallExamples {font-family: "Courier New", monospace; font-size: 72%; line-height: 122%; margin-left: 9.6em; margin-bottom: 0.6em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-9-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-10.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>&nbsp;3.9.4 <SPAN class="insert2">Interface Types</SPAN> <SPAN class="delete2"></SPAN></H1>
<DIV Class="paranum">1/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2">[An interface type is an abstract tagged type that 
provides a restricted form of multiple inheritance. A tagged type, task 
type, or protected type may have one or more interface types as ancestors.]</SPAN> 
</DIV>
<DIV Class="paranum">1.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Glossary entry:&nbsp;</B>{<I>Interface 
type</I>} An interface type is a form of abstract tagged type which has 
no components or concrete operations except possibly null procedures. 
Interface types are used for composing other interfaces and tagged types 
and thereby provide multiple inheritance. Only an interface type can 
be used as a progenitor of another type.</SPAN></DIV>

<H4 Class="centered">Language Design Principles</H4>
<DIV Class="paranum">1.b/2</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2">The rules are designed so that an interface can 
be used as either a parent type or a progenitor type without changing 
the meaning. That's important so that the order that interfaces are specified 
in a <SPAN Class="swiss"><A HREF="AA-3-4.html#S0035">derived_type_definition</A></SPAN> 
is not significant. In particular, we want:</SPAN>&nbsp;</DIV>
<DIV Class="paranum">1.c/2</DIV>
<DIV Class="SmallExamples"><SPAN class="insert2"><B>type</B>&nbsp;Con1&nbsp;<B>is&nbsp;new</B>&nbsp;Int1&nbsp;<B>and</B>&nbsp;Int2&nbsp;<B>with&nbsp;null&nbsp;record</B>;<BR>
<B>type</B>&nbsp;Con2&nbsp;<B>is&nbsp;new</B>&nbsp;Int2&nbsp;<B>and</B>&nbsp;Int1&nbsp;<B>with&nbsp;null&nbsp;record</B>;</SPAN></DIV>
<DIV Class="paranum">1.d/2</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2">to mean exactly the same thing.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2/2</DIV>
<DIV Class="SyntaxIndented">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN Class="swiss"></SPAN><SPAN class="insert2"><SPAN Class="swiss">interface_type_definition</SPAN></SPAN><SPAN Class="swiss"></SPAN><A NAME="I2304"></A><A NAME="S0077"></A><SPAN class="insert2"><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN></SPAN><SPAN class="insert2"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;[<B>limited</B>&nbsp;|&nbsp;<B>task</B>&nbsp;|&nbsp;<B>protected</B>&nbsp;|&nbsp;<B>synchronized</B>]&nbsp;<B>interface</B>&nbsp;[<B>and</B>&nbsp;<A NAME="I2305"></A><SPAN Class="swiss"><A HREF="AA-3-9-4.html#S0078">interface_list</A></SPAN>]</SPAN></DIV>
<DIV Class="paranum">3/2</DIV>
<DIV Class="SyntaxIndented">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00419.TXT">AI95-00419-01</A></I>} 
<SPAN Class="swiss"></SPAN><SPAN class="insert2"><SPAN Class="swiss">interface_list</SPAN></SPAN><SPAN Class="swiss"></SPAN><A NAME="I2306"></A><A NAME="S0078"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><SPAN class="insert2"><I>interface_</I><A NAME="I2307"></A><SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN>&nbsp;{<B>and</B>&nbsp;<I>interface_</I><A NAME="I2308"></A><SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN>}</SPAN></DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">4/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
<SPAN class="insert2">An interface type (also called an <I>interface</I>) 
is<SPAN STYLE="font-size: 80%">{<I>interface</I> [distributed]}</SPAN> 
<A NAME="I2309"></A><SPAN STYLE="font-size: 80%">{<I>interface (type)</I> 
[partial]}</SPAN> <A NAME="I2310"></A>a specific abstract tagged type 
that is defined by an <SPAN Class="swiss"><A HREF="AA-3-9-4.html#S0077">interface_type_definition</A></SPAN>.</SPAN></DIV>
<DIV Class="paranum">5/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2">An interface with the reserved word <B>limited</B>, 
<B>task</B>, <B>protected</B>, or <B>synchronized</B> in its definition 
is termed, respectively, a <I>limited interface</I>, a <I>task interface</I>, 
a <I>protected interface</I>, or a <I>synchronized interface</I>. In 
addition,<SPAN STYLE="font-size: 80%">{<I>interface (synchronized)</I> 
[partial]}</SPAN> <A NAME="I2311"></A><SPAN STYLE="font-size: 80%">{<I>interface 
(protected)</I> [partial]}</SPAN> <A NAME="I2312"></A><SPAN STYLE="font-size: 80%">{<I>interface 
(task)</I> [partial]}</SPAN> <A NAME="I2313"></A><SPAN STYLE="font-size: 80%">{<I>interface 
(limited)</I> [partial]}</SPAN> <A NAME="I2314"></A><SPAN STYLE="font-size: 80%">{<I>interface 
(nonlimited)</I> [partial]}</SPAN> <A NAME="I2315"></A><SPAN STYLE="font-size: 80%">{<I>synchronized 
interface</I>}</SPAN> <A NAME="I2316"></A><SPAN STYLE="font-size: 80%">{<I>protected 
interface</I>}</SPAN> <A NAME="I2317"></A><SPAN STYLE="font-size: 80%">{<I>task 
interface</I>}</SPAN> <A NAME="I2318"></A><SPAN STYLE="font-size: 80%">{<I>limited 
interface</I>}</SPAN> <A NAME="I2319"></A><SPAN STYLE="font-size: 80%">{<I>nonlimited 
interface</I>}</SPAN> <A NAME="I2320"></A>all task and protected interfaces 
are synchronized interfaces, and all synchronized interfaces are limited 
interfaces.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">5.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Glossary entry:&nbsp;</B>{<I>Synchronized</I>} 
A synchronized entity is one that will work safely with multiple tasks 
at one time. A synchronized interface can be an ancestor of a task or 
a protected type. Such a task or protected type is called a synchronized 
tagged type.</SPAN></DIV>
<DIV Class="paranum">6/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00443.TXT">AI95-00443-01</A></I>} 
<SPAN class="insert2"><SPAN STYLE="font-size: 80%">{<I>synchronized tagged 
type</I>}</SPAN> <A NAME="I2321"></A><SPAN STYLE="font-size: 80%">{<I>type 
(synchronized tagged)</I> [partial]}</SPAN> <A NAME="I2322"></A><SPAN STYLE="font-size: 80%">{<I>tagged 
type (synchronized)</I> [partial]}</SPAN> <A NAME="I2323"></A><SPAN STYLE="font-size: 80%">{<I>tagged 
type (task)</I> [partial]}</SPAN> <A NAME="I2324"></A><SPAN STYLE="font-size: 80%">{<I>tagged 
type (protected)</I> [partial]}</SPAN> <A NAME="I2325"></A><SPAN STYLE="font-size: 80%">{<I>task 
tagged type</I>}</SPAN> <A NAME="I2326"></A><SPAN STYLE="font-size: 80%">{<I>protected 
tagged type</I>}</SPAN> <A NAME="I2327"></A>[A task or protected type 
derived from an interface is a tagged type.] Such a tagged type is called 
a <I>synchronized</I> tagged type, as are synchronized interfaces and 
private extensions whose declaration includes the reserved word <B>synchronized</B>.</SPAN></DIV>
<DIV Class="paranum">6.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Proof:&nbsp;</B>The full 
definition of tagged types given in <A HREF="AA-3-9.html">3.9</A> includes 
task and protected types derived from interfaces.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">6.b/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Ramification:&nbsp;</B>The 
class-wide type associated with a tagged task type (including a task 
interface type) is a task type, because &ldquo;task&rdquo; is one of 
the language-defined classes of types (see <A HREF="AA-3-2.html">3.2</A>. 
However, the class-wide type associated with an interface is <I>not</I> 
an interface type, as &ldquo;interface&rdquo; is <I>not</I> one of the 
language-defined classes (as it is not closed under derivation). In this 
sense, &ldquo;interface&rdquo; is similar to &ldquo;abstract&rdquo;. 
The class-wide type associated with an interface is a concrete (nonabstract) 
indefinite tagged composite type.</SPAN></DIV>
<DIV Class="paranum">6.c/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2">&ldquo;Private extension&rdquo; 
includes generic formal private extensions, as explained in <A HREF="AA-12-5-1.html">12.5.1</A>.</SPAN> 
</DIV>
<DIV Class="paranum">7/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2">A task interface is an [abstract] task type. A 
protected interface is an [abstract] protected type.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">7.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Proof:&nbsp;</B>The &ldquo;abstract&rdquo; 
follows from the definition of an interface type.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">7.b/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Reason:&nbsp;</B>This ensures 
that task operations (like abort and the Terminated attribute) can be 
applied to a task interface type and the associated class-wide type. 
While there are no protected type operations, we apply the same rule 
to protected interfaces for consistency.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">8/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
<SPAN class="insert2">[An interface type has no components.]</SPAN>&nbsp;</DIV>
<DIV Class="paranum">8.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Proof:&nbsp;</B>This follows 
from the syntax and the fact that discriminants are not allowed for interface 
types.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">9/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00419.TXT">AI95-00419-01</A></I>} 
<SPAN class="insert2"><SPAN STYLE="font-size: 80%">{<I>progenitor subtype</I>}</SPAN> 
<A NAME="I2328"></A><SPAN STYLE="font-size: 80%">{<I>progenitor type</I>}</SPAN> 
<A NAME="I2329"></A>An <I>interface_</I><SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN> 
in an <SPAN Class="swiss"><A HREF="AA-3-9-4.html#S0078">interface_list</A></SPAN> 
names a <I>progenitor subtype</I>; its type is the <I>progenitor type</I>. 
An interface type inherits user-defined primitive subprograms from each 
progenitor type in the same way that a derived type inherits user-defined 
primitive subprograms from its progenitor types (see <A HREF="AA-3-4.html">3.4</A>).</SPAN> 
</DIV>
<DIV Class="paranum">9.a.1/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Glossary entry:&nbsp;</B>{<I>Progenitor</I>} 
A progenitor of a derived type is one of the types given in the definition 
of the derived type other than the first. A progenitor is always an interface 
type. Interfaces, tasks, and protected types may also have progenitors.</SPAN></DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">10/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
<SPAN class="insert2">All user-defined primitive subprograms of an interface 
type shall be abstract subprograms or null procedures.</SPAN></DIV>
<DIV Class="paranum">11/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
<SPAN class="insert2">The type of a subtype named in an <SPAN Class="swiss"><A HREF="AA-3-9-4.html#S0078">interface_list</A></SPAN> 
shall be an interface type.</SPAN></DIV>
<DIV Class="paranum">12/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2">A type derived from a nonlimited interface shall 
be nonlimited.</SPAN></DIV>
<DIV Class="paranum">13/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2">An interface derived from a task interface shall 
include the reserved word <B>task</B> in its definition; any other type 
derived from a task interface shall be a private extension or a task 
type declared by a task declaration (see <A HREF="AA-9-1.html">9.1</A>).</SPAN></DIV>
<DIV Class="paranum">14/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2">An interface derived from a protected interface 
shall include the reserved word <B>protected</B> in its definition; any 
other type derived from a protected interface shall be a private extension 
or a protected type declared by a protected declaration (see <A HREF="AA-9-4.html">9.4</A>).</SPAN></DIV>
<DIV Class="paranum">15/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2">An interface derived from a synchronized interface 
shall include one of the reserved words <B>task</B>, <B>protected</B>, 
or <B>synchronized</B> in its definition; any other type derived from 
a synchronized interface shall be a private extension, a task type declared 
by a task declaration, or a protected type declared by a protected declaration.</SPAN></DIV>
<DIV Class="paranum">15.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Reason:&nbsp;</B>We require 
that an interface descendant of a task, protected, or synchronized interface 
repeat the explicit kind of interface it will be, rather than simply 
inheriting it, so that a reader is always aware of whether the interface 
provides synchronization and whether it may be implemented only by a 
task or protected type. The only place where inheritance of the kind 
of interface might be useful would be in a generic if you didn't know 
the kind of the actual interface. However, the value of that is low because 
you cannot implement an interface properly if you don't know whether 
it is a task, protected, or synchronized interface. Hence, we require 
the kind of the actual interface to match the kind of the formal interface 
(see <A HREF="AA-12-5-5.html">12.5.5</A>).</SPAN>&nbsp;</DIV>
<DIV Class="paranum">16/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2">No type shall be derived from both a task interface 
and a protected interface.</SPAN></DIV>
<DIV Class="paranum">16.a</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Reason:&nbsp;</B>This prevents 
a single private extension from inheriting from both a task and a protected 
interface. For a private type, there can be no legal completion. For 
a generic formal derived type, there can be no possible matching type 
(so no instantiation could be legal). This rule provides early detection 
of the errors.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">17/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
<SPAN class="insert2">In addition to the places where Legality Rules 
normally apply (see <A HREF="AA-12-3.html">12.3</A>), these rules apply 
also in the private part of an instance of a generic unit.<SPAN STYLE="font-size: 80%">{<I>generic 
contract issue</I> [partial]}</SPAN> <A NAME="I2330"></A></SPAN></DIV>
<DIV Class="paranum">17.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Ramification:&nbsp;</B>This 
paragraph is intended to apply to all of the Legality Rules in this clause. 
We cannot allow interface types which do not obey these rules, anywhere. 
Luckily, deriving from a formal type (which might be an interface) is 
not allowed for any tagged types in a generic body. So checking in the 
private part of a generic covers all of the cases.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Dynamic Semantics</H4>
<DIV Class="paranum">18/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
<SPAN class="insert2">The elaboration of an <SPAN Class="swiss"><A HREF="AA-3-9-4.html#S0077">interface_type_definition</A></SPAN> 
has no effect.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">18.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Discussion:&nbsp;</B>An 
<SPAN Class="swiss"><A HREF="AA-3-9-4.html#S0078">interface_list</A></SPAN> 
is made up of <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN>s, 
which do not need to be elaborated, so the <SPAN Class="swiss"><A HREF="AA-3-9-4.html#S0078">interface_list</A></SPAN> 
does not either. This is consistent with the handling of <SPAN Class="swiss"><A HREF="AA-3-7.html#S0059">discriminant_part</A></SPAN>s.</SPAN> 
</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">19/2</DIV>
<DIV Class="Notes">80&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00411.TXT">AI95-00411-01</A></I>} 
<SPAN class="insert2">Nonlimited interface types have predefined nonabstract 
equality operators. These may be overridden with user-defined abstract 
equality operators. Such operators will then require an explicit overriding 
for any nonabstract descendant of the interface.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">20/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00433.TXT">AI95-00433-01</A></I>} 
<SPAN class="insert2"><I>Example of a limited interface and a synchronized 
interface extending it:</I></SPAN></DIV>
<DIV Class="paranum">21/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>type</B>&nbsp;Queue&nbsp;<B>is&nbsp;limited&nbsp;interface</B>;<BR>
<B>procedure</B>&nbsp;Append(Q&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Queue;&nbsp;Person&nbsp;:&nbsp;<B>in</B>&nbsp;Person_Name)&nbsp;<B>is&nbsp;abstract</B>;<BR>
<B>procedure</B>&nbsp;Remove_First(Q&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Queue;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Person&nbsp;:&nbsp;<B>out</B>&nbsp;Person_Name)&nbsp;<B>is&nbsp;abstract</B>;<BR>
<B>function</B>&nbsp;Cur_Count(Q&nbsp;:&nbsp;<B>in</B>&nbsp;Queue)&nbsp;<B>return</B>&nbsp;Natural&nbsp;<B>is&nbsp;abstract</B>;<BR>
<B>function</B>&nbsp;Max_Count(Q&nbsp;:&nbsp;<B>in</B>&nbsp;Queue)&nbsp;<B>return</B>&nbsp;Natural&nbsp;<B>is&nbsp;abstract</B>;<BR>
--&nbsp;<SPAN Class="roman"><I>See&nbsp;<A HREF="AA-3-10-1.html">3.10.1</A>&nbsp;for&nbsp;Person_Name.</I></SPAN></SPAN></DIV>
<DIV Class="paranum">22/2</DIV>
<DIV Class="Examples"><SPAN class="insert2">Queue_Error&nbsp;:&nbsp;<B>exception</B>;<BR>
--<SPAN Class="roman"><I>&nbsp;Append&nbsp;raises&nbsp;Queue_Error&nbsp;if&nbsp;Count(Q)&nbsp;=&nbsp;Max_Count(Q)</I></SPAN><BR>
--<SPAN Class="roman"><I>&nbsp;Remove_First&nbsp;raises&nbsp;Queue_Error&nbsp;if&nbsp;Count(Q)&nbsp;=&nbsp;0</I></SPAN></SPAN></DIV>
<DIV Class="paranum">23/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>type</B>&nbsp;Synchronized_Queue&nbsp;<B>is&nbsp;synchronized&nbsp;interface&nbsp;and</B>&nbsp;Queue;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="AA-9-11.html">9.11</A></I></SPAN><BR>
<B>procedure</B>&nbsp;Append_Wait(Q&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Synchronized_Queue;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Person&nbsp;:&nbsp;<B>in</B>&nbsp;Person_Name)&nbsp;<B>is&nbsp;abstract</B>;<BR>
<B>procedure</B>&nbsp;Remove_First_Wait(Q&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Synchronized_Queue;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Person&nbsp;:&nbsp;<B>out</B>&nbsp;Person_Name)&nbsp;<B>is&nbsp;abstract</B>;</SPAN></DIV>
<DIV Class="paranum">24/2</DIV>
<DIV Class="Examples"><SPAN class="insert2">...</SPAN></DIV>
<DIV Class="paranum">25/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>procedure</B>&nbsp;Transfer(From&nbsp;&nbsp;&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Queue'Class;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;To&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Queue'Class;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Number&nbsp;:&nbsp;<B>in</B>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Natural&nbsp;:=&nbsp;1)&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;Person&nbsp;:&nbsp;Person_Name;<BR>
<B>begin</B><BR>
&nbsp;&nbsp;&nbsp;<B>for</B>&nbsp;I&nbsp;<B>in</B>&nbsp;1..Number&nbsp;<B>loop</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove_First(From,&nbsp;Person);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Append(To,&nbsp;Person);<BR>
&nbsp;&nbsp;&nbsp;<B>end&nbsp;loop</B>;<BR>
<B>end</B>&nbsp;Transfer;</SPAN></DIV>
<DIV Class="paranum">26/2</DIV>
<DIV Class="Normal">&nbsp;<SPAN class="insert2">This defines a Queue interface 
defining a queue of people. (A similar design could be created to define 
any kind of queue simply by replacing Person_Name by an appropriate type.) 
The Queue interface has four dispatching operations, Append, Remove_First, 
Cur_Count, and Max_Count. The body of a class-wide operation, Transfer 
is also shown. Every non-abstract extension of Queue must provide implementations 
for at least its four dispatching operations, as they are abstract. Any 
object of a type derived from Queue may be passed to Transfer as either 
the From or the To operand. The two operands need not be of the same 
type in any given call.</SPAN></DIV>
<DIV Class="paranum">27/2</DIV>
<DIV Class="Normal">&nbsp;<SPAN class="insert2">The Synchronized_Queue interface 
inherits the four dispatching operations from Queue and adds two additional 
dispatching operations, which wait if necessary rather than raising the 
Queue_Error exception. This synchronized interface may only be implemented 
by a task or protected type, and as such ensures safe concurrent access.</SPAN></DIV>
<DIV Class="paranum">28/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00433.TXT">AI95-00433-01</A></I>} 
<SPAN class="insert2"><I>Example use of the interface:</I></SPAN></DIV>
<DIV Class="paranum">29/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>type</B>&nbsp;Fast_Food_Queue&nbsp;<B>is&nbsp;new</B>&nbsp;Queue&nbsp;<B>with&nbsp;record</B>&nbsp;...;<BR>
<B>procedure</B>&nbsp;Append(Q&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Fast_Food_Queue;&nbsp;Person&nbsp;:&nbsp;<B>in</B>&nbsp;Person_Name);<BR>
<B>procedure</B>&nbsp;Remove_First(Q&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Fast_Food_Queue;&nbsp;Person&nbsp;:&nbsp;<B>in</B>&nbsp;Person_Name);<BR>
<B>function</B>&nbsp;Cur_Count(Q&nbsp;:&nbsp;<B>in</B>&nbsp;Fast_Food_Queue)&nbsp;<B>return</B>&nbsp;Natural;<BR>
<B>function</B>&nbsp;Max_Count(Q&nbsp;:&nbsp;<B>in</B>&nbsp;Fast_Food_Queue)&nbsp;<B>return</B>&nbsp;Natural;</SPAN></DIV>
<DIV Class="paranum">30/2</DIV>
<DIV Class="Examples"><SPAN class="insert2">...</SPAN></DIV>
<DIV Class="paranum">31/2</DIV>
<DIV Class="Examples"><SPAN class="insert2">Cashier,&nbsp;Counter&nbsp;:&nbsp;Fast_Food_Queue;</SPAN></DIV>
<DIV Class="paranum">32/2</DIV>
<DIV Class="Examples"><SPAN class="insert2">...<BR>
--&nbsp;<SPAN Class="roman"><I>Add&nbsp;George&nbsp;(see&nbsp;<A HREF="AA-3-10-1.html">3.10.1</A>)&nbsp;to&nbsp;the&nbsp;cashier's&nbsp;queue:</I></SPAN><BR>
Append&nbsp;(Cashier,&nbsp;George);<BR>
--&nbsp;<SPAN Class="roman"><I>After&nbsp;payment,&nbsp;move&nbsp;George&nbsp;to&nbsp;the&nbsp;sandwich&nbsp;counter&nbsp;queue:</I></SPAN><BR>
Transfer&nbsp;(Cashier,&nbsp;Counter);<BR>
...</SPAN></DIV>
<DIV Class="paranum">33/2</DIV>
<DIV Class="Normal">&nbsp;<SPAN class="insert2">An interface such as Queue 
can be used directly as the parent of a new type (as shown here), or 
can be used as a progenitor when a type is derived. In either case, the 
primitive operations of the interface are inherited. For Queue, the implementation 
of the four inherited routines must be provided. Inside the call of Transfer, 
calls will dispatch to the implementations of Append and Remove_First 
for type Fast_Food_Queue.</SPAN></DIV>
<DIV Class="paranum">34/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00433.TXT">AI95-00433-01</A></I>} 
<SPAN class="insert2"><I>Example of a task interface:</I></SPAN></DIV>
<DIV Class="paranum">35/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>type</B>&nbsp;Serial_Device&nbsp;<B>is&nbsp;task&nbsp;interface</B>;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="AA-9-1.html">9.1</A></I></SPAN><BR>
<B>procedure</B>&nbsp;Read&nbsp;(Dev&nbsp;:&nbsp;<B>in</B>&nbsp;Serial_Device;&nbsp;C&nbsp;:&nbsp;<B>out</B>&nbsp;Character)&nbsp;<B>is&nbsp;abstract</B>;<BR>
<B>procedure</B>&nbsp;Write(Dev&nbsp;:&nbsp;<B>in</B>&nbsp;Serial_Device;&nbsp;C&nbsp;:&nbsp;<B>in</B>&nbsp;&nbsp;Character)&nbsp;<B>is&nbsp;abstract</B>;</SPAN></DIV>
<DIV Class="paranum">36/2</DIV>
<DIV Class="Normal">&nbsp;<SPAN class="insert2">The Serial_Device interface 
has two dispatching operations which are intended to be implemented by 
task entries (see 9.1).</SPAN></DIV>

<H4 Class="centered">Extensions to Ada 95</H4>
<DIV Class="paranum">36.a/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00345.TXT">AI95-00345-01</A></I>} 
<SPAN class="insert2">{<I>extensions to Ada 95</I>} <A NAME="I2331"></A>Interface 
types are new. They provide multiple inheritance of interfaces, similar 
to the facility provided in Java and other recent language designs.</SPAN> 
</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-9-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-10.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
