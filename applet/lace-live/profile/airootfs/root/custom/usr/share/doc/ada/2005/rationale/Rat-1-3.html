<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Overview of changes</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-bottom: 0.6em}
    DIV.Enumerated-Body {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 2.0em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Enumerated-Term {float: left; font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 0.5em; margin-top: 0em; margin-bottom: 0em}
    </STYLE>
<!-- BEGIN Google Analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-117428-5']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<!-- END Google Analytics -->
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">
<H1 Style='font-family: "Rockwell", "Times New Roman", Times, serif; font-size: 240%'><B><SPAN Style="color:rgb(0,0,153)">Rationale</SPAN> for <SPAN Style="color:rgb(204,0,0)">Ada 2005</SPAN></B></H1>
<DIV Class="Normal"><FONT SIZE="+1"><I><A HREF="Rat-TTL.html">John Barnes</A></I></FONT></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="Rat-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-0-3.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-0-2.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-1-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-1-3-1.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>1.3 Overview of changes</H1>
<div class="Normal" style="margin-bottom: 0.4em">It would be tedious 
to give a section by section review of the changes as seen by the Reference 
Manual language lawyer. Instead, the changes will be presented by areas 
as seen by the user. There can be considered to be six areas:</div>
<div class="Enumerated-Term">a)</div><div class="Enumerated-Body">
Improvements to the OO model. These include a more traditional notation 
for invoking an operation of an object without needing to know precisely 
where the operation is declared (the <SPAN Class="swiss">Obj.Op(...)</SPAN> 
or prefixed style), Java-like multiple inheritance using the concept 
of interfaces, the introduction of null procedures as a category of operation 
rather like an abstract operation, and the ability to do type extension 
at a more nested level than that of the parent type. There are also explicit 
features for overcoming nasty bugs that arise from confusion between 
overloading and overriding.</div>
<div class="Enumerated-Term">b)</div><div class="Enumerated-Body">
More flexible access types. Ada 95 access types have a hair-shirt flavour 
compared with other languages because of the general need for explicit 
conversions with named access types. This is alleviated by permitting 
anonymous access types in more contexts. It is also possible to indicate 
whether an access type is an access to a constant and whether a null 
value is permitted. Anonymous access-to-subprogram types are also introduced 
thus permitting so-called downward closures.</div>
<div class="Enumerated-Term">c)</div><div class="Enumerated-Body">
Enhanced structure and visibility control. The most important change 
here is the introduction of limited with clauses which allow types in 
two packages to refer to each other (the mutual dependence problem referred 
to in the WG9 guidelines). This is done by extending the concept of incomplete 
types (and introducing tagged incomplete types). There are also private 
with clauses just providing access from a private part. And there are 
significant changes to limited types to make them more useful; these 
include initialization using limited aggregates and composition using 
a new form of return statement.</div>
<div class="Enumerated-Term">d)</div><div class="Enumerated-Body">
Tasking and real-time improvements. Almost all of the changes are in 
the Real-Time Systems annex. They include the introduction of the Ravenscar 
profile (as explicitly mentioned in the WG9 guidelines) and a number 
of new scheduling and dispatching policies. There are also new predefined 
packages for controlling execution time clocks and execution time budgets 
and for the notification of task termination and similar matters. A change 
related to the OO model is the introduction of protected and task interfaces 
thereby drawing the OO and tasking aspects of the language closer together.</div>
<div class="Enumerated-Term">e)</div><div class="Enumerated-Body">
Improvements to exceptions, numerics, generics etc. There are some minor 
improvements in the exception area, namely, neater ways of testing for 
null occurrence and raising an exception with a message. Two small but 
vital numeric changes are a <SPAN Class="swiss">Mod</SPAN> attribute 
to solve problems of mixing signed and unsigned integers and a fix to 
the fixed-fixed multiplication problem (which has kept some users locked 
into Ada 83). There are also a number of new pragmas such as: <SPAN Class="swiss">Unsuppress</SPAN> 
to complement the <SPAN Class="swiss">Suppress</SPAN> pragma, <SPAN Class="swiss">Assert</SPAN> 
which was already offered by most vendors, <SPAN Class="swiss">Preelaborable_Initialization</SPAN> 
which works with the existing pragma <SPAN Class="swiss">Preelaborate</SPAN>, 
<SPAN Class="swiss">No_Return</SPAN> which indicates that a procedure 
never returns normally, and <SPAN Class="swiss">Unchecked_Union</SPAN> 
to ease interfacing to unchecked unions in C. There is also the ability 
to have more control of partial parameters of generic formal packages 
to improve package composition.</div>
<div class="Enumerated-Term">f)</div><div class="Enumerated-Body">
Extensions to the standard library. New packages include a comprehensive 
Container library, mechanisms for directory operations and access to 
environment variables, further operations on times and dates, the vectors 
and matrices material from ISO/IEC 13813 (as directed in the WG9 guidelines) 
plus commonly required simple linear algebra algorithms. There are also 
wide-wide character types and operations for 32-bit characters, the ability 
to use more characters in identifiers, and improvements and extensions 
to the existing string packages.&nbsp;</div>
<div class="Normal">Of course, the areas mentioned above interact greatly 
and much of 2 and 3 could be classified as improvements to the OO model. 
There are also a number of changes not mentioned which will mostly be 
of interest to experts in various areas. These cover topics such as streams, 
object factory functions, subtle aspects of the overload resolution rules, 
and the categorization of packages with pragmas <SPAN Class="swiss">Pure</SPAN> 
and <SPAN Class="swiss">Preelaborate</SPAN>.</div>
<div class="Normal">The reader might feel that the changes are quite 
extensive but each has an important role to play in making Ada more useful. 
Indeed many other changes were rejected as really unnecessary. These 
include old chestnuts such as <B>in out</B> and <B>out</B> parameters 
for functions (ugh), extensible enumeration types (a slippery slope), 
defaults for all generic parameters (would lead one astray), and user-defined 
operator symbols (a nightmare).</div>
<div class="Normal">Before looking at the six areas in a little more 
detail it is perhaps worth saying a few words about compatibility with 
Ada 95. The guidelines gave the ARG freedom to be sensible in this area. 
Of course, the worst incompatibilities are those where a valid program 
in Ada 95 continues to be valid in Ada 2005 but does something different. 
It is believed that serious incompatibilities of this nature will never 
arise. There are however, a very few minor and benign such incompatibilities 
concerning the raising of exceptions such as that with access parameters 
discussed in Section <A HREF="Rat-1-3-2.html">1.3.2</A>.</div>
<div class="Normal">However, incompatibilities whereby a valid Ada 95 
program fails to compile in Ada 2005 are tolerable provided they are 
infrequent. A few such incompatibilities are possible. The most obvious 
cause is the introduction of three more reserved words: <B>interface</B>, 
<B>overriding</B>, and <B>synchronized</B>. Thus if an existing Ada 95 
program uses any of these as an identifier then it will need modification. 
The introduction of a new category of unreserved keywords was considered 
for these so that incompatibilities would not arise. However, it was 
felt that this was ugly, confusing, and prone to introducing nasty errors. 
In any event the identifiers <SPAN Class="swiss">Overriding</SPAN> and 
<SPAN Class="swiss">Synchronized</SPAN> are likely to be rare and although 
<SPAN Class="swiss">Interface</SPAN> is clearly a likely identifier nevertheless 
to have it both as an identifier and as a keyword in the same program 
would be nasty. Note also that the pragma Interface which many compilers 
still support from Ada 83 (although not mentioned by Ada 95 at all) is 
being put into <A HREF="http://www.adaic.org/resources/add_content/standards/05rm/html/RM-J-12.html">Annex 
J</A> for obsolescent features.</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="Rat-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-0-3.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-0-2.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-1-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-1-3-1.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Class="Normal">&copy; 2005, 2006, 2007 John Barnes Informatics.</DIV>
<DIV Class="Normal">Sponsored in part by:</DIV>
<TABLE Summary="Sponsors" Width="710">
<TR><TD VAlign="Top" Width="490">
<SPAN Style="font-family: Arial, Helvetica, sans-serif; font-size: 92%">The <A HREF="http://www.adaic.org/community/">Ada Resource Association</A> and its member companies:</SPAN>
<img src="http://www.adaic.org/resources/images/sponsors/ARA-members-5.gif" alt="ARA Members" usemap="#member-map" border=1>
<map name="member-map">
  <AREA href="http://www.adacore.com/" alt="AdaCore"
          shape="rect"          coords="0,0,222,66">
  <AREA href="http://www.polyspace.com/" alt="Polyspace Technologies"
          shape="rect"          coords="0,66,155,179">
	<AREA href="http://www.sparkada.com/" alt="Praxis Critical Systems"
	         shape="rect"         coords="156,66,295,179">
	<AREA href="http://www-306.ibm.com/software/awdtools/developer/ada/" alt="IBM Rational"
	         shape="rect"         coords="222,0,480,66">
	<AREA href="http://www.sofcheck.com/" alt="Sofcheck"
	         shape="rect"         coords="296,66,480,130">
</map>
<TD Width="220" Align="Center" VAlign="Top">
<SPAN Style="font-family: Arial, Helvetica, sans-serif; font-size: 92%">and &nbsp; <A HREF="http://www.ada-europe.org">Ada-Europe</A>:<BR>
<A HREF="http://www.ada-europe.org"><IMG SRC="AE_logo.gif" ALT="Ada-Europe" Height="200" Border="0"></A></SPAN>
</TABLE>
</BODY>
</HTML>
