<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Assignment Statements</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Wide {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    DIV.SmallExamples {font-family: "Courier New", monospace; font-size: 72%; line-height: 122%; margin-left: 9.6em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-5-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-5-3.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>5.2 Assignment Statements</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal">[An <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN> 
replaces the current value of a variable with the result of evaluating 
an <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>.] 
</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">assignment_statement</SPAN><A NAME="I3217"></A><A NAME="S0137"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;<I>variable_</I><A NAME="I3218"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>&nbsp;:=&nbsp;<A NAME="I3219"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>;</DIV>
<DIV Class="paranum">3</DIV>
<DIV Class="Normal">The execution of an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN> 
includes the evaluation of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
and the <I>assignment</I> of the value of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
into the <I>target</I>. <SPAN STYLE="font-size: 80%">{<I>assignment operation</I> 
[distributed]}</SPAN> <A NAME="I3220"></A><SPAN STYLE="font-size: 80%">{<I>assign: 
See assignment operation</I>}</SPAN> <A NAME="I3221"></A>[An assignment 
operation (as opposed to an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN>) 
is performed in other contexts as well, including object initialization 
and by-copy parameter passing.] <SPAN STYLE="font-size: 80%">{<I>target 
(of an assignment operation)</I>}</SPAN> <A NAME="I3222"></A><SPAN STYLE="font-size: 80%">{<I>target 
(of an assignment_statement)</I>}</SPAN> <A NAME="I3223"></A>The <I>target</I> 
of an assignment operation is the view of the object to which a value 
is being assigned; the target of an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN> 
is the variable denoted by the <I>variable_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>. 
</DIV>
<DIV Class="paranum">3.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>Don't confuse this notion 
of the &ldquo;target&rdquo; of an assignment with the notion of the &ldquo;target 
object&rdquo; of an entry call or requeue.</DIV>
<DIV Class="paranum">3.b</DIV>
<DIV Class="Annotations">Don't confuse the term &ldquo;assignment operation&rdquo; 
with the <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN>. 
The assignment operation is just one part of the execution of an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN>. 
The assignment operation is also a part of the execution of various other 
constructs; see <A HREF="AA-7-6-1.html">7.6.1</A>, &ldquo;<A HREF="AA-7-6-1.html">Completion 
and Finalization</A>&rdquo; for a complete list. Note that when we say, 
&ldquo;such-and-such is assigned to so-and-so&rdquo;, we mean that the 
assignment operation is being applied, and that so-and-so is the target 
of the assignment operation.&nbsp;</DIV>

<H4 Class="centered">Name Resolution Rules</H4>
<DIV Class="paranum">4/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>expected type (assignment_statement 
variable_name)</I> [partial]}</SPAN> <A NAME="I3224"></A>The <I>variable_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN> 
is expected to be of any <SPAN class="delete2">nonlimited&nbsp;</SPAN>type. 
<SPAN STYLE="font-size: 80%">{<I>expected type (assignment_statement 
expression)</I> [partial]}</SPAN> <A NAME="I3225"></A>The expected type 
for the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is the type of the target.&nbsp;</DIV>
<DIV Class="paranum">4.a</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em"><B>Implementation 
Note:&nbsp;</B>An <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN> 
as a whole is a &quot;complete context,&quot; so if the <I>variable_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN> 
is overloaded, the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
can be used to help disambiguate it. For example:&nbsp;</DIV>
<DIV Class="paranum">4.b</DIV>
<DIV Class="SmallExamples">&nbsp;&nbsp;<B>type</B>&nbsp;P1&nbsp;<B>is&nbsp;access</B>&nbsp;R1;<BR>
&nbsp;&nbsp;<B>type</B>&nbsp;P2&nbsp;<B>is&nbsp;access</B>&nbsp;R2;</DIV>
<DIV Class="paranum">4.c</DIV>
<DIV Class="SmallExamples">&nbsp;&nbsp;<B>function</B>&nbsp;F&nbsp;return&nbsp;P1;<BR>
&nbsp;&nbsp;<B>function</B>&nbsp;F&nbsp;return&nbsp;P2;</DIV>
<DIV Class="paranum">4.d</DIV>
<DIV Class="SmallExamples">&nbsp;&nbsp;X&nbsp;:&nbsp;R1;<BR>
<B>begin</B><BR>
&nbsp;&nbsp;F.all&nbsp;:=&nbsp;X;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;Right&nbsp;hand&nbsp;side&nbsp;helps&nbsp;resolve&nbsp;left&nbsp;hand&nbsp;side</I></SPAN></DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">5/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
The target [denoted by the <I>variable_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>] 
shall be a variable<SPAN class="insert2">&nbsp;of a nonlimited type</SPAN>.</DIV>
<DIV Class="paranum">6</DIV>
<DIV Class="Normal">If the target is of a tagged class-wide type <I>T</I>'Class, 
then the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
shall either be dynamically tagged, or of type <I>T</I> and tag-indeterminate 
(see <A HREF="AA-3-9-2.html">3.9.2</A>).&nbsp;</DIV>
<DIV Class="paranum">6.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>This is consistent with the general 
rule that a single dispatching operation shall not have both dynamically 
tagged and statically tagged operands. Note that for an object initialization 
(as opposed to the <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN>), 
a statically tagged initialization expression is permitted, since there 
is no chance for confusion (or Tag_Check failure). Also, in an object 
initialization, tag-indeterminate expressions of any type covered by 
<I>T</I>'Class would be allowed, but with an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN>, 
that might not work if the tag of the target was for a type that didn't 
have one of the dispatching operations in the tag-indeterminate expression. 
</DIV>

<H4 Class="centered">Dynamic Semantics</H4>
<DIV Class="paranum">7</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>execution (assignment_statement)</I> 
[partial]}</SPAN> <A NAME="I3226"></A>For the execution of an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN>, 
the <I>variable_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
and the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
are first evaluated in an arbitrary order.&nbsp;</DIV>
<DIV Class="paranum">7.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Other rules of the language 
may require that the bounds of the variable be determined prior to evaluating 
the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>, 
but that does not necessarily require evaluation of the <I>variable_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>, 
as pointed out by the ACID.&nbsp;</DIV>
<DIV Class="paranum">8</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">When the type of the 
target is class-wide:&nbsp;</DIV>
<DIV Class="paranum">9</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN STYLE="font-size: 80%">{<I>controlling 
tag value (for the expression     in an assignment_statement)</I> [partial]}</SPAN> 
<A NAME="I3227"></A>If the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is tag-indeterminate (see <A HREF="AA-3-9-2.html">3.9.2</A>), then the 
controlling tag value for the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is the tag of the target;&nbsp;</LI></UL>
<DIV Class="paranum">9.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>See <A HREF="AA-3-9-2.html">3.9.2</A>, 
&ldquo;<A HREF="AA-3-9-2.html">Dispatching Operations of Tagged Types</A>&rdquo;. 
</DIV>
<DIV Class="paranum">10</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN STYLE="font-size: 80%">{<I>Tag_Check</I> 
[partial]}</SPAN> <A NAME="I3228"></A><SPAN STYLE="font-size: 80%">{<I>check, 
language-defined (Tag_Check)</I>}</SPAN> <A NAME="I3229"></A><SPAN STYLE="font-size: 80%">{<I>Constraint_Error 
(raised by failure of run-time check)</I>}</SPAN> <A NAME="I3230"></A>Otherwise 
[(the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is dynamically tagged)], a check is made that the tag of the value of 
the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is the same as that of the target; if this check fails, Constraint_Error 
is raised.&nbsp;</LI></UL>
<DIV Class="paranum">11</DIV>
<DIV Class="Normal">The value of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is converted to the subtype of the target. [The conversion might raise 
an exception (see <A HREF="AA-4-6.html">4.6</A>).] <SPAN STYLE="font-size: 80%">{<I>implicit 
subtype conversion (assignment_statement)</I> [partial]}</SPAN> <A NAME="I3231"></A></DIV>
<DIV Class="paranum">11.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B><A HREF="AA-4-6.html">4.6</A>, 
&ldquo;<A HREF="AA-4-6.html">Type Conversions</A>&rdquo; defines what 
actions and checks are associated with subtype conversion. For non-array 
subtypes, it is just a constraint check presuming the types match. For 
array subtypes, it checks the lengths and slides if the target is constrained. 
&ldquo;Sliding&rdquo; means the array doesn't have to have the same bounds, 
so long as it is the same length.&nbsp;</DIV>
<DIV Class="paranum">12</DIV>
<DIV Class="Normal">In cases involving controlled types, the target is 
finalized, and an anonymous object might be used as an intermediate in 
the assignment, as described in <A HREF="AA-7-6-1.html">7.6.1</A>, &ldquo;<A HREF="AA-7-6-1.html">Completion 
and Finalization</A>&rdquo;. <SPAN STYLE="font-size: 80%">{<I>assignment 
operation</I>}</SPAN> <A NAME="I3232"></A><SPAN STYLE="font-size: 80%">{<I>assignment 
operation (during execution of an assignment_statement)</I>}</SPAN> <A NAME="I3233"></A>In 
any case, the converted value of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is then <I>assigned</I> to the target, which consists of the following 
two steps:&nbsp;</DIV>
<DIV Class="paranum">12.a</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B><A HREF="AA-7-6-1.html">7.6.1</A> 
actually says that finalization happens always, but unless controlled 
types are involved, this finalization during an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN> 
does nothing.&nbsp;</DIV>
<DIV Class="paranum">13</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The value of the target becomes the 
converted value.</LI></UL>
<DIV Class="paranum">14</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>If any part of the target is controlled, 
its value is adjusted as explained in clause <A HREF="AA-7-6.html">7.6</A>. 
<SPAN STYLE="font-size: 80%">{<I>adjustment (as part of assignment)</I> 
[partial]}</SPAN> <A NAME="I3234"></A></LI></UL>
<DIV Class="paranum">14.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>If any parts of the object 
are controlled, abort is deferred during the assignment operation itself, 
but not during the rest of the execution of an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN>. 
</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">15</DIV>
<DIV Class="Notes">2&nbsp;&nbsp;The tag of an object never changes; in 
particular, an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN> 
does not change the tag of the target.</DIV>
<DIV Class="paranum">16/2</DIV>
<DIV Class="Notes"><SPAN STYLE="font-size: 80%"><I>This paragraph was 
deleted.</I></SPAN><SPAN class="delete2">3&nbsp;&nbsp;</SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00363.TXT">AI95-00363-01</A></I>} 
<SPAN class="delete2">The values of the discriminants of an object designated 
by an access value cannot be changed (not even by assigning a complete 
value to the object itself) since such objects are always constrained; 
however, subcomponents of such objects may be unconstrained.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">16.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>The implicit subtype conversion 
described above for <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN>s 
is performed only for the value of the right-hand side expression as 
a whole; it is not performed for subcomponents of the value.</DIV>
<DIV Class="paranum">16.b</DIV>
<DIV Class="Annotations">The determination of the type of the variable 
of an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN> 
may require consideration of the expression if the variable name can 
be interpreted as the name of a variable designated by the access value 
returned by a function call, and similarly, as a component or slice of 
such a variable (see <A HREF="AA-8-6.html">8.6</A>, &ldquo;<A HREF="AA-8-6.html">The 
Context of Overload Resolution</A>&rdquo;).&nbsp;</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">17</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><I>Examples of assignment 
statements:</I>&nbsp;</DIV>
<DIV Class="paranum">18</DIV>
<DIV Class="Examples">Value&nbsp;:=&nbsp;Max_Value&nbsp;-&nbsp;1;<BR>
Shade&nbsp;:=&nbsp;Blue;</DIV>
<DIV Class="paranum">19</DIV>
<DIV Class="Examples">Next_Frame(F)(M,&nbsp;N)&nbsp;:=&nbsp;2.5;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;see&nbsp;<A HREF="AA-4-1-1.html">4.1.1</A></I></SPAN><BR>
U&nbsp;:=&nbsp;Dot_Product(V,&nbsp;W);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;see&nbsp;<A HREF="AA-6-3.html">6.3</A></I></SPAN></DIV>
<DIV Class="paranum">20</DIV>
<DIV Class="Examples">Writer&nbsp;:=&nbsp;(Status&nbsp;=&gt;&nbsp;Open,&nbsp;Unit&nbsp;=&gt;&nbsp;Printer,&nbsp;Line_Count&nbsp;=&gt;&nbsp;60);&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="AA-3-8-1.html">3.8.1</A></I></SPAN><BR>
Next_Car.<B>all</B>&nbsp;:=&nbsp;(72074,&nbsp;<B>null</B>);&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;see&nbsp;<A HREF="AA-3-10-1.html">3.10.1</A></I></SPAN></DIV>
<DIV Class="paranum">21</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em"><I>Examples involving 
scalar subtype conversions:</I>&nbsp;</DIV>
<DIV Class="paranum">22</DIV>
<DIV Class="Examples">I,&nbsp;J&nbsp;:&nbsp;Integer&nbsp;<B>range</B>&nbsp;1&nbsp;..&nbsp;10&nbsp;:=&nbsp;5;<BR>
K&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;Integer&nbsp;<B>range</B>&nbsp;1&nbsp;..&nbsp;20&nbsp;:=&nbsp;15;<BR>
&nbsp;...</DIV>
<DIV Class="paranum">23</DIV>
<DIV Class="Examples">I&nbsp;:=&nbsp;J;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;identical&nbsp;ranges</I></SPAN><BR>
K&nbsp;:=&nbsp;J;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;compatible&nbsp;ranges</I></SPAN><BR>
J&nbsp;:=&nbsp;K;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;will&nbsp;raise&nbsp;Constraint_Error&nbsp;if&nbsp;K&nbsp;&gt;&nbsp;10</I></SPAN></DIV>
<DIV Class="paranum">24</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em"><I>Examples involving 
array subtype conversions:</I>&nbsp;</DIV>
<DIV Class="paranum">25</DIV>
<DIV Class="Examples">A&nbsp;:&nbsp;String(1&nbsp;..&nbsp;31);<BR>
B&nbsp;:&nbsp;String(3&nbsp;..&nbsp;33);<BR>
&nbsp;...</DIV>
<DIV Class="paranum">26</DIV>
<DIV Class="Examples">A&nbsp;:=&nbsp;B;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;same&nbsp;number&nbsp;of&nbsp;components</I></SPAN></DIV>
<DIV Class="paranum">27</DIV>
<DIV Class="Examples">A(1&nbsp;..&nbsp;9)&nbsp;&nbsp;:=&nbsp;&quot;tar&nbsp;sauce&quot;;<BR>
A(4&nbsp;..&nbsp;12)&nbsp;:=&nbsp;A(1&nbsp;..&nbsp;9);&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;A(1&nbsp;..&nbsp;12)&nbsp;=&nbsp;&quot;tartar&nbsp;sauce&quot;</I></SPAN></DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">28</DIV>
<DIV Class="Notes">4&nbsp;&nbsp;<I>Notes on the examples:</I> <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">Assignment_statement</A></SPAN>s 
are allowed even in the case of overlapping slices of the same array, 
because the <I>variable_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
and <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
are both evaluated before copying the value into the variable. In the 
above example, an implementation yielding A(1 .. 12) = &quot;tartartartar&quot; 
would be incorrect.&nbsp;</DIV>

<H4 Class="centered">Extensions to Ada 83</H4>
<DIV Class="paranum">28.a</DIV>
<DIV Class="Annotations">{<I>extensions to Ada 83</I>} <A NAME="I3235"></A>We 
now allow user-defined finalization and value adjustment actions as part 
of <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN>s 
(see <A HREF="AA-7-6.html">7.6</A>, &ldquo;<A HREF="AA-7-6.html">User-Defined 
Assignment and Finalization</A>&rdquo;).&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<DIV Class="paranum">28.b</DIV>
<DIV Class="Annotations">The special case of array assignment is subsumed 
by the concept of a subtype conversion, which is applied for all kinds 
of types, not just arrays. For arrays it provides &ldquo;sliding&rdquo;. 
For numeric types it provides conversion of a value of a universal type 
to the specific type of the target. For other types, it generally has 
no run-time effect, other than a constraint check.</DIV>
<DIV Class="paranum">28.c</DIV>
<DIV Class="Annotations">We now cover in a general way in <A HREF="AA-3-7-2.html">3.7.2</A> 
the erroneous execution possible due to changing the value of a discriminant 
when the variable in an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN> 
is a subcomponent that depends on discriminants.&nbsp;</DIV>

<H4 Class="centered">Incompatibilities With Ada 95</H4>
<DIV Class="paranum">28.d/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
<SPAN class="insert2">{<I>incompatibilities with Ada 95</I>} <A NAME="I3236"></A>The 
change of the limited check from a resolution rule to a legality rule 
is not quite upward compatible. For example</SPAN>.&nbsp;</DIV>
<DIV Class="paranum">28.e</DIV>
<DIV Class="SmallExamples"><SPAN class="insert2"><B>type</B>&nbsp;AccNonLim&nbsp;<B>is</B>&nbsp;<B>access</B>&nbsp;NonLim;<BR>
<B>function</B>&nbsp;Foo&nbsp;(Arg&nbsp;:&nbsp;in&nbsp;Integer)&nbsp;<B>return</B>&nbsp;AccNonLim;<BR>
<B>type</B>&nbsp;AccLim&nbsp;<B>is</B>&nbsp;<B>access</B>&nbsp;Lim;<BR>
<B>function</B>&nbsp;Foo&nbsp;(Arg&nbsp;:&nbsp;in&nbsp;Integer)&nbsp;<B>return</B>&nbsp;AccLim;<BR>
Foo(2).<B>all</B>&nbsp;:=&nbsp;Foo(1).<B>all</B>;</SPAN>.</DIV>
<DIV Class="paranum">28.f</DIV>
<DIV Class="Annotations"><SPAN class="insert2">where NonLim is a nonlimited 
type and Lim is a limited type. The assignment is legal in Ada 95 (only 
the first Foo would be considered), and is ambiguous in Ada 2005. We 
made the change because we want limited types to be as similar to nonlimited 
types as possible. Limited expressions are now allowed in all other contexts 
(with a similar incompatibility), and it would be odd if assignments 
had different resolution rules (which would eliminate ambiguities in 
some cases). Moreover, examples like this one are rare, as they depend 
on assigning into overloaded function calls.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-5-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-5-3.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
