<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Input-Output for Enumeration Types</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert1 {text-decoration: underline; color: rgb(0,51,51) }
    SPAN.delete1 {text-decoration: line-through; color: rgb(0,51,51) }
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.CodeIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-10-9.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-10-11.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>A.10.10 Input-Output for Enumeration Types</H1>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal">The following procedures are defined in the generic 
package Enumeration_IO, which has to be instantiated for the appropriate 
enumeration type (indicated by Enum in the specification).</DIV>
<DIV Class="paranum">2</DIV>
<DIV Class="Normal">Values are output using either upper or lower case 
letters for identifiers. This is specified by the parameter Set, which 
is of the enumeration type Type_Set.</DIV>
<DIV Class="paranum">3</DIV>
<DIV Class="Examples" Style="margin-bottom: 0.9em"><B>type</B>&nbsp;Type_Set&nbsp;<B>is</B>&nbsp;(Lower_Case,&nbsp;Upper_Case);</DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">The format (which includes 
any trailing spaces) can be specified by an optional field width parameter. 
The default field width and letter case are defined by the following 
variables that are declared in the generic package Enumeration_IO:</DIV>
<DIV Class="paranum">5</DIV>
<DIV Class="Examples" Style="margin-bottom: 0.9em">Default_Width&nbsp;&nbsp;&nbsp;:&nbsp;Field&nbsp;:=&nbsp;0;<BR>
Default_Setting&nbsp;:&nbsp;Type_Set&nbsp;:=&nbsp;Upper_Case;</DIV>
<DIV Class="paranum">6</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">The following procedures 
are provided:&nbsp;</DIV>
<DIV Class="paranum">7</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Get(File&nbsp;:&nbsp;<B>in</B>&nbsp;File_Type;&nbsp;Item&nbsp;:&nbsp;<B>out</B>&nbsp;Enum);<BR>
<B>procedure</B>&nbsp;Get(Item&nbsp;:&nbsp;<B>out</B>&nbsp;Enum);</DIV>
<DIV Class="paranum">8</DIV>
<DIV Class="CodeIndented">After skipping any leading blanks, line terminators, 
or page terminators, reads an identifier according to the syntax of this 
lexical element (lower and upper case being considered equivalent), or 
a character literal according to the syntax of this lexical element (including 
the apostrophes). Returns, in the parameter Item, the value of type Enum 
that corresponds to the sequence input.</DIV>
<DIV Class="paranum">9</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">The exception 
Data_Error is propagated if the sequence input does not have the required 
syntax, or if the identifier or character literal does not correspond 
to a value of the subtype Enum.</DIV>
<DIV Class="paranum">10</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Put(File&nbsp;&nbsp;:&nbsp;<B>in</B>&nbsp;File_Type;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;&nbsp;:&nbsp;<B>in</B>&nbsp;Enum;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Width&nbsp;:&nbsp;<B>in</B>&nbsp;Field&nbsp;:=&nbsp;Default_Width;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;&nbsp;&nbsp;:&nbsp;<B>in</B>&nbsp;Type_Set&nbsp;:=&nbsp;Default_Setting);<BR>
<BR>
<B>procedure</B>&nbsp;Put(Item&nbsp;&nbsp;:&nbsp;<B>in</B>&nbsp;Enum;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Width&nbsp;:&nbsp;<B>in</B>&nbsp;Field&nbsp;:=&nbsp;Default_Width;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;&nbsp;&nbsp;:&nbsp;<B>in</B>&nbsp;Type_Set&nbsp;:=&nbsp;Default_Setting);</DIV>
<DIV Class="paranum">11</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">Outputs the value 
of the parameter Item as an enumeration literal (either an identifier 
or a character literal). The optional parameter Set indicates whether 
lower case or upper case is used for identifiers; it has no effect for 
character literals. If the sequence of characters produced has fewer 
than Width characters, then trailing spaces are finally output to make 
up the difference. If Enum is a character type, the sequence of characters 
produced is as for Enum'Image(Item), as modified by the Width and Set 
parameters.&nbsp;</DIV>
<DIV Class="paranum">11.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>For a character type, the 
literal might be a Wide_Character or a control character. Whatever Image 
does for these things is appropriate here, too.&nbsp;</DIV>
<DIV Class="paranum">12</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Get(From&nbsp;:&nbsp;<B>in</B>&nbsp;String;&nbsp;Item&nbsp;:&nbsp;<B>out</B>&nbsp;Enum;&nbsp;Last&nbsp;:&nbsp;<B>out</B>&nbsp;Positive);</DIV>
<DIV Class="paranum">13</DIV>
<DIV Class="CodeIndented">Reads an enumeration value from the beginning 
of the given string, following the same rule as the Get procedure that 
reads an enumeration value from a file, but treating the end of the string 
as a file terminator. Returns, in the parameter Item, the value of type 
Enum that corresponds to the sequence input. Returns in Last the index 
value such that From(Last) is the last character read.</DIV>
<DIV Class="paranum">14</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">The exception 
Data_Error is propagated if the sequence input does not have the required 
syntax, or if the identifier or character literal does not correspond 
to a value of the subtype Enum.&nbsp;</DIV>
<DIV Class="paranum">14.a</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B>For a character type, it 
is permissible for the implementation to make Get do the inverse of what 
Put does, in the case of wide <SPAN Class="swiss"><A HREF="AA-2-5.html#S0015">character_literal</A></SPAN>s 
and control characters.&nbsp;</DIV>
<DIV Class="paranum">15</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Put(To&nbsp;&nbsp;&nbsp;:&nbsp;<B>out</B>&nbsp;String;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;:&nbsp;<B>in</B>&nbsp;Enum;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set&nbsp;&nbsp;:&nbsp;<B>in</B>&nbsp;Type_Set&nbsp;:=&nbsp;Default_Setting);</DIV>
<DIV Class="paranum">16</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">Outputs the value 
of the parameter Item to the given string, following the same rule as 
for output to a file, using the length of the given string as the value 
for Width.&nbsp;</DIV>
<DIV Class="paranum">17/1</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="defect1.html#8652/0054">8652/0054</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00007.TXT">AI95-00007-01</A></I>} 
Although the specification of the generic package Enumeration_IO would 
allow instantiation for an <SPAN class="insert1">integer</SPAN><SPAN class="delete1">&nbsp;float</SPAN> 
type, this is not the intended purpose of this generic package, and the 
effect of such instantiations is not defined by the language.&nbsp;</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">18</DIV>
<DIV Class="Notes">33&nbsp;&nbsp;There is a difference between Put defined 
for characters, and for enumeration values. Thus&nbsp;</DIV>
<DIV Class="paranum">19</DIV>
<DIV Class="Examples">&nbsp;&nbsp;&nbsp;Ada.Text_IO.Put('A');&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;outputs&nbsp;the&nbsp;character&nbsp;A</I></SPAN></DIV>
<DIV Class="paranum">20</DIV>
<DIV Class="Examples">&nbsp;&nbsp;&nbsp;<B>package</B>&nbsp;Char_IO&nbsp;<B>is</B>&nbsp;<B>new</B>&nbsp;Ada.Text_IO.Enumeration_IO(Character);<BR>
&nbsp;&nbsp;&nbsp;Char_IO.Put('A');&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;outputs&nbsp;the&nbsp;character&nbsp;'A',&nbsp;between&nbsp;apostrophes</I></SPAN></DIV>
<DIV Class="paranum">21</DIV>
<DIV Class="Notes">34&nbsp;&nbsp;The type Boolean is an enumeration type, 
hence Enumeration_IO can be instantiated for this type.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">21.a/2</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0054">8652/0054</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00007.TXT">AI95-00007-01</A></I>} 
<SPAN class="insert2"><B>Corrigendum:</B> Corrected the wording to say 
Enumeration_IO can be instantiated with an integer type, not a float 
type.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-10-9.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-10-11.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
