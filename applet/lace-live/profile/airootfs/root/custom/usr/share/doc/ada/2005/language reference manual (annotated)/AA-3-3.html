<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Objects and Named Numbers</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SmallExamples {font-family: "Courier New", monospace; font-size: 72%; line-height: 122%; margin-left: 9.6em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-2-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-3-1.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>3.3 Objects and Named Numbers</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal">[Objects are created at run time and contain a value 
of a given type. <SPAN STYLE="font-size: 80%">{<I>creation (of an object)</I>}</SPAN> 
<A NAME="I1515"></A>An object can be created and initialized as part 
of elaborating a declaration, evaluating an <SPAN Class="swiss"><A HREF="AA-4-8.html#S0129">allocator</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-4-3.html#S0104">aggregate</A></SPAN>, 
or <SPAN Class="swiss"><A HREF="AA-6-4.html#S0164">function_call</A></SPAN>, 
or passing a parameter by copy. Prior to reclaiming the storage for an 
object, it is finalized if necessary (see <A HREF="AA-7-6-1.html">7.6.1</A>).] 
</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><SPAN STYLE="font-size: 80%">{<I>object</I>}</SPAN> 
<A NAME="I1516"></A>All of the following are objects:&nbsp;</DIV>
<DIV Class="paranum">2.a</DIV>
<DIV Class="Annotations"><B>Glossary entry:&nbsp;</B>{<I>Object</I>} An object 
is either a constant or a variable. An object contains a value. An object 
is created by an <SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0032">object_declaration</A></SPAN> 
or by an <SPAN Class="swiss"><A HREF="AA-4-8.html#S0129">allocator</A></SPAN>. 
A formal parameter is (a view of) an object. A subcomponent of an object 
is an object.</DIV>
<DIV Class="paranum">3</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>the entity declared by an <SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0032">object_declaration</A></SPAN>;</LI></UL>
<DIV Class="paranum">4</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>a formal parameter of a subprogram, 
entry, or generic subprogram;</LI></UL>
<DIV Class="paranum">5</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>a generic formal object;</LI></UL>
<DIV Class="paranum">6</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>a loop parameter;</LI></UL>
<DIV Class="paranum">7</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>a choice parameter of an <SPAN Class="swiss"><A HREF="AA-11-2.html#S0248">exception_handler</A></SPAN>;</LI></UL>
<DIV Class="paranum">8</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>an entry index of an <SPAN Class="swiss"><A HREF="AA-9-5-2.html#S0203">entry_body</A></SPAN>;</LI></UL>
<DIV Class="paranum">9</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>the result of dereferencing an access-to-object 
value (see <A HREF="AA-4-1.html">4.1</A>);</LI></UL>
<DIV Class="paranum">10/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00416.TXT">AI95-00416-01</A></I>} 
the <SPAN class="insert2">return object created as the&nbsp;</SPAN>result 
of evaluating a <SPAN Class="swiss"><A HREF="AA-6-4.html#S0164">function_call</A></SPAN> 
(or the equivalent operator invocation &mdash; see <A HREF="AA-6-6.html">6.6</A>);</LI></UL>
<DIV Class="paranum">11</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>the result of evaluating an <SPAN Class="swiss"><A HREF="AA-4-3.html#S0104">aggregate</A></SPAN>;</LI></UL>
<DIV Class="paranum">12</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>a component, slice, or view conversion 
of another object.&nbsp;</LI></UL>
<DIV Class="paranum">13</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>constant</I>}</SPAN> 
<A NAME="I1517"></A><SPAN STYLE="font-size: 80%">{<I>variable</I>}</SPAN> 
<A NAME="I1518"></A><SPAN STYLE="font-size: 80%">{<I>constant object</I>}</SPAN> 
<A NAME="I1519"></A><SPAN STYLE="font-size: 80%">{<I>variable object</I>}</SPAN> 
<A NAME="I1520"></A><SPAN STYLE="font-size: 80%">{<I>constant view</I>}</SPAN> 
<A NAME="I1521"></A><SPAN STYLE="font-size: 80%">{<I>variable view</I>}</SPAN> 
<A NAME="I1522"></A>An object is either a <I>constant</I> object or a 
<I>variable</I> object. The value of a constant object cannot be changed 
between its initialization and its finalization, whereas the value of 
a variable object can be changed. Similarly, a view of an object is either 
a <I>constant</I> or a <I>variable</I>. All views of a constant object 
are constant. A constant view of a variable object cannot be used to 
modify the value of the variable. The terms constant and variable by 
themselves refer to constant and variable views of objects.</DIV>
<DIV Class="paranum">14</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>read (the value 
of an object)</I>}</SPAN> <A NAME="I1523"></A>The value of an object 
is <I>read</I> when the value of any part of the object is evaluated, 
or when the value of an enclosing object is evaluated. <SPAN STYLE="font-size: 80%">{<I>update 
(the value of an object)</I>}</SPAN> <A NAME="I1524"></A>The value of 
a variable is <I>updated</I> when an assignment is performed to any part 
of the variable, or when an assignment is performed to an enclosing object. 
</DIV>
<DIV Class="paranum">14.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Reading and updating are 
intended to include read/write references of any kind, even if they are 
not associated with the evaluation of a particular construct. Consider, 
for example, the expression &ldquo;X.<B>all</B>(F)&rdquo;, where X is 
an access-to-array object, and F is a function. The implementation is 
allowed to first evaluate &ldquo;X.<B>all</B>&rdquo; and then F. Finally, 
a read is performed to get the value of the F'th component of the array. 
Note that the array is not necessarily read as part of the evaluation 
of &ldquo;X.<B>all</B>&rdquo;. This is important, because if F were to 
free X using Unchecked_Deallocation, we want the execution of the final 
read to be erroneous.&nbsp;</DIV>
<DIV Class="paranum">15</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">Whether a view of an 
object is constant or variable is determined by the definition of the 
view. The following (and no others) represent constants:&nbsp;</DIV>
<DIV Class="paranum">16</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>an object declared by an <SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0032">object_declaration</A></SPAN> 
with the reserved word <B>constant</B>;</LI></UL>
<DIV Class="paranum">16.a/2</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em"><SPAN class="insert2"><B>To 
be honest:&nbsp;</B></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00385.TXT">AI95-00385-01</A></I>} 
<SPAN class="insert2">We mean the word <B>constant</B> as defined by 
the grammar for <SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0032">object_declaration</A></SPAN>, 
not some random word <B>constant</B>. Thus,</SPAN>&nbsp;</DIV>
<DIV Class="paranum">16.b/2</DIV>
<DIV Class="SmallExamples"><SPAN class="insert2">X&nbsp;:&nbsp;<B>access&nbsp;constant</B>&nbsp;T;</SPAN></DIV>
<DIV Class="paranum">16.c/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2">is not a constant.</SPAN> 
</DIV>
<DIV Class="paranum">17</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>a formal parameter or generic formal 
object of mode <B>in</B>;</LI></UL>
<DIV Class="paranum">18</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>a discriminant;</LI></UL>
<DIV Class="paranum">19</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>a loop parameter, choice parameter, 
or entry index;</LI></UL>
<DIV Class="paranum">20</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>the dereference of an access-to-constant 
value;</LI></UL>
<DIV Class="paranum">21</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>the result of evaluating a <SPAN Class="swiss"><A HREF="AA-6-4.html#S0164">function_call</A></SPAN> 
or an <SPAN Class="swiss"><A HREF="AA-4-3.html#S0104">aggregate</A></SPAN>;</LI></UL>
<DIV Class="paranum">22</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>a <SPAN Class="swiss"><A HREF="AA-4-1-3.html#S0098">selected_component</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-4-1-1.html#S0096">indexed_component</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-4-1-2.html#S0097">slice</A></SPAN>, or 
view conversion of a constant.&nbsp;</LI></UL>
<DIV Class="paranum">22.a/2</DIV>
<DIV Class="Annotations"><SPAN class="delete2"><B>To be honest:&nbsp;</B></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00114.TXT">AI95-00114-01</A></I>} 
<SPAN class="delete2">A noninvertible view conversion to a general access 
type is also defined to be a constant &mdash; see <A HREF="AA-4-6.html">4.6</A>.</SPAN> 
</DIV>
<DIV Class="paranum">23</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>nominal subtype</I>}</SPAN> 
<A NAME="I1525"></A>At the place where a view of an object is defined, 
a <I>nominal subtype</I> is associated with the view. <SPAN STYLE="font-size: 80%">{<I>actual 
subtype</I>}</SPAN> <A NAME="I1526"></A><SPAN STYLE="font-size: 80%">{<I>subtype 
(of an object): See actual subtype of an object</I>}</SPAN> <A NAME="I1527"></A>The 
object's <I>actual subtype</I> (that is, its subtype) can be more restrictive 
than the nominal subtype of the view; it always is if the nominal subtype 
is an <I>indefinite subtype</I>. <SPAN STYLE="font-size: 80%">{<I>indefinite 
subtype</I>}</SPAN> <A NAME="I1528"></A><SPAN STYLE="font-size: 80%">{<I>definite 
subtype</I>}</SPAN> <A NAME="I1529"></A>A subtype is an indefinite subtype 
if it is an unconstrained array subtype, or if it has unknown discriminants 
or unconstrained discriminants without defaults (see <A HREF="AA-3-7.html">3.7</A>); 
otherwise the subtype is a <I>definite</I> subtype [(all elementary subtypes 
are definite subtypes)]. [A class-wide subtype is defined to have unknown 
discriminants, and is therefore an indefinite subtype. An indefinite 
subtype does not by itself provide enough information to create an object; 
an additional <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0029">constraint</A></SPAN> 
or explicit initialization <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is necessary (see <A HREF="AA-3-3-1.html">3.3.1</A>). A component cannot 
have an indefinite nominal subtype.]</DIV>
<DIV Class="paranum">24</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>named number</I>}</SPAN> 
<A NAME="I1530"></A>A <I>named number</I> provides a name for a numeric 
value known at compile time. It is declared by a <SPAN Class="swiss"><A HREF="AA-3-3-2.html#S0034">number_declaration</A></SPAN>. 
</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">25</DIV>
<DIV Class="Notes">5&nbsp;&nbsp;A constant cannot be the target of an 
assignment operation, nor be passed as an <B>in</B> <B>out</B> or <B>out</B> 
parameter, between its initialization and finalization, if any.</DIV>
<DIV Class="paranum">26</DIV>
<DIV Class="Notes">6&nbsp;&nbsp;The nominal and actual subtypes of an 
elementary object are always the same. For a discriminated or array object, 
if the nominal subtype is constrained then so is the actual subtype. 
</DIV>

<H4 Class="centered">Extensions to Ada 83</H4>
<DIV Class="paranum">26.a</DIV>
<DIV Class="Annotations">{<I>extensions to Ada 83</I>} <A NAME="I1531"></A>There 
are additional kinds of objects (choice parameters and entry indices 
of entry bodies).</DIV>
<DIV Class="paranum">26.b</DIV>
<DIV Class="Annotations">The result of a function and of evaluating an 
aggregate are considered (constant) objects. This is necessary to explain 
the action of finalization on such things. Because a <SPAN Class="swiss"><A HREF="AA-6-4.html#S0164">function_call</A></SPAN> 
is also syntactically a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
(see <A HREF="AA-4-1.html">4.1</A>), the result of a <SPAN Class="swiss"><A HREF="AA-6-4.html#S0164">function_call</A></SPAN> 
can be renamed, thereby allowing repeated use of the result without calling 
the function again.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<DIV Class="paranum">26.c</DIV>
<DIV Class="Annotations">This clause and its subclauses now follow the 
clause and subclauses on types and subtypes, to cut down on the number 
of forward references.</DIV>
<DIV Class="paranum">26.d</DIV>
<DIV Class="Annotations">The term nominal subtype is new. It is used 
to distinguish what is known at compile time about an object's constraint, 
versus what its &quot;true&quot; run-time constraint is.</DIV>
<DIV Class="paranum">26.e</DIV>
<DIV Class="Annotations">The terms definite and indefinite (which apply 
to subtypes) are new. They are used to aid in the description of generic 
formal type matching, and to specify when an explicit initial value is 
required in an <SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0032">object_declaration</A></SPAN>.</DIV>
<DIV Class="paranum">26.f</DIV>
<DIV Class="Annotations">We have moved the syntax for <SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0032">object_declaration</A></SPAN> 
and <SPAN Class="swiss"><A HREF="AA-3-3-2.html#S0034">number_declaration</A></SPAN> 
down into their respective subclauses, to keep the syntax close to the 
description of the associated semantics.</DIV>
<DIV Class="paranum">26.g</DIV>
<DIV Class="Annotations">We talk about variables and constants here, 
since the discussion is not specific to <SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0032">object_declaration</A></SPAN>s, 
and it seems better to have the list of the kinds of constants juxtaposed 
with the kinds of objects.</DIV>
<DIV Class="paranum">26.h</DIV>
<DIV Class="Annotations">We no longer talk about indirect updating due 
to parameter passing. Parameter passing is handled in 6.2 and 6.4.1 in 
a way that there is no need to mention it here in the definition of read 
and update. Reading and updating now includes the case of evaluating 
or assigning to an enclosing object.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">26.i/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00416.TXT">AI95-00416-01</A></I>} 
<SPAN class="insert2">Clarified that the return object is the object 
created by a function call.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-2-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-3-1.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
