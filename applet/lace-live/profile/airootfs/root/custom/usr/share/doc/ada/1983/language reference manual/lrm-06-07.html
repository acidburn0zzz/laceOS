<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<TITLE>Ada 83 LRM, Sec 6.7: Overloading of Operators</TITLE>
</HEAD><BODY>
<hr><a href="ada_lrm.html"><IMG SRC="adass.gif" align=LEFT hspace=6 vspace=6 alt="Lady Ada"></a><H1>Ada '83 Language Reference Manual</H1>
<h6><a href="ada_legal.html">Copyright</a> 1980, 1982, 1983 owned by the United States Government. Direct reproduction and usage requests to the <a href="mailto://adainfo@sw-eng.falls-church.va.us">Ada Information Clearinghouse</a>.</h6>
<br clear=LEFT>
<hr>

<H2><A NAME="6.7">6.7</A>.  Overloading of Operators  </H2>
<A HREF="lrm-06-06.html#6.6"><img src="lrm-prev.gif" alt="[PREVIOUS]"></A><A HREF="lrm-06.html#6"><img src="lrm-up.gif" alt="[UP]"></A>
<P>
The declaration of a function whose designator is  an  operator  symbol  is  
used  to  overload an operator.  The sequence of characters of the operator
symbol must be either a logical, a relational, a  binary  adding,  a  unary
adding, a multiplying, or a highest precedence operator (see <a href="lrm-04-05.html#4.5">4.5</a>).  Neither
membership  tests  nor  the  short-circuit  control  forms  are  allowed as
function designators.  
<P>
The subprogram specification  of  a  unary  operator  must  have  a  single
parameter.  The subprogram specification of a binary operator must have two
parameters;   for  each use of this operator, the first parameter takes the
left operand as actual parameter, the  second  parameter  takes  the  right
operand.   Similarly,  a generic function instantiation whose designator is
an operator symbol is only allowed if  the  specification  of  the  generic
function  has  the corresponding number of parameters.  Default expressions
are not allowed for the parameters of an operator (whether the operator  is
declared  with  an  explicit  subprogram  specification  or  by  a  generic
instantiation).                                               
<P>
For each of the operators "+" and "-", overloading is  allowed  both  as  a
unary and as a binary operator. 
<P>
The explicit declaration of a function that overloads the equality operator
"=",  other  than  by  a  renaming  declaration,  is  only  allowed if both
parameters are of the same limited type.  An overloading of  equality  must
deliver  a  result  of  the  predefined  type  BOOLEAN;  it also implicitly
overloads the inequality  operator  "/="  so  that  this  still  gives  the
complementary result to the equality operator.  Explicit overloading of the 
inequality operator is not allowed. 
<P>
A  renaming  declaration  whose designator is the equality operator is only
allowed to rename another equality operator.  (For example, such a renaming
declaration can be used when equality  is  visible  by  selection  but  not
directly visible.)
<P>
Note: 
<P>
Overloading  of relational operators does not affect basic comparisons such
as testing for membership in a range or the choices in a case statement. 
<P>
Examples: 
<pre>
    function "+" (LEFT, RIGHT : MATRIX) return MATRIX;
    function "+" (LEFT, RIGHT : VECTOR) return VECTOR; 

    --  assuming that A, B, and C are of the type VECTOR
    --  the three following assignments are equivalent 

    A := B + C; 

    A := "+"(B, C);
    A := "+"(LEFT =&gt; B, RIGHT =&gt; C); 
</pre>
<P>
<b>References:</b>  <A HREF="lrm-01-06.html#1.6">allow</A>,
<A HREF="lrm-06-04.html#6.4.1">actual parameter</A>,
<A HREF="lrm-04-05.html#4.5">binary adding operator</A>,
 and <A HREF="lrm-04-05.html#4.5.3">4.5.3</A>,
<A HREF="lrm-03-05.html#3.5.3">boolean  predefined type</A>,
<A HREF="lrm-02-01.html#2.1">character</A>,
<A HREF="lrm-04-05.html#4.5.2">complementary result</A>,
<A HREF="lrm-03-01.html#3.1">declaration</A>,
<A HREF="lrm-06-01.html#6.1">default expression  for  a  formal  parameter</A>,
<A HREF="lrm-06-01.html#6.1">designator</A>,
<A HREF="lrm-08-03.html#8.3">directly  visible</A>,
<A HREF="lrm-04-05.html#4.5">equality  operator</A>,
<A HREF="lrm-06-01.html#6.1">formal parameter</A>,
<A HREF="lrm-06-01.html#6.1">function declaration</A>,
<A HREF="lrm-04-05.html#4.5">highest  precedence  operator</A>,
 and <A HREF="lrm-04-05.html#4.5.6">4.5.6</A>,
<A HREF="lrm-03-01.html#3.1">implicit  declaration</A>,
<A HREF="lrm-04-05.html#4.5.2">inequality operator</A>,
<A HREF="lrm-07-04.html#7.4.4">limited type</A>,
<A HREF="lrm-04-05.html#4.5">logical operator</A>,
 and <A HREF="lrm-04-05.html#4.5.1">4.5.1</A>,
<A HREF="lrm-04-05.html#4.5">membership test</A>,
 and <A HREF="lrm-04-05.html#4.5.2">4.5.2</A>,
<A HREF="lrm-04-05.html#4.5">multiplying operator</A>,
 and <A HREF="lrm-04-05.html#4.5.5">4.5.5</A>,
<A HREF="lrm-04-05.html#4.5">operator</A>,
<A HREF="lrm-06-01.html#6.1">operator symbol</A>,
<A HREF="lrm-06-06.html#6.6">overloading</A>,
 and <A HREF="lrm-08-07.html#8.7">8.7</A>,
<A HREF="lrm-04-05.html#4.5">relational  operator</A>,
 and <A HREF="lrm-04-05.html#4.5.2">4.5.2</A>,
<A HREF="lrm-04-05.html#4.5">short-circuit control form</A>,
 and <A HREF="lrm-04-05.html#4.5.1">4.5.1</A>,
<A HREF="lrm-03-03.html#3.3.1">type definition</A>,
<A HREF="lrm-04-05.html#4.5">unary adding operator</A>,
 and <A HREF="lrm-04-05.html#4.5.4">4.5.4</A>,
<A HREF="lrm-08-03.html#8.3">visible by selection</A>.
<P>

<b>Rationale references:</b> 
<a href="http://archive.adaic.com/standards/83rat/html/ratl-11-04.html#11.4.1">11.4.1&nbsp;Overloading of Operators</a>
<p>

<b>Style Guide references:</b> 
<A HREF="http://archive.adaic.com/docs/style-guide/83style/html/sty-05-07.html#5.7.5">5.7.5&nbsp;Overloading the Equality Operator</a>
<p>

<A HREF="lrm-IDX.html"><img src="lrm-idx.gif" alt="[INDEX]"></A><A HREF="lrm-TOC.html"><img src="lrm-toc.gif" alt="[CONTENTS]"></A>

<hr>
<address><a href="http://sw-eng.falls-church.va.us/AdaIC/"><IMG SRC="small_adaic_logo.gif" ALT="[Ada Information Clearinghouse]"></a><p>
Address any questions or comments to
<A HREF="mailto://adainfo@sw-eng.falls-church.va.us">adainfo@sw-eng.falls-church.va.us</A>.</address>
</BODY></HTML>
