<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Input-Output of Characters and Strings</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert1 {text-decoration: underline; color: rgb(0,51,51) }
    SPAN.delete1 {text-decoration: line-through; color: rgb(0,51,51) }
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.CodeIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-10-6.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-10-8.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>A.10.7 Input-Output of Characters and Strings</H1>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">For an item of type 
Character the following procedures are provided:&nbsp;</DIV>
<DIV Class="paranum">2</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Get(File&nbsp;:&nbsp;<B>in</B>&nbsp;File_Type;&nbsp;Item&nbsp;:&nbsp;<B>out</B>&nbsp;Character);<BR>
<B>procedure</B>&nbsp;Get(Item&nbsp;:&nbsp;<B>out</B>&nbsp;Character);</DIV>
<DIV Class="paranum">3</DIV>
<DIV Class="CodeIndented">After skipping any line terminators and any 
page terminators, reads the next character from the specified input file 
and returns the value of this character in the out parameter Item.</DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">The exception 
End_Error is propagated if an attempt is made to skip a file terminator.</DIV>
<DIV Class="paranum">5</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Put(File&nbsp;:&nbsp;<B>in</B>&nbsp;File_Type;&nbsp;Item&nbsp;:&nbsp;<B>in</B>&nbsp;Character);<BR>
<B>procedure</B>&nbsp;Put(Item&nbsp;:&nbsp;<B>in</B>&nbsp;Character);</DIV>
<DIV Class="paranum">6</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">If the line length 
of the specified output file is bounded (that is, does not have the conventional 
value zero), and the current column number exceeds it, has the effect 
of calling New_Line with a spacing of one. Then, or otherwise, outputs 
the given character to the file.</DIV>
<DIV Class="paranum">7</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Look_Ahead&nbsp;(File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>in</B>&nbsp;&nbsp;File_Type;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>out</B>&nbsp;Character;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End_Of_Line&nbsp;:&nbsp;<B>out</B>&nbsp;Boolean);<BR>
<B>procedure</B>&nbsp;Look_Ahead&nbsp;(Item&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>out</B>&nbsp;Character;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;End_Of_Line&nbsp;:&nbsp;<B>out</B>&nbsp;Boolean);</DIV>
<DIV Class="paranum">8/1</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">Mode_Error is 
propagated if the mode of the file is not In_File. Sets End_Of_Line to 
True if at end of line, including if at end of page or at end of file; 
in each of these cases the value of Item is not specified. <SPAN STYLE="font-size: 80%">{<I>unspecified</I> 
[partial]}</SPAN> <A NAME="I6383"></A>Otherwise End_Of_Line is set to 
False and Item is set to <SPAN class="delete1">the&nbsp;</SPAN>the next character 
(without consuming it) from the file.</DIV>
<DIV Class="paranum">9</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Get_Immediate(File&nbsp;:&nbsp;<B>in</B>&nbsp;&nbsp;File_Type;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;:&nbsp;<B>out</B>&nbsp;Character);<BR>
<B>procedure</B>&nbsp;Get_Immediate(Item&nbsp;:&nbsp;<B>out</B>&nbsp;Character);</DIV>
<DIV Class="paranum">10</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">Reads the next 
character, either control or graphic, from the specified File or the 
default input file. Mode_Error is propagated if the mode of the file 
is not In_File. End_Error is propagated if at the end of the file. The 
current column, line and page numbers for the file are not affected.</DIV>
<DIV Class="paranum">11</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Get_Immediate(File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>in</B>&nbsp;&nbsp;File_Type;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>out</B>&nbsp;Character;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Available&nbsp;:&nbsp;<B>out</B>&nbsp;Boolean);<BR>
<B>procedure</B>&nbsp;Get_Immediate(Item&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:&nbsp;<B>out</B>&nbsp;Character;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Available&nbsp;:&nbsp;<B>out</B>&nbsp;Boolean);</DIV>
<DIV Class="paranum">12</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">If a character, 
either control or graphic, is available from the specified File or the 
default input file, then the character is read; Available is True and 
Item contains the value of this character. If a character is not available, 
then Available is False and the value of Item is not specified. <SPAN STYLE="font-size: 80%">{<I>unspecified</I> 
[partial]}</SPAN> <A NAME="I6384"></A>Mode_Error is propagated if the 
mode of the file is not In_File. End_Error is propagated if at the end 
of the file. The current column, line and page numbers for the file are 
not affected.</DIV>
<DIV Class="paranum">13/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00301.TXT">AI95-00301-01</A></I>} 
For an item of type String the following <SPAN class="insert2">subprograms</SPAN><SPAN class="delete2">&nbsp;procedures</SPAN> 
are provided:&nbsp;</DIV>
<DIV Class="paranum">14</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Get(File&nbsp;:&nbsp;<B>in</B>&nbsp;File_Type;&nbsp;Item&nbsp;:&nbsp;<B>out</B>&nbsp;String);<BR>
<B>procedure</B>&nbsp;Get(Item&nbsp;:&nbsp;<B>out</B>&nbsp;String);</DIV>
<DIV Class="paranum">15</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">Determines the 
length of the given string and attempts that number of Get operations 
for successive characters of the string (in particular, no operation 
is performed if the string is null).</DIV>
<DIV Class="paranum">16</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Put(File&nbsp;:&nbsp;<B>in</B>&nbsp;File_Type;&nbsp;Item&nbsp;:&nbsp;<B>in</B>&nbsp;String);<BR>
<B>procedure</B>&nbsp;Put(Item&nbsp;:&nbsp;<B>in</B>&nbsp;String);</DIV>
<DIV Class="paranum">17</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">Determines the 
length of the given string and attempts that number of Put operations 
for successive characters of the string (in particular, no operation 
is performed if the string is null).</DIV>
<DIV Class="paranum">17.1/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>function</B>&nbsp;Get_Line(File&nbsp;:&nbsp;<B>in</B>&nbsp;File_Type)&nbsp;<B>return</B>&nbsp;String;<BR>
<B>function</B>&nbsp;Get_Line&nbsp;<B>return</B>&nbsp;String;</SPAN></DIV>
<DIV Class="paranum">17.2/2</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00301.TXT">AI95-00301-01</A></I>} 
<SPAN class="insert2">Returns a result string constructed by reading 
successive characters from the specified input file, and assigning them 
to successive characters of the result string. The result string has 
a lower bound of 1 and an upper bound of the number of characters read. 
Reading stops when the end of the line is met; Skip_Line is then (in 
effect) called with a spacing of 1.</SPAN></DIV>
<DIV Class="paranum">17.3/2</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00301.TXT">AI95-00301-01</A></I>} 
<SPAN class="insert2">Constraint_Error is raised if the length of the 
line exceeds Positive'Last; in this case, the line number and page number 
are unchanged, and the column number is unspecified but no less than 
it was before the call.<SPAN STYLE="font-size: 80%">{<I>unspecified</I> 
[partial]}</SPAN> <A NAME="I6385"></A> The exception End_Error is propagated 
if an attempt is made to skip a file terminator.</SPAN></DIV>
<DIV Class="paranum">17.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Ramification:&nbsp;</B></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00301.TXT">AI95-00301-01</A></I>} 
<SPAN class="insert2">Precisely what is left in the file is unspecified 
if Constraint_Error is raised because the line doesn't fit in a String; 
it should be consistent with column number. This allows implementers 
to use whatever buffering scheme makes sense. But the line terminator 
is not skipped in this case.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">18</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Get_Line(File&nbsp;:&nbsp;<B>in</B>&nbsp;File_Type;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Item&nbsp;:&nbsp;<B>out</B>&nbsp;String;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Last&nbsp;:&nbsp;<B>out</B>&nbsp;Natural);<BR>
<B>procedure</B>&nbsp;Get_Line(Item&nbsp;:&nbsp;<B>out</B>&nbsp;String;&nbsp;&nbsp;&nbsp;Last&nbsp;:&nbsp;<B>out</B>&nbsp;Natural);</DIV>
<DIV Class="paranum">19</DIV>
<DIV Class="CodeIndented">Reads successive characters from the specified 
input file and assigns them to successive characters of the specified 
string. Reading stops if the end of the string is met. Reading also stops 
if the end of the line is met before meeting the end of the string; in 
this case Skip_Line is (in effect) called with a spacing of 1. <SPAN STYLE="font-size: 80%">{<I>unspecified</I> 
[partial]}</SPAN> <A NAME="I6386"></A>The values of characters not assigned 
are not specified.</DIV>
<DIV Class="paranum">20</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">If characters 
are read, returns in Last the index value such that Item(Last) is the 
last character assigned (the index of the first character assigned is 
Item'First). If no characters are read, returns in Last an index value 
that is one less than Item'First. The exception End_Error is propagated 
if an attempt is made to skip a file terminator.</DIV>
<DIV Class="paranum">21</DIV>
<DIV Class="Examples"><B>procedure</B>&nbsp;Put_Line(File&nbsp;:&nbsp;<B>in</B>&nbsp;File_Type;&nbsp;Item&nbsp;:&nbsp;<B>in</B>&nbsp;String);<BR>
<B>procedure</B>&nbsp;Put_Line(Item&nbsp;:&nbsp;<B>in</B>&nbsp;String);</DIV>
<DIV Class="paranum">22</DIV>
<DIV Class="CodeIndented">Calls the procedure Put for the given string, 
and then the procedure New_Line with a spacing of one.&nbsp;</DIV>

<H4 Class="centered">Implementation Advice</H4>
<DIV Class="paranum">23</DIV>
<DIV Class="Normal">The Get_Immediate procedures should be implemented 
with unbuffered input. For a device such as a keyboard, input should 
be &ldquo;available&rdquo; if a key has already been typed, whereas for 
a disk file, input should always be available except at end of file. 
For a file associated with a keyboard-like device, any line-editing features 
of the underlying operating system should be disabled during the execution 
of Get_Immediate.&nbsp;</DIV>
<DIV Class="paranum">23.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Implementation Advice: 
</B></SPAN><SPAN class="insert2">Get_Immediate should be implemented 
with unbuffered input; input should be available immediately; line-editing 
should be disabled.</SPAN></DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">24</DIV>
<DIV Class="Notes">27&nbsp;&nbsp;Get_Immediate can be used to read a 
single key from the keyboard &ldquo;immediately&rdquo;; that is, without 
waiting for an end of line. In a call of Get_Immediate without the parameter 
Available, the caller will wait until a character is available.</DIV>
<DIV Class="paranum">25</DIV>
<DIV Class="Notes">28&nbsp;&nbsp;In a literal string parameter of Put, 
the enclosing string bracket characters are not output. Each doubled 
string bracket character in the enclosed string is output as a single 
string bracket character, as a consequence of the rule for string literals 
(see <A HREF="AA-2-6.html">2.6</A>).</DIV>
<DIV Class="paranum">26</DIV>
<DIV Class="Notes">29&nbsp;&nbsp;A string read by Get or written by Put 
can extend over several lines. An implementation is allowed to assume 
that certain external files do not contain page terminators, in which 
case Get_Line and Skip_Line can return as soon as a line terminator is 
read.&nbsp;</DIV>

<H4 Class="centered">Incompatibilities With Ada 95</H4>
<DIV Class="paranum">26.a/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00301.TXT">AI95-00301-01</A></I>} 
<SPAN class="insert2">{<I>incompatibilities with Ada 95</I>} <A NAME="I6387"></A>The 
Get_Line functions are newly added to Ada.Text_IO. If Ada.Text_IO is 
referenced in a <SPAN Class="swiss"><A HREF="AA-8-4.html#S0179">use_clause</A></SPAN>, 
and a function Get_Line is defined in a package that is also referenced 
in a <SPAN Class="swiss"><A HREF="AA-8-4.html#S0179">use_clause</A></SPAN>, 
the user-defined Get_Line may no longer be use-visible, resulting in 
errors. This should be rare and is easily fixed if it does occur.</SPAN> 
</DIV>

<H4 Class="centered">Extensions to Ada 95</H4>
<DIV Class="paranum">26.b/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00301.TXT">AI95-00301-01</A></I>} 
<SPAN class="insert2">{<I>extensions to Ada 95</I>} <A NAME="I6388"></A>The 
Text_IO.Get_Line functions are new.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-10-6.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-10-8.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
