<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Numerics annex</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-bottom: 0.6em}
    DIV.Indented1 {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 2.0em; margin-bottom: 0.6em}
    DIV.SwissExamples {font-family: Arial, Helvetica, sans-serif; font-size: 90%; line-height: 122%; margin-left: 2.2em; margin-bottom: 0.6em}
    DIV.Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 2.0em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 2.0em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.Enumerated-Body {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 2.0em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Enumerated-Term {float: left; font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 0.5em; margin-top: 0em; margin-bottom: 0em}
    DIV.WideHanging-Body {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 6.0em; margin-top: 0em; margin-bottom: 0.6em}
    DIV.WideHanging-Term {float: left; font-family: "Times New Roman", Times, serif; line-height: 122%; margin-top: 0em; margin-bottom: 0em}
    </STYLE>
<!-- BEGIN Google Analytics -->
<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-117428-5']);
  _gaq.push(['_trackPageview']);
  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>
<!-- END Google Analytics -->
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">
<H1 Style='font-family: "Rockwell", "Times New Roman", Times, serif; font-size: 240%'><B><SPAN Style="color:rgb(0,0,153)">Rationale</SPAN> for <SPAN Style="color:rgb(204,0,0)">Ada 2005</SPAN></B></H1>
<DIV Class="Normal"><FONT SIZE="+1"><I><A HREF="Rat-TTL.html">John Barnes</A></I></FONT></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="Rat-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-0-3.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-0-2.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-7-5.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-7-7.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>7.6 Numerics annex</H1>
<div class="Normal">When Ada 95 was being designed, the Numerics Rapporteur 
Group pontificated at length over what features should be included in 
Ada 95 itself, what should be placed in secondary standards, and what 
should be left to the creativeness of the user community.</div>
<div class="Normal" style="margin-bottom: 0.4em">A number of secondary 
standards had been developed for Ada 83. They were&nbsp;</div>
<div class="WideHanging-Term">11430</div><div class="WideHanging-Body">
Generic package of elementary functions for Ada,</div>
<div class="WideHanging-Term">11729</div><div class="WideHanging-Body">
Generic package of primitive functions for Ada,</div>
<div class="WideHanging-Term">13813</div><div class="WideHanging-Body">
Generic package of real and complex type declarations and basic operations 
for Ada (including vector and matrix types),</div>
<div class="WideHanging-Term">13814</div><div class="WideHanging-Body">
Generic package of complex elementary functions for Ada.&nbsp;</div>
<div class="Normal">The first two, 11430 and 11729, were incorporated 
into the Ada 95 core language. The elementary functions, 11430, (<SPAN Class="swiss">Sqrt</SPAN>, 
<SPAN Class="swiss">Sin</SPAN>, <SPAN Class="swiss">Cos</SPAN> etc) became 
the package <SPAN Class="swiss">Ada.Numerics.Generic_Elementary_ Functions</SPAN> 
in <A HREF="http://www.adaic.org/resources/add_content/standards/05rm/html/RM-A-5-1.html">A.5.1</A>, 
and the primitive functions, 11729, became the various attributes such 
as <SPAN Class="swiss">Floor</SPAN>, <SPAN Class="swiss">Ceiling</SPAN>, 
<SPAN Class="swiss">Exponent</SPAN> and <SPAN Class="swiss">Fraction</SPAN> 
in <A HREF="http://www.adaic.org/resources/add_content/standards/05rm/html/RM-A-5-3.html">A.5.3</A>. 
The original standards were withdrawn long ago.</div>
<div class="Normal">The other two standards, although originally developed 
as Ada 83 standards did not become finally approved until 1998.</div>
<div class="Normal">In the case of 13814, the functionality was all incorporated 
into the Numerics annex of Ada 95 as the package <SPAN Class="swiss">Ada.Numerics.Generic_Complex_Elementary_Functions</SPAN> 
in <A HREF="http://www.adaic.org/resources/add_content/standards/05rm/html/RM-G-1-2.html">G.1.2</A>. 
Accordingly the original standard has now lapsed.</div>
<div class="Normal" style="margin-bottom: 0.4em">However, the situation 
regarding 13813 was not so clear. It covered four areas</div>
<div class="Enumerated-Term">a)</div><div class="Enumerated-Body">
a complex types package including various complex arithmetic operations,</div>
<div class="Enumerated-Term">b)</div><div class="Enumerated-Body">
a real arrays package covering both vectors and matrices,</div>
<div class="Enumerated-Term">c)</div><div class="Enumerated-Body">
a complex arrays package covering both vectors and matrices, and</div>
<div class="Enumerated-Term">d)</div><div class="Enumerated-Body">
a complex input&ndash;output package.&nbsp;</div>
<div class="Normal">The first of these was incorporated into the Numerics 
annex of Ada 95 as the package <SPAN Class="swiss">Ada.Numerics.Generic_Complex_Types</SPAN> 
in <A HREF="http://www.adaic.org/resources/add_content/standards/05rm/html/RM-G-1-1.html">G.1.1</A>, 
and the last similarly became the package <SPAN Class="swiss">Ada.Text_IO.Complex_IO</SPAN> 
in <A HREF="http://www.adaic.org/resources/add_content/standards/05rm/html/RM-G-1-3.html">G.1.3</A>. 
However, the array packages, both real and complex, were not incorporated 
into Ada 95.</div>
<div class="Normal">The reason for this omission is explained in <A HREF="http://www.adaic.org/resources/add_content/standards/95rat/rat95html/rat95-p3-g.">Section 
G.1.1</A> of the Rationale for Ada 95 <A HREF="Rat-0-2.html#R3">[3]</A> 
which says</div>
<div class="Indented1">A decision was made to abbreviate the Ada 95 packages 
by omitting the vector and matrix types and operations. One reason was 
that such types and operations were largely self-evident, so that little 
real help would be provided by defining them in the language. Another 
reason was that a future version of Ada might add enhancements for array 
manipulation and so it would be inappropriate to lock in such operations 
permanently.&nbsp;</div>
<div class="Normal">The sort of enhancements that perhaps were being 
anticipated were facilities for manipulating arbitrary subpartitions 
of arrays such as were provided in Algol 68. These rather specialized 
facilities have not been added to Ada 2005 and indeed it seems most unlikely 
that they would ever be added. The second justification for omitting 
the vector and matrix facilities of 13813 thus disappears.</div>
<div class="Normal">In order to overcome the objection that everything 
is self-evident we have taken the approach that we should further add 
some basic facilities that are commonly required, not completely trivial 
to implement, but on the other hand are mathematically well understood.</div>
<div class="Normal" style="margin-bottom: 0.4em">So the outcome is that 
Ada 2005 includes almost everything from 13813 plus subprograms for</div>
<div class="Bulleted">finding the norm of a vector,<A NAME="I1353"></A><A NAME="I1354"></A></div>
<div class="Bulleted">solving sets of linear equations,<A NAME="I1355"></A></div>
<div class="Bulleted">finding the inverse and determinant of a matrix,<A NAME="I1356"></A><A NAME="I1357"></A></div>
<div class="Bulleted">finding the eigenvalues and eigenvectors of a symmetric 
real or Hermitian matrix.<A NAME="I1358"></A><A NAME="I1359"></A>&nbsp;</div>
<div class="Normal">A small number of operations that were not related 
to linear algebra were removed (such as raising all elements of a matrix 
to a given power).</div>
<div class="Normal" style="margin-bottom: 0.4em">So Ada 2005 includes 
two new packages which are <SPAN Class="swiss">Ada.Numerics.Generic_Real_Arrays</SPAN> 
and <SPAN Class="swiss">Ada.Numerics.Generic_Complex_Arrays</SPAN>. It 
would take too much space to give the specifications of both in full 
so we give just an abbreviated form of the real package in which the 
specifications of the usual operators are omitted thus<A NAME="I1360"></A><A NAME="I1361"></A><A NAME="I1362"></A> 
</div>
<div class="SwissExamples"><B>generic</B><BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Real<B>&nbsp;is&nbsp;digits</B>&nbsp;&lt;&gt;;<BR>
<B>package</B>&nbsp;Ada.Numerics.Generic_Real_Arrays&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>pragma</B>&nbsp;Pure(Generic_Real_Arrays);</div>
<div class="SwissExamples">&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Types</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Real_Vector&nbsp;<B>is&nbsp;array</B>&nbsp;(Integer&nbsp;<B>range</B>&nbsp;&lt;&gt;)&nbsp;<B>of</B>&nbsp;Real'Base;<BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Real_Matrix&nbsp;<B>is&nbsp;array</B>&nbsp;(Integer&nbsp;<B>range</B>&nbsp;&lt;&gt;,&nbsp;Integer&nbsp;<B>range</B>&nbsp;&lt;&gt;)&nbsp;<B>of</B>&nbsp;Real'Base;</div>
<div class="SwissExamples">&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Real_Vector&nbsp;arithmetic&nbsp;operations</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;...&nbsp;--&nbsp;<SPAN Class="roman"><I>unary&nbsp;and&nbsp;binary&nbsp;&quot;+&quot;&nbsp;and&nbsp;&quot;&ndash;&quot;&nbsp;giving&nbsp;a&nbsp;vector</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;...&nbsp;--&nbsp;<SPAN Class="roman"><I>also&nbsp;inner&nbsp;product&nbsp;and&nbsp;two&nbsp;versions&nbsp;of&nbsp;&quot;abs&quot;&nbsp;&ndash;&nbsp;one&nbsp;returns&nbsp;a&nbsp;vector&nbsp;and&nbsp;the</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;...&nbsp;--&nbsp;<SPAN Class="roman"><I>other&nbsp;a&nbsp;value&nbsp;of&nbsp;Real'Base</I></SPAN></div>
<div class="SwissExamples">&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Real_Vector&nbsp;scaling&nbsp;operations</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;...&nbsp;--&nbsp;<SPAN Class="roman"><I>operations&nbsp;&quot;*&quot;&nbsp;and&nbsp;&quot;/&quot;&nbsp;to&nbsp;multiply&nbsp;a&nbsp;vector&nbsp;by&nbsp;a&nbsp;scalar&nbsp;and&nbsp;divide&nbsp;a&nbsp;vector&nbsp;by&nbsp;a&nbsp;scalar</I></SPAN></div>
<div class="SwissExamples">&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Other&nbsp;Real_Vector&nbsp;operations</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;Unit_Vector(Index:&nbsp;Integer;&nbsp;Order:&nbsp;Positive;&nbsp;First:&nbsp;Integer&nbsp;:=&nbsp;1)&nbsp;<B>return</B>&nbsp;Real_Vector;</div>
<div class="SwissExamples">&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Real_Matrix&nbsp;arithmetic&nbsp;operations</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;...&nbsp;--&nbsp;<SPAN Class="roman"><I>unary&nbsp;&quot;+&quot;,&nbsp;&quot;&ndash;&quot;,&nbsp;&quot;abs&quot;,&nbsp;binary&nbsp;&quot;+&quot;,&nbsp;&quot;&ndash;&quot;&nbsp;giving&nbsp;a&nbsp;matrix</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;...&nbsp;--&nbsp;<SPAN Class="roman"><I>&quot;*&quot;&nbsp;on&nbsp;two&nbsp;matrices&nbsp;giving&nbsp;a&nbsp;matrix,&nbsp;on&nbsp;a&nbsp;vector&nbsp;and&nbsp;a&nbsp;matrix&nbsp;giving&nbsp;a&nbsp;vector,</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;...&nbsp;--&nbsp;<SPAN Class="roman"><I>outer&nbsp;product&nbsp;of&nbsp;two&nbsp;vectors&nbsp;giving&nbsp;a&nbsp;matrix,&nbsp;and&nbsp;of&nbsp;course</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;Transpose(X:&nbsp;Real_Matrix)&nbsp;<B>return</B>&nbsp;Real_Matrix;</div>
<div class="SwissExamples">&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Real_Matrix&nbsp;scaling&nbsp;operations</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;...&nbsp;--&nbsp;<SPAN Class="roman"><I>operations&nbsp;&quot;*&quot;&nbsp;and&nbsp;&quot;/&quot;&nbsp;to&nbsp;multiply&nbsp;a&nbsp;matrix&nbsp;by&nbsp;a&nbsp;scalar&nbsp;and&nbsp;divide&nbsp;a&nbsp;matrix&nbsp;by&nbsp;a&nbsp;scalar</I></SPAN></div>
<div class="SwissExamples">&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Real_Matrix&nbsp;inversion&nbsp;and&nbsp;related&nbsp;operations</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;Solve(A:&nbsp;Real_Matrix;&nbsp;X:&nbsp;Real_Vector)&nbsp;<B>return</B>&nbsp;Real_Vector;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;Solve(A,&nbsp;X:&nbsp;Real_Matrix)&nbsp;<B>return</B>&nbsp;Real_Matrix;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;Inverse(A:&nbsp;Real_Matrix)&nbsp;<B>return</B>&nbsp;Real_Matrix;<BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;Determinant(A:&nbsp;Real_Matrix)&nbsp;<B>return</B>&nbsp;Real'Base;</div>
<div class="SwissExamples">&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Eigenvalues&nbsp;and&nbsp;vectors&nbsp;of&nbsp;a&nbsp;real&nbsp;symmetric&nbsp;matrix</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;Eigenvalues(A:&nbsp;Real_Matrix)&nbsp;<B>return</B>&nbsp;Real_Vector;<BR>
&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;Eigensystem(<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A:&nbsp;<B>in</B>&nbsp;Real_Matrix;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Values:&nbsp;<B>out</B>&nbsp;Real_Vector;&nbsp;Vectors:&nbsp;<B>out</B>&nbsp;Real_Matrix);</div>
<div class="SwissExamples">&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Other&nbsp;Real_Matrix&nbsp;operations</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;Unit_Matrix(Order:&nbsp;Positive;&nbsp;First_1,&nbsp;First_2:&nbsp;Integer&nbsp;:=&nbsp;1)&nbsp;<B>return</B>&nbsp;Real_Matrix;</div>
<div class="SwissExamples"><B>end</B>&nbsp;Ada.Numerics.Generic_Real_Arrays;</div>
<div class="Normal">Many of these operations are quite self-evident. 
The general idea as far as the usual arithmetic operations are concerned 
is that we just write an expression in the normal way as illustrated 
in the Introduction. But the following points should be noted.</div>
<div class="Normal" style="margin-bottom: 0.4em">There are two operations 
<SPAN Class="swiss">&quot;</SPAN><B>abs</B><SPAN Class="swiss">&quot;</SPAN> 
applying to a <SPAN Class="swiss">Real_Vector</SPAN> thus&nbsp;</div>
<div class="SwissExamples"><B>function</B>&nbsp;&quot;<B>abs</B>&quot;(Right:&nbsp;Real_Vector)&nbsp;<B>return</B>&nbsp;Real_Vector;<BR>
<B>function</B>&nbsp;&quot;<B>abs</B>&quot;(Right:&nbsp;Real_Vector)&nbsp;<B>return</B>&nbsp;Real'Base;</div>
<div class="Normal">One returns a vector each of whose elements is the 
absolute value of the corresponding element of the parameter (rather 
boring) and the other returns a scalar which is the so-called L2-norm 
of the vector. This is the square root of the inner product of the vector 
with itself or &#8730;(&#931;<I>x</I><SUB><SPAN STYLE="font-size: 140%"><SPAN STYLE="font-size: 64%"><I>i</I></SPAN></SPAN></SUB><I>x</I><SUB><SPAN STYLE="font-size: 140%"><SPAN STYLE="font-size: 64%"><I>i</I></SPAN></SPAN></SUB>) 
&ndash; or just &#8730;(<I>x</I><SUB><SPAN STYLE="font-size: 140%"><SPAN STYLE="font-size: 64%"><I>i</I></SPAN></SPAN></SUB><I>x</I><SUB><SPAN STYLE="font-size: 140%"><SPAN STYLE="font-size: 64%"><I>i</I></SPAN></SPAN></SUB>) 
using the summation convention (which will be familiar to those who dabble 
in the relative world of tensors). This is provided as a distinct operation 
in order to avoid any intermediate overflow that might occur if the user 
were to compute it directly using the inner product &quot;*&quot;.</div>
<div class="Normal" style="margin-bottom: 0.4em">There are two functions 
<SPAN Class="swiss">Solve</SPAN> for solving one and several sets of 
linear equations respectively.<A NAME="I1363"></A> Thus if we have the 
single set of <I>n</I> equations&nbsp;</div>
<div class="SwissExamples"><B></B><I><B>Ax</B></I><B></B>&nbsp;=&nbsp;<B></B><I><B>y</B></I><B></B></div>
<div class="Normal" style="margin-bottom: 0.4em">then we might write 
</div>
<div class="SwissExamples">X,&nbsp;Y:&nbsp;Real_Vector(1&nbsp;..&nbsp;N);<BR>
A:&nbsp;Real_Matrix(1&nbsp;..&nbsp;N,&nbsp;1&nbsp;..&nbsp;N);<BR>
...<BR>
Y&nbsp;:=&nbsp;Solve(A,&nbsp;X);</div>
<div class="Normal" style="margin-bottom: 0.4em">and if we have <I>m</I> 
sets of <I>n</I> equations we might write&nbsp;</div>
<div class="SwissExamples">XX,&nbsp;YY:&nbsp;Real_Matrix(1&nbsp;..&nbsp;N,&nbsp;1&nbsp;..&nbsp;M)<BR>
A:&nbsp;Real_Matrix(1&nbsp;..&nbsp;N,&nbsp;1&nbsp;..&nbsp;N);<BR>
...<BR>
YY&nbsp;:=&nbsp;Solve(A,&nbsp;XX);</div>
<div class="Normal" style="margin-bottom: 0.4em"><A NAME="I1364"></A><A NAME="I1365"></A>The 
functions <SPAN Class="swiss">Inverse</SPAN> and <SPAN Class="swiss">Determinant</SPAN> 
are provided for completeness although they should be used with care. 
Remember that it is foolish to solve a set of equations by writing&nbsp;</div>
<div class="SwissExamples">Y&nbsp;:=&nbsp;Inverse(A)*X;</div>
<div class="Normal">because it is both slow and prone to errors. The 
main problem with <SPAN Class="swiss">Determinant</SPAN> is that it is 
liable to overflow or underflow even for moderate sized matrices. Thus 
if the elements are of the order of a thousand and the matrix has order 
10, then the magnitude of the determinant will be of the order of 10<SUP><SPAN STYLE="font-size: 140%"><SPAN STYLE="font-size: 64%">30</SPAN></SPAN></SUP>. 
The user may therefore have to scale the data.</div>
<div class="Normal"><A NAME="I1366"></A><A NAME="I1367"></A>Two subprograms 
are provided for determining the eigenvalues and eigenvectors of a symmetric 
matrix. These are commonly required in many calculations in domains such 
as elasticity, moments of inertia, confidence regions and so on. The 
function <SPAN Class="swiss">Eigenvalues</SPAN> returns the eigenvalues 
(which will be non-negative) as a vector with them in decreasing order. 
The procedure <SPAN Class="swiss">Eigensystem</SPAN> computes both eigenvalues 
and vectors; the parameter <SPAN Class="swiss">Values</SPAN> is the same 
as that obtained by calling the function <SPAN Class="swiss">Eigenvalues</SPAN> 
and the parameter <SPAN Class="swiss">Vectors</SPAN> is a matrix whose 
columns are the corresponding eigenvectors in the same order. The eigenvectors 
are mutually orthonormal (that is, of unit length and mutually orthogonal) 
even when there are repeated eigenvalues. These subprograms apply only 
to symmetric matrices and if the matrix is not symmetric then <SPAN Class="swiss">Argument_Error</SPAN> 
is raised.</div>
<div class="Normal">Other errors such as the mismatch of array bounds 
raise <SPAN Class="swiss">Constraint_Error</SPAN> by analogy with built-in 
array operations.</div>
<div class="Normal" style="margin-bottom: 0.4em">The reader will observe 
that the facilities provided here are rather humble and presented in 
a simple black-box style. It is important to appreciate that we do not 
see the Ada predefined numerics library as being in any way in competition 
with or as a substitute for professional libraries such as the renowned 
BLAS (Basic Linear Algebra Subprograms, see www.netlib.org/blas). Indeed 
our overall goal is twofold</div>
<div class="Bulleted">to provide commonly required simple facilities 
for the user who is not a numerical professional,</div>
<div class="Bulleted">to provide a baseline of types and operations that 
forms a firm foundation for binding to more general facilities such as 
the BLAS.&nbsp;</div>
<div class="Normal">We do not expect users to apply the operations in 
our Ada packages to the huge matrices that arise in areas such as partial 
differential equations. Such matrices are often of a special nature such 
as banded and need the facilities of a comprehensive numerical library. 
We have instead striven to provide easy to use facilities for the programmer 
who has a small number of equations to solve such as might arise in navigational 
applications.</div>
<div class="Normal">Simplicity is evident in that functions such as <SPAN Class="swiss">Solve</SPAN> 
do not reveal the almost inevitable underlying LU decomposition or provide 
parameters controlling for example whether additional iterations should 
be applied. However, implementations are advised to apply an additional 
iteration and should document whether they do or not.</div>
<div class="Normal">Considerations of simplicity also led to the decision 
not to provide automatic scaling for the determinant or to provide functions 
for just the largest eigenvalue and so on.</div>
<div class="Normal">Similarly we only provide for the eigensystems of 
symmetric real matrices. These are the ones that commonly arise and are 
well behaved. General nonsymmetric matrices can be troublesome.</div>
<div class="Normal">Appropriate accuracy requirements are specified for 
the inner product and L2-norm operations. Accuracy requirements for <SPAN Class="swiss">Solve</SPAN>, 
<SPAN Class="swiss">Inverse</SPAN>, <SPAN Class="swiss">Determinant</SPAN>, 
<SPAN Class="swiss">Eigenvalues</SPAN> and <SPAN Class="swiss">Eigenvectors</SPAN> 
are implementation defined which means that the implementation must document 
them.</div>
<div class="Normal" style="margin-bottom: 0.4em">The complex package 
is very similar and will not be described in detail. However, the generic 
formal parameters are interesting. They are&nbsp;</div>
<div class="SwissExamples"><B>with</B>&nbsp;Ada.Numerics.Generic_Real_Arrays,&nbsp;Ada.Numerics.Generic_Complex_Types;<BR>
<B>generic</B><BR>
&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;<B>package</B>&nbsp;Real_Arrays&nbsp;<B>is</B>&nbsp;<B>new</B>&nbsp;Ada.Numerics.Generic_Real_Arrays(&lt;&gt;);<BR>
&nbsp;&nbsp;&nbsp;<B>use</B>&nbsp;Real_Arrays;<BR>
&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;<B>package</B>&nbsp;Complex_Types&nbsp;<B>is</B>&nbsp;<B>new</B>&nbsp;Ada.Numerics.Generic_Complex_Types(Real);<BR>
&nbsp;&nbsp;&nbsp;<B>use</B>&nbsp;Complex_Types;<BR>
<B>package</B>&nbsp;Ada.Numerics.Generic_Complex_Arrays&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;...</div>
<div class="Normal"><A NAME="I1368"></A><A NAME="I1369"></A><A NAME="I1370"></A>Thus 
we see that it has two formal packages which are the corresponding real 
array package and the existing Ada 95 complex types and operations package. 
The formal parameter of the first is <SPAN Class="swiss">&lt;&gt;</SPAN> 
and that of the second is <SPAN Class="swiss">Real</SPAN> which is exported 
from the first package and ensures that both are instantiated with the 
same floating point type.</div>
<div class="Normal">As well as the obvious array and matrix operations, 
the complex package also has operations for composing complex arrays 
from cartesian and polar real arrays, and computing the conjugate array 
by analogy with scalar operations in the complex types package. There 
are also mixed real and complex array operations but not mixed imaginary, 
real and complex array operations. Altogether the complex array package 
declares some 80 subprograms (there are around 30 in the real array package) 
and adding imaginary array operations would have made the package unwieldy 
(and the reference manual too heavy).</div>
<div class="Normal">By analogy with real symmetric matrices, the complex 
package has subprograms for determining the eigensystems of Hermitian 
matrices. A Hermitian matrix is one whose complex conjugate equals its 
transpose; such matrices have real eigenvalues and are well behaved.<A NAME="I1371"></A> 
<A NAME="I1372"></A><A NAME="I1373"></A></div>
<div class="Normal">We conclude this discussion of the Numerics annex 
by mentioning one minute change regarding complex input&ndash;output. 
Ada 2005 includes preinstantiated forms of <SPAN Class="swiss">Ada.Text_IO.Complex_IO</SPAN> 
such as <SPAN Class="swiss">Ada.Complex_Text_IO</SPAN> (for when the 
underlying real type is the type <SPAN Class="swiss">Float</SPAN>), <SPAN Class="swiss">Ada.Long_Complex_Text_IO</SPAN> 
(for type <SPAN Class="swiss">Long_Float</SPAN>) and so on. These are 
by analogy with <SPAN Class="swiss">Float_Text_IO</SPAN>, <SPAN Class="swiss">Long_Float_Text_IO</SPAN> 
and their omission from Ada 95 was probably an oversight.</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="Rat-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-0-3.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-0-2.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-7-5.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="Rat-7-7.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Class="Normal">&copy; 2005, 2006, 2007 John Barnes Informatics.</DIV>
<DIV Class="Normal">Sponsored in part by:</DIV>
<TABLE Summary="Sponsors" Width="710">
<TR><TD VAlign="Top" Width="490">
<SPAN Style="font-family: Arial, Helvetica, sans-serif; font-size: 92%">The <A HREF="http://www.adaic.org/community/">Ada Resource Association</A> and its member companies:</SPAN>
<img src="http://www.adaic.org/resources/images/sponsors/ARA-members-5.gif" alt="ARA Members" usemap="#member-map" border=1>
<map name="member-map">
  <AREA href="http://www.adacore.com/" alt="AdaCore"
          shape="rect"          coords="0,0,222,66">
  <AREA href="http://www.polyspace.com/" alt="Polyspace Technologies"
          shape="rect"          coords="0,66,155,179">
	<AREA href="http://www.sparkada.com/" alt="Praxis Critical Systems"
	         shape="rect"         coords="156,66,295,179">
	<AREA href="http://www-306.ibm.com/software/awdtools/developer/ada/" alt="IBM Rational"
	         shape="rect"         coords="222,0,480,66">
	<AREA href="http://www.sofcheck.com/" alt="Sofcheck"
	         shape="rect"         coords="296,66,480,130">
</map>
<TD Width="220" Align="Center" VAlign="Top">
<SPAN Style="font-family: Arial, Helvetica, sans-serif; font-size: 92%">and &nbsp; <A HREF="http://www.ada-europe.org">Ada-Europe</A>:<BR>
<A HREF="http://www.ada-europe.org"><IMG SRC="AE_logo.gif" ALT="Ada-Europe" Height="200" Border="0"></A></SPAN>
</TABLE>
</BODY>
</HTML>
