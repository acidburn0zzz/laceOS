<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<TITLE>Ada 83 LRM, Sec 10.5: Elaboration of Library Units</TITLE>
</HEAD><BODY>
<hr><a href="ada_lrm.html"><IMG SRC="adass.gif" align=LEFT hspace=6 vspace=6 alt="Lady Ada"></a><H1>Ada '83 Language Reference Manual</H1>
<h6><a href="ada_legal.html">Copyright</a> 1980, 1982, 1983 owned by the United States Government. Direct reproduction and usage requests to the <a href="mailto://adainfo@sw-eng.falls-church.va.us">Ada Information Clearinghouse</a>.</h6>
<br clear=LEFT>
<hr>

<H2><A NAME="10.5">10.5</A>.  Elaboration of Library Units  </H2>
<A HREF="lrm-10-04.html#10.4"><img src="lrm-prev.gif" alt="[PREVIOUS]"></A><A HREF="lrm-10.html#10"><img src="lrm-up.gif" alt="[UP]"></A><A HREF="lrm-10-06.html#10.6"><img src="lrm-next.gif" alt="[NEXT]"></A>
<P>
Before  the  execution  of  a main program, all library units needed by the
main program are elaborated, as well  as  the  corresponding  library  unit
bodies,  if  any.  The library units needed by the main program are:  those
named by with clauses applicable to the main program, to its body,  and  to
its  subunits;   those  named  by  with clauses applicable to these library
units themselves, to the corresponding library unit bodies,  and  to  their
subunits;  and so on, in a transitive manner. 
<P>
The  elaboration  of  these  library units and of the corresponding library
unit bodies is performed in an order consistent with the  partial  ordering
defined  by  the  with  clauses  (see  <a href="lrm-10-03.html#10.3">10.3</a>).   In addition, a library unit
mentioned by the context clause of a subunit must be elaborated before  the
body of the ancestor library unit of the subunit. 
<P>
An  order of elaboration that is consistent with this partial ordering does
not always ensure that each library unit  body  is  elaborated  before  any
other compilation unit whose elaboration necessitates that the library unit
body  be  already  elaborated.   If  the  prior elaboration of library unit  
bodies is needed, this can be requested by a pragma ELABORATE.  The form of
this pragma is as follows: 
<pre>
    pragma ELABORATE (library_unit_simple_name {, library_unit_simple_name});          
</pre>
<P>
These pragmas are only allowed immediately after the context  clause  of  a
compilation  unit  (before  the subsequent library unit or secondary unit).  
Each argument of such a pragma must be the simple name of  a  library  unit
mentioned  by the context clause, and this library unit must have a library
unit body.  Such a pragma specifies that the  library  unit  body  must  be
elaborated  before  the  given  compilation unit.  If the given compilation
unit is a subunit, the library unit body must be elaborated before the body
of the ancestor library unit of the subunit.                                            
<P>
The program is illegal if no consistent order can be found (that is,  if  a
circularity  exists).   The  elaboration  of  the  compilation units of the
program is performed in some order that is otherwise  not  defined  by  the
language. 
<P>
<b>References:</b>   <A HREF="lrm-01-06.html#1.6">allow</A>,
<A HREF="lrm-02-08.html#2.8">argument of a pragma</A>,
<A HREF="lrm-10-01.html#10.1">compilation unit</A>,
<A HREF="lrm-10-01.html#10.1.1">context  clause</A>,
<A HREF="lrm-10-03.html#10.3">dependence  between   compilation   units</A>,
<A HREF="lrm-03-09.html#3.9">elaboration</A>,
<A HREF="lrm-01-06.html#1.6">illegal</A>,
<A HREF="lrm-01-06.html#1.6">in some order</A>,
<A HREF="lrm-10-01.html#10.1">library unit</A>,
<A HREF="lrm-04-01.html#4.1">name</A>,
<A HREF="lrm-10-01.html#10.1">main  program</A>,
<A HREF="lrm-02-08.html#2.8">pragma</A>,
<A HREF="lrm-10-01.html#10.1">secondary  unit</A>,
<A HREF="lrm-10-01.html#10.1">separate compilation</A>,
<A HREF="lrm-04-01.html#4.1">simple name</A>,
<A HREF="lrm-10-02.html#10.2">subunit</A>,
<A HREF="lrm-10-01.html#10.1.1">with clause</A>.
<P>

<b>Style Guide references:</b> 
	<A HREF="http://archive.adaic.com/docs/style-guide/83style/html/sty-08-04.html#8.4.2">8.4.2&nbsp;Coupling Due to Pragmas</a>
<p>

<A HREF="lrm-IDX.html"><img src="lrm-idx.gif" alt="[INDEX]"></A><A HREF="lrm-TOC.html"><img src="lrm-toc.gif" alt="[CONTENTS]"></A>

<hr>
<address><a href="http://sw-eng.falls-church.va.us/AdaIC/"><IMG SRC="small_adaic_logo.gif" ALT="[Ada Information Clearinghouse]"></a><p>
Address any questions or comments to
<A HREF="mailto://adainfo@sw-eng.falls-church.va.us">adainfo@sw-eng.falls-church.va.us</A>.</address>
</BODY></HTML>
