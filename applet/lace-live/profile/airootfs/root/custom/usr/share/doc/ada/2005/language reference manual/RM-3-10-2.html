<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Operations of Access Types</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Wide {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.NestedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.IndentedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 9.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.IndentedNestedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left:  11.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Hanging-Body {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 7.2em; margin-top: 0em; margin-bottom: 0.6em}
    DIV.Hanging-Term {float: left; font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0em; margin-bottom: 0em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B></SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-10-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-11.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>3.10.2 Operations of Access Types</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal">The attribute Access is used to create access values 
designating aliased objects and non-intrinsic subprograms. The &ldquo;accessibility&rdquo; 
rules prevent dangling references (in the absence of uses of certain 
unchecked features &mdash; see Section 13).&nbsp;</DIV>

<H4 Class="centered">Name Resolution Rules</H4>
<DIV Class="paranum">2/2</DIV>
<DIV Class="Normal"><A NAME="I2206"></A>For an <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0100">attribute_reference</A></SPAN> 
with <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0101">attribute_designator</A></SPAN> 
Access (or Unchecked_Access &mdash; see <A HREF="RM-13-10.html">13.10</A>), 
the expected type shall be a single access type <I>A</I> such that:&nbsp;</DIV>
<DIV Class="paranum">2.1/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><I>A</I> is an access-to-object type 
with designated type <I>D</I> and the type of the <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
is <I>D</I>'Class or is covered by <I>D</I>, or</LI></UL>
<DIV Class="paranum">2.2/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><I>A</I> is an access-to-subprogram 
type whose designated profile is type conformant with that of the prefix. 
</LI></UL>
<DIV Class="paranum">2.3/2</DIV>
<DIV Class="Normal">&nbsp;&nbsp;The <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
of such an <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0100">attribute_reference</A></SPAN> 
is never interpreted as an <SPAN Class="swiss"><A HREF="RM-4-1.html#S0095">implicit_dereference</A></SPAN> 
or a parameterless <SPAN Class="swiss"><A HREF="RM-6-4.html#S0164">function_call</A></SPAN> 
(see <A HREF="RM-4-1-4.html">4.1.4</A>). <A NAME="I2207"></A><A NAME="I2208"></A>The 
designated type or profile of the expected type of the <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0100">attribute_reference</A></SPAN> 
is the expected type or profile for the <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN>. 
</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">3/2</DIV>
<DIV Class="Normal"><A NAME="I2209"></A><A NAME="I2210"></A><A NAME="I2211"></A><A NAME="I2212"></A><A NAME="I2213"></A><A NAME="I2214"></A>The 
accessibility rules, which prevent dangling references, are written in 
terms of <I>accessibility levels</I>, which reflect the run-time nesting 
of <I>masters</I>. As explained in <A HREF="RM-7-6-1.html">7.6.1</A>, 
a master is the execution of a certain construct, such as a <SPAN Class="swiss"><A HREF="RM-6-3.html#S0162">subprogram_body</A></SPAN>. 
An accessibility level is <I>deeper than</I> another if it is more deeply 
nested at run time. For example, an object declared local to a called 
subprogram has a deeper accessibility level than an object declared local 
to the calling subprogram. The accessibility rules for access types require 
that the accessibility level of an object designated by an access value 
be no deeper than that of the access type. This ensures that the object 
will live at least as long as the access type, which in turn ensures 
that the access value cannot later designate an object that no longer 
exists. The Unchecked_Access attribute may be used to circumvent the 
accessibility rules.</DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="Normal"><A NAME="I2215"></A><A NAME="I2216"></A>A given accessibility 
level is said to be <I>statically deeper</I> than another if the given 
level is known at compile time (as defined below) to be deeper than the 
other for all possible executions. In most cases, accessibility is enforced 
at compile time by Legality Rules. Run-time accessibility checks are 
also used, since the Legality Rules do not cover certain cases involving 
access parameters and generic packages.</DIV>
<DIV Class="paranum">5</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">Each master, and each 
entity and view created by it, has an accessibility level:&nbsp;</DIV>
<DIV Class="paranum">6</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The accessibility level of a given 
master is deeper than that of each dynamically enclosing master, and 
deeper than that of each master upon which the task executing the given 
master directly depends (see <A HREF="RM-9-3.html">9.3</A>).</LI></UL>
<DIV Class="paranum">7/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>An entity or view defined by a declaration 
and created as part of its elaboration has the same accessibility level 
as the innermost master of the declaration except in the cases of renaming 
and derived access types described below. A parameter of a master has 
the same accessibility level as the master.</LI></UL>
<DIV Class="paranum">8</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The accessibility level of a view 
of an object or subprogram defined by a <SPAN Class="swiss"><A HREF="RM-8-5.html#S0182">renaming_declaration</A></SPAN> 
is the same as that of the renamed view.</LI></UL>
<DIV Class="paranum">9/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The accessibility level of a view 
conversion, <SPAN Class="swiss"><A HREF="RM-4-7.html#S0128">qualified_expression</A></SPAN>, 
or parenthesized expression, is the same as that of the operand.</LI></UL>
<DIV Class="paranum">10/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The accessibility level of an <SPAN Class="swiss"><A HREF="RM-4-3.html#S0104">aggregate</A></SPAN> 
or the result of a function call (or equivalent use of an operator) that 
is used (in its entirety) to directly initialize part of an object is 
that of the object being initialized. In other contexts, the accessibility 
level of an <SPAN Class="swiss"><A HREF="RM-4-3.html#S0104">aggregate</A></SPAN> 
or the result of a function call is that of the innermost master that 
evaluates the <SPAN Class="swiss"><A HREF="RM-4-3.html#S0104">aggregate</A></SPAN> 
or function call.&nbsp;</LI></UL>
<DIV Class="paranum">10.1/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>Within a return statement, the accessibility 
level of the return object is that of the execution of the return statement. 
If the return statement completes normally by returning from the function, 
then prior to leaving the function, the accessibility level of the return 
object changes to be a level determined by the point of call, as does 
the level of any coextensions (see below) of the return object.</LI></UL>
<DIV Class="paranum">11</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The accessibility level of a derived 
access type is the same as that of its ultimate ancestor.</LI></UL>
<DIV Class="paranum">11.1/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The accessibility level of the anonymous 
access type defined by an <SPAN Class="swiss"><A HREF="RM-3-10.html#S0084">access_definition</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="RM-8-5-1.html#S0183">object_renaming_declaration</A></SPAN> 
is the same as that of the renamed view.</LI></UL>
<DIV Class="paranum">12/2</DIV>
<UL Class="Bulleted" Style="margin-bottom: 0.3em"><LI TYPE=DISC>The 
accessibility level of the anonymous access type of an access discriminant 
in the <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0027">subtype_indication</A></SPAN> 
or <SPAN Class="swiss"><A HREF="RM-4-7.html#S0128">qualified_expression</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0129">allocator</A></SPAN>, 
or in the <SPAN Class="swiss"><A HREF="RM-4-4.html#S0115">expression</A></SPAN> 
or <SPAN Class="swiss"><A HREF="RM-6-5.html#S0171">return_subtype_indication</A></SPAN> 
of a return statement is determined as follows:</LI></UL>
<DIV Class="paranum">12.1/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>If the value of the access discriminant 
is determined by a <SPAN Class="swiss"><A HREF="RM-3-7-1.html#S0065">discriminant_association</A></SPAN> 
in a <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0027">subtype_indication</A></SPAN>, 
the accessibility level of the object or subprogram designated by the 
associated value (or library level if the value is null);&nbsp;</LI></UL>
<DIV Class="paranum">12.2/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>If the value of the access discriminant 
is determined by a <SPAN Class="swiss"><A HREF="RM-4-3-1.html#S0107">record_component_association</A></SPAN> 
in an <SPAN Class="swiss"><A HREF="RM-4-3.html#S0104">aggregate</A></SPAN>, 
the accessibility level of the object or subprogram designated by the 
associated value (or library level if the value is null);</LI></UL>
<DIV Class="paranum">12.3/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>In other cases, where the value 
of the access discriminant is determined by an object with an unconstrained 
nominal subtype, the accessibility level of the object.</LI></UL>
<DIV Class="paranum">12.4/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The accessibility level of the anonymous 
access type of an access discriminant in any other context is that of 
the enclosing object.</LI></UL>
<DIV Class="paranum">13/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The accessibility level of the anonymous 
access type of an access parameter specifying an access-to-object type 
is the same as that of the view designated by the actual.</LI></UL>
<DIV Class="paranum">13.1/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The accessibility level of the anonymous 
access type of an access parameter specifying an access-to-subprogram 
type is deeper than that of any master; all such anonymous access types 
have this same level.&nbsp;</LI></UL>
<DIV Class="paranum">14/2</DIV>
<UL Class="Bulleted" Style="margin-bottom: 0.3em"><LI TYPE=DISC>The 
accessibility level of an object created by an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0129">allocator</A></SPAN> 
is the same as that of the access type, except for an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0129">allocator</A></SPAN> 
of an anonymous access type that defines the value of an access parameter 
or an access discriminant. For an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0129">allocator</A></SPAN> 
defining the value of an access parameter, the accessibility level is 
that of the innermost master of the call. For one defining an access 
discriminant, the accessibility level is determined as follows:</LI></UL>
<DIV Class="paranum">14.1/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>for an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0129">allocator</A></SPAN> 
used to define the constraint in a <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0026">subtype_declaration</A></SPAN>, 
the level of the <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0026">subtype_declaration</A></SPAN>;</LI></UL>
<DIV Class="paranum">14.2/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>for an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0129">allocator</A></SPAN> 
used to define the constraint in a <SPAN Class="swiss"><A HREF="RM-3-6.html#S0056">component_definition</A></SPAN>, 
the level of the enclosing type;</LI></UL>
<DIV Class="paranum">14.3/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>for an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0129">allocator</A></SPAN> 
used to define the discriminant of an object, the level of the object.</LI></UL>
<DIV Class="paranum">14.4/2</DIV>
<UL Class="Bulleted"><A NAME="I2217"></A>In this last case, the allocated 
object is said to be a <I>coextension</I> of the object whose discriminant 
designates it, as well as of any object of which the discriminated object 
is itself a coextension or subcomponent. All coextensions of an object 
are finalized when the object is finalized (see <A HREF="RM-7-6-1.html">7.6.1</A>).</UL>
<DIV Class="paranum">15</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The accessibility level of a view 
of an object or subprogram denoted by a dereference of an access value 
is the same as that of the access type.</LI></UL>
<DIV Class="paranum">16</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The accessibility level of a component, 
protected subprogram, or entry of (a view of) a composite object is the 
same as that of (the view of) the composite object.&nbsp;</LI></UL>
<DIV Class="paranum">16.1/2</DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;In the above rules, the operand of a view conversion, 
parenthesized expression or <SPAN Class="swiss"><A HREF="RM-4-7.html#S0128">qualified_expression</A></SPAN> 
is considered to be used in a context if the view conversion, parenthesized 
expression or <SPAN Class="swiss"><A HREF="RM-4-7.html#S0128">qualified_expression</A></SPAN> 
itself is used in that context.</DIV>
<DIV Class="paranum">17</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em"><A NAME="I2218"></A><A NAME="I2219"></A>One 
accessibility level is defined to be <I>statically deeper</I> than another 
in the following cases:&nbsp;</DIV>
<DIV Class="paranum">18</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For a master that is statically nested 
within another master, the accessibility level of the inner master is 
statically deeper than that of the outer master.&nbsp;</LI></UL>
<DIV Class="paranum">18.1/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The accessibility level of the anonymous 
access type of an access parameter specifying an access-to-subprogram 
type is statically deeper than that of any master; all such anonymous 
access types have this same level.&nbsp;</LI></UL>
<DIV Class="paranum">19/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The statically deeper relationship 
does not apply to the accessibility level of the anonymous type of an 
access parameter specifying an access-to-object type; that is, such an 
accessibility level is not considered to be statically deeper, nor statically 
shallower, than any other.</LI></UL>
<DIV Class="paranum">20</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For determining whether one level 
is statically deeper than another when within a generic package body, 
the generic package is presumed to be instantiated at the same level 
as where it was declared; run-time checks are needed in the case of more 
deeply nested instantiations.</LI></UL>
<DIV Class="paranum">21</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For determining whether one level 
is statically deeper than another when within the declarative region 
of a <SPAN Class="swiss"><A HREF="RM-3-2-1.html#S0023">type_declaration</A></SPAN>, 
the current instance of the type is presumed to be an object created 
at a deeper level than that of the type.&nbsp;</LI></UL>
<DIV Class="paranum">22</DIV>
<DIV Class="Normal"><A NAME="I2220"></A><A NAME="I2221"></A>The accessibility 
level of all library units is called the <I>library level</I>; a library-level 
declaration or entity is one whose accessibility level is the library 
level.&nbsp;</DIV>
<DIV Class="paranum">23</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em">The following attribute 
is defined for a <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
X that denotes an aliased view of an object:&nbsp;</DIV>
<DIV Class="paranum">24/1</DIV>
<DIV Class="Hanging-Term">&nbsp;X'Access</DIV><DIV Class="Hanging-Body">
<A NAME="I2222"></A><A NAME="I2223"></A>X'Access yields an access value 
that designates the object denoted by X. The type of X'Access is an access-to-object 
type, as determined by the expected type. The expected type shall be 
a general access type. <A NAME="I2224"></A>X shall denote an aliased 
view of an object, including possibly the current instance (see <A HREF="RM-8-6.html">8.6</A>) 
of a limited type within its definition, or a formal parameter or generic 
formal object of a tagged type. The view denoted by the <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
X shall satisfy the following additional requirements, presuming the 
expected type for X'Access is the general access type <I>A</I> with designated 
type <I>D</I>:&nbsp;</DIV>
<DIV Class="paranum">25</DIV>
<UL Class="IndentedBulleted"><LI TYPE=DISC>If <I>A</I> is an access-to-variable 
type, then the view shall be a variable; on the other hand, if <I>A</I> 
is an access-to-constant type, the view may be either a constant or a 
variable.&nbsp;</LI></UL>
<DIV Class="paranum">26/2</DIV>
<UL Class="IndentedBulleted"><LI TYPE=DISC>The view shall not be a subcomponent 
that depends on discriminants of a variable whose nominal subtype is 
unconstrained, unless this subtype is indefinite, or the variable is 
constrained by its initial value.</LI></UL>
<DIV Class="paranum">27/2</DIV>
<UL Class="IndentedBulleted"><LI TYPE=DISC>If <I>A</I> is a named access 
type and <I>D</I> is a tagged type, then the type of the view shall be 
covered by <I>D</I>; if <I>A</I> is anonymous and <I>D</I> is tagged, 
then the type of the view shall be either <I>D</I>'Class or a type covered 
by <I>D</I>; if <I>D</I> is untagged, then the type of the view shall 
be <I>D</I>, and either:&nbsp;</LI></UL>
<DIV Class="paranum">27.1/2</DIV>
<UL Class="IndentedNestedBulleted"><LI TYPE=DISC>the designated subtype 
of <I>A</I> shall statically match the nominal subtype of the view; or<A NAME="I2225"></A></LI></UL>
<DIV Class="paranum">27.2/2</DIV>
<UL Class="IndentedNestedBulleted"><LI TYPE=DISC><I>D</I> shall be discriminated 
in its full view and unconstrained in any partial view, and the designated 
subtype of <I>A</I> shall be unconstrained.&nbsp;</LI></UL>
<DIV Class="paranum">28</DIV>
<UL Class="IndentedBulleted"><LI TYPE=DISC>The accessibility level of 
the view shall not be statically deeper than that of the access type 
<I>A</I>. In addition to the places where Legality Rules normally apply 
(see <A HREF="RM-12-3.html">12.3</A>), this rule applies also in the 
private part of an instance of a generic unit. <A NAME="I2226"></A><A NAME="I2227"></A></LI></UL>
<DIV Class="paranum">29</DIV>
<DIV Class="Hanging-Body"><A NAME="I2228"></A><A NAME="I2229"></A><A NAME="I2230"></A>A 
check is made that the accessibility level of X is not deeper than that 
of the access type <I>A</I>. If this check fails, Program_Error is raised. 
</DIV>
<DIV Class="paranum">30</DIV>
<DIV Class="Hanging-Body"><A NAME="I2231"></A>If the nominal subtype 
of X does not statically match the designated subtype of <I>A</I>, a 
view conversion of X to the designated subtype is evaluated (which might 
raise Constraint_Error &mdash; see <A HREF="RM-4-6.html">4.6</A>) and 
the value of X'Access designates that view.&nbsp;</DIV>
<DIV Class="paranum">31</DIV>
<DIV Class="Normal">The following attribute is defined for a <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
P that denotes a subprogram:&nbsp;</DIV>
<DIV Class="paranum">32/2</DIV>
<DIV Class="Hanging-Term">&nbsp;P'Access</DIV><DIV Class="Hanging-Body">
<A NAME="I2232"></A><A NAME="I2233"></A>P'Access yields an access value 
that designates the subprogram denoted by P. The type of P'Access is 
an access-to-subprogram type (<I>S</I>), as determined by the expected 
type. <A NAME="I2234"></A>The accessibility level of P shall not be statically 
deeper than that of <I>S</I>. <A NAME="I2235"></A>In addition to the 
places where Legality Rules normally apply (see <A HREF="RM-12-3.html">12.3</A>), 
this rule applies also in the private part of an instance of a generic 
unit. The profile of P shall be subtype-conformant with the designated 
profile of <I>S</I>, and shall not be Intrinsic. <A NAME="I2236"></A>If 
the subprogram denoted by P is declared within a generic unit, and the 
expression P'Access occurs within the body of that generic unit or within 
the body of a generic unit declared within the declarative region of 
the generic unit, then the ultimate ancestor of <I>S</I> shall be either 
a non-formal type declared within the generic unit or an anonymous access 
type of an access parameter.</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">33</DIV>
<DIV Class="Notes">84&nbsp;&nbsp;The Unchecked_Access attribute yields 
the same result as the Access attribute for objects, but has fewer restrictions 
(see <A HREF="RM-13-10.html">13.10</A>). There are other predefined operations 
that yield access values: an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0129">allocator</A></SPAN> 
can be used to create an object, and return an access value that designates 
it (see <A HREF="RM-4-8.html">4.8</A>); evaluating the literal <B>null</B> 
yields a null access value that designates no entity at all (see <A HREF="RM-4-2.html">4.2</A>).</DIV>
<DIV Class="paranum">34/2</DIV>
<DIV Class="Notes">85&nbsp;&nbsp;<A NAME="I2237"></A>The predefined operations 
of an access type also include the assignment operation, qualification, 
and membership tests. Explicit conversion is allowed between general 
access types with matching designated subtypes; explicit conversion is 
allowed between access-to-subprogram types with subtype conformant profiles 
(see <A HREF="RM-4-6.html">4.6</A>). <A NAME="I2238"></A>Named access 
types have predefined equality operators; anonymous access types do not, 
but they can use the predefined equality operators for <I>universal_access</I> 
(see <A HREF="RM-4-5-2.html">4.5.2</A>).&nbsp;</DIV>
<DIV Class="paranum">35</DIV>
<DIV Class="Notes">86&nbsp;&nbsp;The object or subprogram designated 
by an access value can be named with a dereference, either an <SPAN Class="swiss"><A HREF="RM-4-1.html#S0094">explicit_dereference</A></SPAN> 
or an <SPAN Class="swiss"><A HREF="RM-4-1.html#S0095">implicit_dereference</A></SPAN>. 
See <A HREF="RM-4-1.html">4.1</A>.</DIV>
<DIV Class="paranum">36</DIV>
<DIV Class="Notes">87&nbsp;&nbsp;A call through the dereference of an 
access-to-subprogram value is never a dispatching call.&nbsp;</DIV>
<DIV Class="paranum">37/2</DIV>
<DIV Class="Notes">88&nbsp;&nbsp;<A NAME="I2239"></A><A NAME="I2240"></A>The 
Access attribute for subprograms and parameters of an anonymous access-to-subprogram 
type may together be used to implement &ldquo;downward closures&rdquo; 
&mdash; that is, to pass a more-nested subprogram as a parameter to a 
less-nested subprogram, as might be appropriate for an iterator abstraction 
or numerical integration. Downward closures can also be implemented using 
generic formal subprograms (see <A HREF="RM-12-6.html">12.6</A>). Note 
that Unchecked_Access is not allowed for subprograms.</DIV>
<DIV Class="paranum">38</DIV>
<DIV Class="Notes">89&nbsp;&nbsp;Note that using an access-to-class-wide 
tagged type with a dispatching operation is a potentially more structured 
alternative to using an access-to-subprogram type.</DIV>
<DIV Class="paranum">39</DIV>
<DIV Class="Notes">90&nbsp;&nbsp;An implementation may consider two access-to-subprogram 
values to be unequal, even though they designate the same subprogram. 
This might be because one points directly to the subprogram, while the 
other points to a special prologue that performs an Elaboration_Check 
and then jumps to the subprogram. See <A HREF="RM-4-5-2.html">4.5.2</A>. 
</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">40</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><I>Example of use of 
the Access attribute:</I>&nbsp;</DIV>
<DIV Class="paranum">41</DIV>
<DIV Class="Examples">Martha&nbsp;:&nbsp;Person_Name&nbsp;:=&nbsp;<B>new</B>&nbsp;Person(F);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="RM-3-10-1.html">3.10.1</A></I></SPAN><BR>
Cars&nbsp;&nbsp;&nbsp;:&nbsp;<B>array</B>&nbsp;(1..2)&nbsp;<B>of</B>&nbsp;<B>aliased</B>&nbsp;Car;<BR>
&nbsp;&nbsp;&nbsp;...<BR>
Martha.Vehicle&nbsp;:=&nbsp;Cars(1)'Access;<BR>
George.Vehicle&nbsp;:=&nbsp;Cars(2)'Access;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-10-1.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-3-11.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
