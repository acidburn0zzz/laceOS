<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Fixed Point Types</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert1 {text-decoration: underline; color: rgb(0,51,51) }
    SPAN.delete1 {text-decoration: line-through; color: rgb(0,51,51) }
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    DIV.SmallExamples {font-family: "Courier New", monospace; font-size: 72%; line-height: 122%; margin-left: 9.6em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-5-8.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-5-10.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>3.5.9 Fixed Point Types</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>fixed point type</I>}</SPAN> 
<A NAME="I1902"></A><SPAN STYLE="font-size: 80%">{<I>ordinary fixed point 
type</I>}</SPAN> <A NAME="I1903"></A><SPAN STYLE="font-size: 80%">{<I>decimal 
fixed point type</I>}</SPAN> <A NAME="I1904"></A>A fixed point type is 
either an ordinary fixed point type, or a decimal fixed point type. <SPAN STYLE="font-size: 80%">{<I>delta 
(of a fixed point type)</I>}</SPAN> <A NAME="I1905"></A>The error bound 
of a fixed point type is specified as an absolute value, called the <I>delta</I> 
of the fixed point type.&nbsp;</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">fixed_point_definition</SPAN><A NAME="I1906"></A><A NAME="S0047"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><A NAME="I1907"></A><SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0048">ordinary_fixed_point_definition</A></SPAN>&nbsp;|&nbsp;<A NAME="I1908"></A><SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0049">decimal_fixed_point_definition</A></SPAN></DIV>
<DIV Class="paranum">3</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">ordinary_fixed_point_definition</SPAN><A NAME="I1909"></A><A NAME="S0048"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>delta</B>&nbsp;<I>static_</I><A NAME="I1910"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>&nbsp;&nbsp;<A NAME="I1911"></A><SPAN Class="swiss"><A HREF="AA-3-5-7.html#S0046">real_range_specification</A></SPAN></DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">decimal_fixed_point_definition</SPAN><A NAME="I1912"></A><A NAME="S0049"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>delta</B>&nbsp;<I>static_</I><A NAME="I1913"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>&nbsp;<B>digits</B>&nbsp;<I>static_</I><A NAME="I1914"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>&nbsp;[<A NAME="I1915"></A><SPAN Class="swiss"><A HREF="AA-3-5-7.html#S0046">real_range_specification</A></SPAN>]</DIV>
<DIV Class="paranum">5</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">digits_constraint</SPAN><A NAME="I1916"></A><A NAME="S0050"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>digits</B>&nbsp;<I>static_</I><A NAME="I1917"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>&nbsp;[<A NAME="I1918"></A><SPAN Class="swiss"><A HREF="AA-3-5.html#S0036">range_constraint</A></SPAN>]</DIV>

<H4 Class="centered">Name Resolution Rules</H4>
<DIV Class="paranum">6</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>expected type (fixed 
point type delta)</I> [partial]}</SPAN> <A NAME="I1919"></A>For a type 
defined by a <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0047">fixed_point_definition</A></SPAN>, 
the <I>delta</I> of the type is specified by the value of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
given after the reserved word <B>delta</B>; this <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is expected to be of any real type. <SPAN STYLE="font-size: 80%">{<I>expected 
type (decimal fixed point type digits)</I> [partial]}</SPAN> <A NAME="I1920"></A><SPAN STYLE="font-size: 80%">{<I>digits 
(of a decimal fixed point subtype)</I>}</SPAN> <A NAME="I1921"></A><SPAN STYLE="font-size: 80%">{<I>decimal 
fixed point type</I>}</SPAN> <A NAME="I1922"></A>For a type defined by 
a <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0049">decimal_fixed_point_definition</A></SPAN> 
(a <I>decimal</I> fixed point type), the number of significant decimal 
digits for its first subtype (the <I>digits</I> of the first subtype) 
is specified by the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
given after the reserved word <B>digits</B>; this <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is expected to be of any integer type.&nbsp;</DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">7</DIV>
<DIV Class="Normal">In a <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0047">fixed_point_definition</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0050">digits_constraint</A></SPAN>, 
the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>s 
given after the reserved words <B>delta</B> and <B>digits</B> shall be 
static; their values shall be positive.</DIV>
<DIV Class="paranum">8/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00100.TXT">AI95-00100-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>small (of a fixed point type)</I>}</SPAN> 
<A NAME="I1923"></A>The set of values of a fixed point type comprise 
the integral multiples of a number called the <I>small</I> of the type.<SPAN class="insert2"><SPAN STYLE="font-size: 80%">{<I>machine 
numbers (of a fixed point type)</I> [partial]}</SPAN> <A NAME="I1924"></A>The 
<I>machine numbers</I> of a fixed point type are the values of the type 
that can be represented exactly in every unconstrained variable of the 
type.</SPAN> <SPAN STYLE="font-size: 80%">{<I>ordinary fixed point type</I>}</SPAN> 
<A NAME="I1925"></A>For a type defined by an <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0048">ordinary_fixed_point_definition</A></SPAN> 
(an <I>ordinary</I> fixed point type), the <I>small</I> may be specified 
by an <SPAN Class="swiss"><A HREF="AA-13-3.html#S0286">attribute_definition_clause</A></SPAN> 
(see <A HREF="AA-13-3.html">13.3</A>); if so specified, it shall be no 
greater than the <I>delta</I> of the type. If not specified, the <I>small</I> 
of an ordinary fixed point type is an implementation-defined power of 
two less than or equal to the <I>delta</I>.&nbsp;</DIV>
<DIV Class="paranum">8.a</DIV>
<DIV Class="Annotations"><B>Implementation defined:&nbsp;</B>The <I>small</I> 
of an ordinary fixed point type.</DIV>
<DIV Class="paranum">9</DIV>
<DIV Class="Normal">For a decimal fixed point type, the <I>small</I> 
equals the <I>delta</I>; the <I>delta</I> shall be a power of 10. If 
a <SPAN Class="swiss"><A HREF="AA-3-5-7.html#S0046">real_range_specification</A></SPAN> 
is given, both bounds of the range shall be in the range &ndash;(10**<I>digits</I>&ndash;1)*<I>delta</I> 
.. +(10**<I>digits</I>&ndash;1)*<I>delta</I>.</DIV>
<DIV Class="paranum">10</DIV>
<DIV Class="Normal">A <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0047">fixed_point_definition</A></SPAN> 
is illegal if the implementation does not support a fixed point type 
with the given <I>small</I> and specified range or <I>digits</I>.&nbsp;</DIV>
<DIV Class="paranum">10.a</DIV>
<DIV Class="Annotations"><B>Implementation defined:&nbsp;</B>What combinations 
of <I>small</I>, range, and <I>digits</I> are supported for fixed point 
types.</DIV>
<DIV Class="paranum">11</DIV>
<DIV Class="Normal">For a <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0027">subtype_indication</A></SPAN> 
with a <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0050">digits_constraint</A></SPAN>, 
the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN> 
shall denote a decimal fixed point subtype.&nbsp;</DIV>
<DIV Class="paranum">11.a</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B>Or, as an obsolescent feature, 
a floating point subtype is permitted &mdash; see <A HREF="AA-J-3.html">J.3</A>. 
</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">12</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>base range (of a 
fixed point type)</I> [partial]}</SPAN> <A NAME="I1926"></A>The base 
range (see <A HREF="AA-3-5.html">3.5</A>) of a fixed point type is symmetric 
around zero, except possibly for an extra negative value in some implementations.</DIV>
<DIV Class="paranum">13</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><SPAN STYLE="font-size: 80%">{<I>base 
range (of an ordinary fixed point type)</I> [partial]}</SPAN> <A NAME="I1927"></A>An 
<SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0048">ordinary_fixed_point_definition</A></SPAN> 
defines an ordinary fixed point type whose base range includes at least 
all multiples of <I>small</I> that are between the bounds specified in 
the <SPAN Class="swiss"><A HREF="AA-3-5-7.html#S0046">real_range_specification</A></SPAN>. 
The base range of the type does not necessarily include the specified 
bounds themselves. <SPAN STYLE="font-size: 80%">{<I>constrained (subtype)</I>}</SPAN> 
<A NAME="I1928"></A><SPAN STYLE="font-size: 80%">{<I>unconstrained (subtype)</I>}</SPAN> 
<A NAME="I1929"></A>An <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0048">ordinary_fixed_point_definition</A></SPAN> 
also defines a constrained first subtype of the type, with each bound 
of its range given by the closer to zero of:&nbsp;</DIV>
<DIV Class="paranum">14</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>the value of the conversion to the 
fixed point type of the corresponding <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
of the <SPAN Class="swiss"><A HREF="AA-3-5-7.html#S0046">real_range_specification</A></SPAN>; 
<SPAN STYLE="font-size: 80%">{<I>implicit subtype conversion (bounds 
of a fixed point type)</I> [partial]}</SPAN> <A NAME="I1930"></A></LI></UL>
<DIV Class="paranum">14.a.1/1</DIV>
<DIV Class="Annotations"><SPAN class="insert1"><B>To be honest:&nbsp;</B>The 
conversion mentioned above is not an <I>implicit subtype conversion</I> 
(which is something that happens at overload resolution, see <A HREF="AA-4-6.html">4.6</A>), 
although it happens implicitly. Therefore, the freezing rules are not 
invoked on the type (which is important so that representation items 
can be given for the type). {<I>subtype conversion (bounds of a fixed 
point type)</I> [partial]} <A NAME="I1931"></A></SPAN></DIV>
<DIV Class="paranum">15</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>the corresponding bound of the base 
range.&nbsp;</LI></UL>
<DIV Class="paranum">16</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>base range (of a 
decimal fixed point type)</I> [partial]}</SPAN> <A NAME="I1932"></A>A 
<SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0049">decimal_fixed_point_definition</A></SPAN> 
defines a decimal fixed point type whose base range includes at least 
the range &ndash;(10**<I>digits</I>&ndash;1)*<I>delta</I> .. +(10**<I>digits</I>&ndash;1)*<I>delta</I>. 
<SPAN STYLE="font-size: 80%">{<I>constrained (subtype)</I>}</SPAN> <A NAME="I1933"></A><SPAN STYLE="font-size: 80%">{<I>unconstrained 
(subtype)</I>}</SPAN> <A NAME="I1934"></A>A <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0049">decimal_fixed_point_definition</A></SPAN> 
also defines a constrained first subtype of the type. If a <SPAN Class="swiss"><A HREF="AA-3-5-7.html#S0046">real_range_specification</A></SPAN> 
is given, the bounds of the first subtype are given by a conversion of 
the values of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>s 
of the <SPAN Class="swiss"><A HREF="AA-3-5-7.html#S0046">real_range_specification</A></SPAN>. 
<SPAN STYLE="font-size: 80%">{<I>implicit subtype conversion (bounds 
of a decimal fixed point type)</I> [partial]}</SPAN> <A NAME="I1935"></A>Otherwise, 
the range of the first subtype is &ndash;(10**<I>digits</I>&ndash;1)*<I>delta</I> 
.. +(10**<I>digits</I>&ndash;1)*<I>delta</I>.</DIV>
<DIV Class="paranum">16.a.1/1</DIV>
<DIV Class="Annotations"><SPAN class="insert1"><B>To be honest:&nbsp;</B>The 
conversion mentioned above is not an <I>implicit subtype conversion</I> 
(which is something that happens at overload resolution, see <A HREF="AA-4-6.html">4.6</A>), 
although it happens implicitly. Therefore, the freezing rules are not 
invoked on the type (which is important so that representation items 
can be given for the type). {<I>subtype conversion (bounds of a decimal 
fixed point type)</I> [partial]} <A NAME="I1936"></A></SPAN></DIV>

<H4 Class="centered">Dynamic Semantics</H4>
<DIV Class="paranum">17</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>elaboration (fixed_point_definition)</I> 
[partial]}</SPAN> <A NAME="I1937"></A>The elaboration of a <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0047">fixed_point_definition</A></SPAN> 
creates the fixed point type and its first subtype.</DIV>
<DIV Class="paranum">18</DIV>
<DIV Class="Normal">For a <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0050">digits_constraint</A></SPAN> 
on a decimal fixed point subtype with a given <I>delta</I>, if it does 
not have a <SPAN Class="swiss"><A HREF="AA-3-5.html#S0036">range_constraint</A></SPAN>, 
then it specifies an implicit range &ndash;(10**<I>D</I>&ndash;1)*<I>delta</I> 
.. +(10**<I>D</I>&ndash;1)*<I>delta</I>, where <I>D</I> is the value 
of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>. 
<SPAN STYLE="font-size: 80%">{<I>compatibility (digits_constraint with 
a decimal fixed point subtype)</I>}</SPAN> <A NAME="I1938"></A>A <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0050">digits_constraint</A></SPAN> 
is <I>compatible</I> with a decimal fixed point subtype if the value 
of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is no greater than the <I>digits</I> of the subtype, and if it specifies 
(explicitly or implicitly) a range that is compatible with the subtype. 
</DIV>
<DIV Class="paranum">18.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>Except for the requirement 
that the <I>digits</I> specified be no greater than the <I>digits</I> 
of the subtype being constrained, a <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0050">digits_constraint</A></SPAN> 
is essentially equivalent to a <SPAN Class="swiss"><A HREF="AA-3-5.html#S0036">range_constraint</A></SPAN>.</DIV>
<DIV Class="paranum">18.b</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em">Consider the following 
example:&nbsp;</DIV>
<DIV Class="paranum">18.c</DIV>
<DIV Class="SmallExamples"><B>type</B>&nbsp;D&nbsp;<B>is</B>&nbsp;<B>delta</B>&nbsp;0.01&nbsp;<B>digits</B>&nbsp;7&nbsp;<B>range</B>&nbsp;-0.00&nbsp;..&nbsp;9999.99;</DIV>
<DIV Class="paranum">18.d/1</DIV>
<DIV Class="Annotations">The compatibility rule implies that the <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0050">digits_constraint</A></SPAN> 
&quot;<B>digits</B> 6&quot; specifies an implicit range of &quot;&ndash;<SPAN class="insert1">9999.99</SPAN><SPAN class="delete1">&nbsp;99.9999</SPAN> 
.. <SPAN class="insert1">9999.99</SPAN><SPAN class="delete1">&nbsp;99.9999</SPAN>&quot;. 
Thus, &quot;<B>digits</B> 6&quot; is not compatible with the constraint 
of D, but &quot;<B>digits</B> 6 range 0.00 .. 9999.99&quot; is compatible.</DIV>
<DIV Class="paranum">18.e/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00114.TXT">AI95-00114-01</A></I>} 
A value of a scalar type belongs to a constrained subtype of the type 
if it belongs to the range of the subtype. Attributes like Digits and 
Delta have no <SPAN class="insert2">effect</SPAN><SPAN class="delete2">&nbsp;affect</SPAN> 
on this fundamental rule. So the obsolescent forms of <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0050">digits_constraint</A></SPAN>s 
and <SPAN Class="swiss"><A HREF="AA-J-3.html#S0297">delta_constraint</A></SPAN>s 
that are called &ldquo;accuracy constraints&rdquo; in RM83 don't really 
represent constraints on the values of the subtype, but rather primarily 
affect compatibility of the &ldquo;constraint&rdquo; with the subtype 
being &ldquo;constrained.&rdquo; In this sense, they might better be 
called &ldquo;subtype assertions&rdquo; rather than &ldquo;constraints.&rdquo;</DIV>
<DIV Class="paranum">18.f</DIV>
<DIV Class="Annotations">Note that the <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0050">digits_constraint</A></SPAN> 
on a decimal fixed point subtype is a combination of an assertion about 
the <I>digits</I> of the subtype being further constrained, and a constraint 
on the range of the subtype being defined, either explicit or implicit. 
</DIV>
<DIV Class="paranum">19</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>elaboration (digits_constraint)</I> 
[partial]}</SPAN> <A NAME="I1939"></A>The elaboration of a <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0050">digits_constraint</A></SPAN> 
consists of the elaboration of the <SPAN Class="swiss"><A HREF="AA-3-5.html#S0036">range_constraint</A></SPAN>, 
if any. <SPAN STYLE="font-size: 80%">{<I>Range_Check</I> [partial]}</SPAN> 
<A NAME="I1940"></A><SPAN STYLE="font-size: 80%">{<I>check, language-defined 
(Range_Check)</I>}</SPAN> <A NAME="I1941"></A>If a <SPAN Class="swiss"><A HREF="AA-3-5.html#S0036">range_constraint</A></SPAN> 
is given, a check is made that the bounds of the range are both in the 
range &ndash;(10**<I>D</I>&ndash;1)*<I>delta</I> .. +(10**<I>D</I>&ndash;1)*<I>delta</I>, 
where <I>D</I> is the value of the (static) <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
given after the reserved word <B>digits</B>. <SPAN STYLE="font-size: 80%">{<I>Constraint_Error 
(raised by failure of run-time check)</I>}</SPAN> <A NAME="I1942"></A>If 
this check fails, Constraint_Error is raised.&nbsp;</DIV>

<H4 Class="centered">Implementation Requirements</H4>
<DIV Class="paranum">20</DIV>
<DIV Class="Normal">The implementation shall support at least 24 bits 
of precision (including the sign bit) for fixed point types.&nbsp;</DIV>
<DIV Class="paranum">20.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>This is sufficient to represent 
Standard.Duration with a <I>small</I> no more than 50 milliseconds.&nbsp;</DIV>

<H4 Class="centered">Implementation Permissions</H4>
<DIV Class="paranum">21</DIV>
<DIV Class="Normal">Implementations are permitted to support only <I>small</I>s 
that are a power of two. In particular, all decimal fixed point type 
declarations can be disallowed. Note however that conformance with the 
Information Systems Annex requires support for decimal <I>small</I>s, 
and decimal fixed point type declarations with <I>digits</I> up to at 
least 18.&nbsp;</DIV>
<DIV Class="paranum">21.a</DIV>
<DIV Class="Annotations"><B>Implementation Note:&nbsp;</B>The accuracy requirements 
for multiplication, division, and conversion (see <A HREF="AA-G-2-1.html">G.2.1</A>, 
&ldquo;<A HREF="AA-G-2-1.html">Model of Floating Point Arithmetic</A>&rdquo;) 
are such that support for arbitrary <I>small</I>s should be practical 
without undue implementation effort. Therefore, implementations should 
support fixed point types with arbitrary values for <I>small</I> (within 
reason). One reasonable limitation would be to limit support to fixed 
point types that can be converted to the most precise floating point 
type without loss of precision (so that Fixed_IO is implementable in 
terms of Float_IO).&nbsp;</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">22</DIV>
<DIV Class="Notes" Style="margin-bottom: 0.4em">38&nbsp;&nbsp;The base 
range of an ordinary fixed point type need not include the specified 
bounds themselves so that the range specification can be given in a natural 
way, such as:&nbsp;</DIV>
<DIV Class="paranum">23</DIV>
<DIV Class="Examples">&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Fraction&nbsp;<B>is&nbsp;delta</B>&nbsp;2.0**(-15)&nbsp;<B>range</B>&nbsp;-1.0&nbsp;..&nbsp;1.0;<BR>
&nbsp;&nbsp;</DIV>
<DIV Class="paranum">24</DIV>
<DIV Class="Notes">With 2's complement hardware, such a type could have 
a signed 16-bit representation, using 1 bit for the sign and 15 bits 
for fraction, resulting in a base range of &ndash;1.0 .. 1.0&ndash;2.0**(&ndash;15). 
</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">25</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><I>Examples of fixed 
point types and subtypes:</I>&nbsp;</DIV>
<DIV Class="paranum">26</DIV>
<DIV Class="Examples"><B>type</B>&nbsp;Volt&nbsp;<B>is</B>&nbsp;<B>delta</B>&nbsp;0.125&nbsp;<B>range</B>&nbsp;0.0&nbsp;..&nbsp;255.0;</DIV>
<DIV Class="paranum">27</DIV>
<DIV Class="Examples">&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>A&nbsp;pure&nbsp;fraction&nbsp;which&nbsp;requires&nbsp;all&nbsp;the&nbsp;available</I></SPAN><BR>
&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>space&nbsp;in&nbsp;a&nbsp;word&nbsp;can&nbsp;be&nbsp;declared&nbsp;as&nbsp;the&nbsp;type&nbsp;Fraction:</I></SPAN><BR>
<B>type</B>&nbsp;Fraction&nbsp;<B>is</B>&nbsp;<B>delta</B>&nbsp;System.Fine_Delta&nbsp;<B>range</B>&nbsp;-1.0&nbsp;..&nbsp;1.0;<BR>
&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Fraction'Last&nbsp;=&nbsp;1.0&nbsp;&ndash;&nbsp;System.Fine_Delta</I></SPAN></DIV>
<DIV Class="paranum">28</DIV>
<DIV Class="Examples"><B>type</B>&nbsp;Money&nbsp;<B>is</B>&nbsp;<B>delta</B>&nbsp;0.01&nbsp;<B>digits</B>&nbsp;15;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>decimal&nbsp;fixed&nbsp;point</I></SPAN><BR>
<B>subtype</B>&nbsp;Salary&nbsp;<B>is</B>&nbsp;Money&nbsp;<B>digits</B>&nbsp;10;<BR>
&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Money'Last&nbsp;=&nbsp;10.0**13&nbsp;&ndash;&nbsp;0.01,&nbsp;Salary'Last&nbsp;=&nbsp;10.0**8&nbsp;&ndash;&nbsp;0.01</I></SPAN></DIV>

<H4 Class="centered">Inconsistencies With Ada 83</H4>
<DIV Class="paranum">28.a</DIV>
<DIV Class="Annotations">{<I>inconsistencies with Ada 83</I>} <A NAME="I1943"></A>In 
Ada 95, S'Small always equals S'Base'Small, so if an implementation chooses 
a <I>small</I> for a fixed point type smaller than required by the <I>delta</I>, 
the value of S'Small in Ada 95 might not be the same as it was in Ada 
83.&nbsp;</DIV>

<H4 Class="centered">Extensions to Ada 83</H4>
<DIV Class="paranum">28.b</DIV>
<DIV Class="Annotations">{<I>extensions to Ada 83</I>} <A NAME="I1944"></A>Decimal 
fixed point types are new, though their capabilities are essentially 
similar to that available in Ada 83 with a fixed point type whose <I>small</I> 
equals its <I>delta</I> equals a power of 10. However, in the Information 
Systems Annex, additional requirements are placed on the support of decimal 
fixed point types (e.g. a minimum of 18 digits of precision).&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<DIV Class="paranum">28.c</DIV>
<DIV Class="Annotations">The syntax rules for <SPAN Class="swiss">fixed_point_constraint</SPAN> 
and <SPAN Class="swiss">fixed_accuracy_definition</SPAN> are removed. 
The syntax rule for <SPAN Class="swiss"><A HREF="AA-3-5-9.html#S0047">fixed_point_definition</A></SPAN> 
is new. A syntax rule for <SPAN Class="swiss"><A HREF="AA-J-3.html#S0297">delta_constraint</A></SPAN> 
is included in the Obsolescent features (to be compatible with Ada 83's 
<SPAN Class="swiss">fixed_point_constraint</SPAN>).&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">28.d/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00100.TXT">AI95-00100-01</A></I>} 
<SPAN class="insert2">Added wording to define the machine numbers of 
fixed point types; this is needed by the static evaluation rules.</SPAN> 
</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-5-8.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-3-5-10.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
