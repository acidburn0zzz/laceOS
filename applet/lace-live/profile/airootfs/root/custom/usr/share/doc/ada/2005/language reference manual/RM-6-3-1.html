<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Conformance Rules</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.NestedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B></SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-6-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-6-3-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>6.3.1 Conformance Rules</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal"><A NAME="I3102"></A><A NAME="I3103"></A><A NAME="I3104"></A><A NAME="I3105"></A><A NAME="I3106"></A>When 
subprogram profiles are given in more than one place, they are required 
to conform in one of four ways: type conformance, mode conformance, subtype 
conformance, or full conformance.&nbsp;</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">2/1</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><A NAME="I3107"></A><A NAME="I3108"></A>As 
explained in <A HREF="RM-B-1.html">B.1</A>, &ldquo;<A HREF="RM-B-1.html">Interfacing 
Pragmas</A>&rdquo;, a <I>convention</I> can be specified for an entity. 
Unless this International Standard states otherwise, the default convention 
of an entity is Ada. For a callable entity or access-to-subprogram type, 
the convention is called the <I>calling convention</I>. The following 
conventions are defined by the language:&nbsp;</DIV>
<DIV Class="paranum">3</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><A NAME="I3109"></A><A NAME="I3110"></A>The 
default calling convention for any subprogram not listed below is <I>Ada</I>. 
A <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> Convention, 
Import, or Export may be used to override the default calling convention 
(see <A HREF="RM-B-1.html">B.1</A>).&nbsp;</LI></UL>
<DIV Class="paranum">4</DIV>
<UL Class="Bulleted" Style="margin-bottom: 0.3em"><LI TYPE=DISC><A NAME="I3111"></A><A NAME="I3112"></A>The 
<I>Intrinsic</I> calling convention represents subprograms that are &ldquo;built 
in&rdquo; to the compiler. The default calling convention is Intrinsic 
for the following:&nbsp;</LI></UL>
<DIV Class="paranum">5</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>an enumeration literal;</LI></UL>
<DIV Class="paranum">6</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>a &quot;/=&quot; operator declared 
implicitly due to the declaration of &quot;=&quot; (see <A HREF="RM-6-6.html">6.6</A>);</LI></UL>
<DIV Class="paranum">7</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>any other implicitly declared 
subprogram unless it is a dispatching operation of a tagged type;</LI></UL>
<DIV Class="paranum">8</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>an inherited subprogram of a 
generic formal tagged type with unknown discriminants;&nbsp;</LI></UL>
<DIV Class="paranum">9</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>an attribute that is a subprogram;</LI></UL>
<DIV Class="paranum">10/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>a subprogram declared immediately 
within a <SPAN Class="swiss"><A HREF="RM-9-4.html#S0198">protected_body</A></SPAN>;</LI></UL>
<DIV Class="paranum">10.1/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>any prefixed view of a subprogram 
(see <A HREF="RM-4-1-3.html">4.1.3</A>).&nbsp;</LI></UL>
<DIV Class="paranum">11</DIV>
<UL Class="Bulleted">The Access attribute is not allowed for Intrinsic 
subprograms.&nbsp;</UL>
<DIV Class="paranum">12</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><A NAME="I3113"></A><A NAME="I3114"></A>The 
default calling convention is <I>protected</I> for a protected subprogram, 
and for an access-to-subprogram type with the reserved word <B>protected</B> 
in its definition.</LI></UL>
<DIV Class="paranum">13</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><A NAME="I3115"></A><A NAME="I3116"></A>The 
default calling convention is <I>entry</I> for an entry.</LI></UL>
<DIV Class="paranum">13.1/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The calling convention for an anonymous 
access-to-subprogram parameter or anonymous access-to-subprogram result 
is <I>protected</I> if the reserved word <B>protected</B> appears in 
its definition and otherwise is the convention of the subprogram that 
contains the parameter.&nbsp;</LI></UL>
<DIV Class="paranum">13.2/1</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>If not specified above as Intrinsic, 
the calling convention for any inherited or overriding dispatching operation 
of a tagged type is that of the corresponding subprogram of the parent 
type. The default calling convention for a new dispatching operation 
of a tagged type is the convention of the type.&nbsp;</LI></UL>
<DIV Class="paranum">14</DIV>
<DIV Class="Normal">Of these four conventions, only Ada and Intrinsic 
are allowed as a <I>convention_</I><SPAN Class="swiss"><A HREF="RM-2-3.html#S0002">identifier</A></SPAN> 
in a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Convention, Import, or Export.&nbsp;</DIV>
<DIV Class="paranum">15/2</DIV>
<DIV Class="Normal">&nbsp;<A NAME="I3117"></A><A NAME="I3118"></A>Two profiles 
are <I>type conformant</I> if they have the same number of parameters, 
and both have a result if either does, and corresponding parameter and 
result types are the same, or, for access parameters or access results, 
corresponding designated types are the same, or corresponding designated 
profiles are type conformant. <A NAME="I3119"></A></DIV>
<DIV Class="paranum">16/2</DIV>
<DIV Class="Normal">&nbsp;<A NAME="I3120"></A><A NAME="I3121"></A>Two profiles 
are <I>mode conformant</I> if they are type-conformant, and corresponding 
parameters have identical modes, and, for access parameters or access 
result types, the designated subtypes statically match, or the designated 
profiles are subtype conformant. <A NAME="I3122"></A></DIV>
<DIV Class="paranum">17</DIV>
<DIV Class="Normal"><A NAME="I3123"></A><A NAME="I3124"></A>Two profiles 
are <I>subtype conformant</I> if they are mode-conformant, corresponding 
subtypes of the profile statically match, and the associated calling 
conventions are the same. The profile of a generic formal subprogram 
is not subtype-conformant with any other profile. <A NAME="I3125"></A></DIV>
<DIV Class="paranum">18</DIV>
<DIV Class="Normal"><A NAME="I3126"></A><A NAME="I3127"></A>Two profiles 
are <I>fully conformant</I> if they are subtype-conformant, and corresponding 
parameters have the same names and have <SPAN Class="swiss"><A HREF="RM-3-7.html#S0063">default_expression</A></SPAN>s 
that are fully conformant with one another.&nbsp;</DIV>
<DIV Class="paranum">19</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><A NAME="I3128"></A>Two 
expressions are <I>fully conformant</I> if, after replacing each use 
of an operator with the equivalent <SPAN Class="swiss"><A HREF="RM-6-4.html#S0164">function_call</A></SPAN>: 
</DIV>
<DIV Class="paranum">20</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>each constituent construct of one 
corresponds to an instance of the same syntactic category in the other, 
except that an expanded name may correspond to a <SPAN Class="swiss"><A HREF="RM-4-1.html#S0092">direct_name</A></SPAN> 
(or <SPAN Class="swiss"><A HREF="RM-2-5.html#S0015">character_literal</A></SPAN>) 
or to a different expanded name in the other; and</LI></UL>
<DIV Class="paranum">21</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>each <SPAN Class="swiss"><A HREF="RM-4-1.html#S0092">direct_name</A></SPAN>, 
<SPAN Class="swiss"><A HREF="RM-2-5.html#S0015">character_literal</A></SPAN>, 
and <SPAN Class="swiss"><A HREF="RM-4-1-3.html#S0099">selector_name</A></SPAN> 
that is not part of the <SPAN Class="swiss"><A HREF="RM-4-1.html#S0093">prefix</A></SPAN> 
of an expanded name in one denotes the same declaration as the corresponding 
<SPAN Class="swiss"><A HREF="RM-4-1.html#S0092">direct_name</A></SPAN>, 
<SPAN Class="swiss"><A HREF="RM-2-5.html#S0015">character_literal</A></SPAN>, 
or <SPAN Class="swiss"><A HREF="RM-4-1-3.html#S0099">selector_name</A></SPAN> 
in the other; and&nbsp;</LI></UL>
<DIV Class="paranum">21.1/1</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>each <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0101">attribute_designator</A></SPAN> 
in one must be the same as the corresponding <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0101">attribute_designator</A></SPAN> 
in the other; and</LI></UL>
<DIV Class="paranum">22</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>each <SPAN Class="swiss"><A HREF="RM-4-4.html#S0120">primary</A></SPAN> 
that is a literal in one has the same value as the corresponding literal 
in the other.&nbsp;</LI></UL>
<DIV Class="paranum">23</DIV>
<DIV Class="Normal"><A NAME="I3129"></A>Two <SPAN Class="swiss"><A HREF="RM-3-7.html#S0061">known_discriminant_part</A></SPAN>s 
are <I>fully conformant</I> if they have the same number of discriminants, 
and discriminants in the same positions have the same names, statically 
matching subtypes, and <SPAN Class="swiss"><A HREF="RM-3-7.html#S0063">default_expression</A></SPAN>s 
that are fully conformant with one another. <A NAME="I3130"></A></DIV>
<DIV Class="paranum">24</DIV>
<DIV Class="Normal"><A NAME="I3131"></A>Two <SPAN Class="swiss"><A HREF="RM-3-6.html#S0055">discrete_subtype_definition</A></SPAN>s 
are <I>fully conformant</I> if they are both <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0027">subtype_indication</A></SPAN>s 
or are both <SPAN Class="swiss"><A HREF="RM-3-5.html#S0037">range</A></SPAN>s, 
the <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0028">subtype_mark</A></SPAN>s 
(if any) denote the same subtype, and the corresponding <SPAN Class="swiss"><A HREF="RM-4-4.html#S0117">simple_expression</A></SPAN>s 
of the <SPAN Class="swiss"><A HREF="RM-3-5.html#S0037">range</A></SPAN>s 
(if any) fully conform.&nbsp;</DIV>
<DIV Class="paranum">24.1/2</DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;<A NAME="I3132"></A>The <I>prefixed view profile</I> 
of a subprogram is the profile obtained by omitting the first parameter 
of that subprogram. There is no prefixed view profile for a parameterless 
subprogram. For the purposes of defining subtype and mode conformance, 
the convention of a prefixed view profile is considered to match that 
of either an entry or a protected operation.</DIV>

<H4 Class="centered">Implementation Permissions</H4>
<DIV Class="paranum">25</DIV>
<DIV Class="Normal">An implementation may declare an operator declared 
in a language-defined library unit to be intrinsic.</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-6-3.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-6-3-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
