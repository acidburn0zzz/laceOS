<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>High Integrity Restrictions</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert1 {text-decoration: underline; color: rgb(0,51,51) }
    SPAN.delete1 {text-decoration: line-through; color: rgb(0,51,51) }
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.NestedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Hanging-Body {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 7.2em; margin-top: 0em; margin-bottom: 0.6em}
    DIV.Hanging-Term {float: left; font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0em; margin-bottom: 0em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-H-3-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-H-5.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>&nbsp;H.4 <SPAN class="insert2">High Integrity Restrictions</SPAN> <SPAN class="delete2">Safety and Security Restrictions</SPAN></H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal">This clause defines restrictions that can be used 
with pragma Restrictions (see <A HREF="AA-13-12.html">13.12</A>); these 
facilitate the demonstration of program correctness by allowing tailored 
versions of the run-time system.&nbsp;</DIV>
<DIV Class="paranum">1.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>Note that the restrictions 
are absolute. If a partition has 100 library units and just one needs 
Unchecked_Conversion, then the pragma cannot be used to ensure the other 
99 units do not use Unchecked_Conversion. Note also that these are restrictions 
on all Ada code within a partition, and therefore it may not be evident 
from the specification of a package whether a restriction can be imposed.</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">2/2</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%"><I>This paragraph was 
deleted.</I></SPAN><SPAN class="delete2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00347.TXT">AI95-00347-01</A></I>} 
<SPAN class="delete2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
<SPAN class="delete2">The following restrictions, the same as in <A HREF="AA-D-7.html">D.7</A>, 
apply in this Annex: No_Task_Hierarchy, No_Abort_Statement, No_Implicit_Heap_Allocation, 
Max_Task_Entries is 0, Max_Asynchronous_Select_Nesting is 0, and Max_Tasks 
is 0. [The last three restrictions are checked prior to program execution.]</SPAN></DIV>
<DIV Class="paranum">3/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
The following <SPAN class="insert2"><I>restriction_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>s 
are language defined:</SPAN><SPAN class="delete2">&nbsp;additional restrictions 
apply in this Annex.</SPAN></DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><B>Tasking-related 
restriction:</B></DIV>
<DIV Class="paranum">5</DIV>
<DIV Class="Hanging-Term" Style="margin-bottom: 0.9em"><SPAN STYLE="font-size: 80%">{<I>Restrictions 
(No_Protected_Types)</I>}</SPAN> <A NAME="I8061"></A>No_Protected_Types 
</DIV><DIV Class="Hanging-Body"><BR clear="left">
There are no declarations of protected types or protected objects.&nbsp;</DIV>
<DIV Class="paranum">6</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><B>Memory-management 
related restrictions:</B></DIV>
<DIV Class="paranum">7</DIV>
<DIV Class="Hanging-Term"><SPAN STYLE="font-size: 80%">{<I>Restrictions 
(No_Allocators)</I>}</SPAN> <A NAME="I8062"></A>No_Allocators&nbsp;</DIV><DIV Class="Hanging-Body"><BR clear="left">
There are no occurrences of an <SPAN Class="swiss"><A HREF="AA-4-8.html#S0129">allocator</A></SPAN>.</DIV>
<DIV Class="paranum">8/1</DIV>
<DIV Class="Hanging-Term">{<I><A HREF="defect1.html#8652/0042">8652/0042</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00130.TXT">AI95-00130</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>Restrictions (No_Local_Allocators)</I>}</SPAN> 
<A NAME="I8063"></A>No_Local_Allocators&nbsp;</DIV><DIV Class="Hanging-Body"><BR clear="left">
<SPAN Class="swiss"><A HREF="AA-4-8.html#S0129">Allocator</A></SPAN>s 
are prohibited in subprograms, generic subprograms, tasks, and entry 
bodies<SPAN class="delete1">; instantiations of generic packages are 
also prohibited in these contexts</SPAN>.&nbsp;</DIV>
<DIV Class="paranum">8.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Thus <SPAN Class="swiss"><A HREF="AA-4-8.html#S0129">allocator</A></SPAN>s 
are permitted only in expressions whose evaluation can only be performed 
before the main subprogram is invoked.&nbsp;</DIV>
<DIV Class="paranum">8.b/1</DIV>
<DIV Class="Annotations"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN><SPAN class="delete1"><B>Reason:&nbsp;</B></SPAN>{<I><A HREF="defect1.html#8652/0042">8652/0042</A></I>} 
<SPAN class="delete1"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00130.TXT">AI95-00130</A></I>} 
<SPAN class="delete1">The reason for the prohibition against instantiations 
of generic packages is to avoid contract model violations. An alternative 
would be to prohibit <SPAN Class="swiss"><A HREF="AA-4-8.html#S0129">allocator</A></SPAN>s 
from generic packages, but it seems preferable to allow generality on 
the defining side and then place the restrictions on the usage (instantiation), 
rather than inhibiting what can be in the generic while liberalizing 
where they can be instantiated.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">9/2</DIV>
<DIV Class="Hanging-Term"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN><SPAN class="delete2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
<SPAN class="delete2"><SPAN STYLE="font-size: 80%">{<I>Restrictions (No_Unchecked_Deallocation)</I>}</SPAN> 
<A NAME="I8064"></A>No_Unchecked_Deallocation&nbsp;</SPAN></DIV><DIV Class="Hanging-Body"><BR clear="left">
<SPAN class="delete2">Semantic dependence on Unchecked_Deallocation is 
not allowed.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">9.a/2</DIV>
<DIV Class="Annotations"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN><SPAN class="delete2"><B>Discussion:&nbsp;</B>This 
restriction would be useful in those contexts in which heap storage is 
needed on program start-up, but need not be increased subsequently. The 
danger of a dangling pointer can therefore be avoided.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">10</DIV>
<DIV Class="Hanging-Term" Style="margin-bottom: 0.9em">Immediate_Reclamation 
</DIV><DIV Class="Hanging-Body"><BR clear="left">
Except for storage occupied by objects created by <SPAN Class="swiss"><A HREF="AA-4-8.html#S0129">allocator</A></SPAN>s 
and not deallocated via unchecked deallocation, any storage reserved 
at run time for an object is immediately reclaimed when the object no 
longer exists. <SPAN STYLE="font-size: 80%">{<I>Restrictions (Immediate_Reclamation)</I>}</SPAN> 
<A NAME="I8065"></A></DIV>
<DIV Class="paranum">10.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>Immediate reclamation would 
apply to storage created by the compiler, such as for a return value 
from a function whose size is not known at the call site.&nbsp;</DIV>
<DIV Class="paranum">11</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><B>Exception-related 
restriction:</B></DIV>
<DIV Class="paranum">12</DIV>
<DIV Class="Hanging-Term" Style="margin-bottom: 0.9em"><SPAN STYLE="font-size: 80%">{<I>Restrictions 
(No_Exceptions)</I>}</SPAN> <A NAME="I8066"></A>No_Exceptions&nbsp;</DIV><DIV Class="Hanging-Body"><BR clear="left">
<SPAN Class="swiss"><A HREF="AA-11-3.html#S0251">Raise_statement</A></SPAN>s 
and <SPAN Class="swiss"><A HREF="AA-11-2.html#S0248">exception_handler</A></SPAN>s 
are not allowed. No language-defined run-time checks are generated; however, 
a run-time check performed automatically by the hardware is permitted. 
</DIV>
<DIV Class="paranum">12.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>This restriction mirrors 
a method of working that is quite common in the safety area. The programmer 
is required to show that exceptions cannot be raised. Then a simplified 
run-time system is used without exception handling. However, some hardware 
checks may still be enforced. If the software check would have failed, 
or if the hardware check actually fails, then the execution of the program 
is unpredictable. There are obvious dangers in this approach, but it 
is similar to programming at the assembler level.</DIV>
<DIV Class="paranum">13</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><B>Other restrictions:</B></DIV>
<DIV Class="paranum">14</DIV>
<DIV Class="Hanging-Term"><SPAN STYLE="font-size: 80%">{<I>Restrictions 
(No_Floating_Point)</I>}</SPAN> <A NAME="I8067"></A>No_Floating_Point 
</DIV><DIV Class="Hanging-Body"><BR clear="left">
Uses of predefined floating point types and operations, and declarations 
of new floating point types, are not allowed.&nbsp;</DIV>
<DIV Class="paranum">14.a/2</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00114.TXT">AI95-00114-01</A></I>} 
The intention is to avoid the use of floating point hardware at run time, 
but this is expressed in language terms. It is conceivable that floating 
point is used implicitly in some contexts, say fixed point type conversions 
of high accuracy. However, the Implementation Requirements below make 
it clear that the restriction would apply to the &ldquo;run-time system&rdquo; 
and hence not be allowed. This <SPAN class="insert2">restriction</SPAN><SPAN class="delete2">&nbsp;parameter</SPAN> 
could be used to inform a compiler that a variant of the architecture 
is being used which does not have floating point instructions.</DIV>
<DIV Class="paranum">15</DIV>
<DIV Class="Hanging-Term"><SPAN STYLE="font-size: 80%">{<I>Restrictions 
(No_Fixed_Point)</I>}</SPAN> <A NAME="I8068"></A>No_Fixed_Point&nbsp;</DIV><DIV Class="Hanging-Body"><BR clear="left">
Uses of predefined fixed point types and operations, and declarations 
of new fixed point types, are not allowed.&nbsp;</DIV>
<DIV Class="paranum">15.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>This restriction would have 
the side-effect of prohibiting the <SPAN Class="swiss"><A HREF="AA-9-6.html#S0211">delay_relative_statement</A></SPAN>. 
As with the No_Floating_Point restriction, this might be used to avoid 
any question of rounding errors. Unless an Ada run-time is written in 
Ada, it seems hard to rule out implicit use of fixed point, since at 
the machine level, fixed point is virtually the same as integer arithmetic.</DIV>
<DIV Class="paranum">16/2</DIV>
<DIV Class="Hanging-Term">&nbsp;<SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN><SPAN class="delete2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
<SPAN class="delete2"><SPAN STYLE="font-size: 80%">{<I>Restrictions (No_Unchecked_Conversion)</I>}</SPAN> 
<A NAME="I8069"></A>No_Unchecked_Conversion&nbsp;</SPAN></DIV><DIV Class="Hanging-Body"><BR clear="left">
<SPAN class="delete2">Semantic dependence on the predefined generic Unchecked_Conversion 
is not allowed.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">16.a/2</DIV>
<DIV Class="Annotations"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN><SPAN class="delete2"><B>Discussion:&nbsp;</B>Most 
critical applications would require some restrictions or additional validation 
checks on uses of unchecked conversion. If the application does not require 
the functionality, then this restriction provides a means of ensuring 
the design requirement has been satisfied. The same applies to several 
of the following restrictions.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">17</DIV>
<DIV Class="Hanging-Term">No_Access_Subprograms&nbsp;</DIV><DIV Class="Hanging-Body"><BR clear="left">
The declaration of access-to-subprogram types is not allowed. <SPAN STYLE="font-size: 80%">{<I>Restrictions 
(No_Access_Subprograms)</I>}</SPAN> <A NAME="I8070"></A></DIV>
<DIV Class="paranum">17.a.1/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Discussion:&nbsp;</B>Most 
critical applications would require some restrictions or additional validation 
checks on uses of access-to-subprogram types. If the application does 
not require the functionality, then this restriction provides a means 
of ensuring the design requirement has been satisfied. The same applies 
to several of the following restrictions, and to restriction No_Dependence 
=&gt; Ada.Unchecked_Conversion.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">18</DIV>
<DIV Class="Hanging-Term"><SPAN STYLE="font-size: 80%">{<I>Restrictions 
(No_Unchecked_Access)</I>}</SPAN> <A NAME="I8071"></A>No_Unchecked_Access 
</DIV><DIV Class="Hanging-Body"><BR clear="left">
The <A NAME="I8072"></A><A NAME="I8073"></A>Unchecked_Access attribute 
is not allowed.</DIV>
<DIV Class="paranum">19</DIV>
<DIV Class="Hanging-Term"><SPAN STYLE="font-size: 80%">{<I>Restrictions 
(No_Dispatch)</I>}</SPAN> <A NAME="I8074"></A>No_Dispatch&nbsp;</DIV><DIV Class="Hanging-Body"><BR clear="left">
Occurrences of T'Class are not allowed, for any (tagged) subtype T.</DIV>
<DIV Class="paranum">20/2</DIV>
<DIV Class="Hanging-Term">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00285.TXT">AI95-00285-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>Restrictions (No_IO)</I>}</SPAN> <A NAME="I8075"></A>No_IO 
</DIV><DIV Class="Hanging-Body"><BR clear="left">
Semantic dependence on any of the library units Sequential_IO, Direct_IO, 
Text_IO, Wide_Text_IO, <SPAN class="insert2">Wide_Wide_Text_IO,&nbsp;</SPAN>or 
Stream_IO is not allowed.&nbsp;</DIV>
<DIV Class="paranum">20.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>Excluding the input-output 
facilities of an implementation may be needed in those environments which 
cannot support the supplied functionality. A program in such an environment 
is likely to require some low level facilities or a call on a non-Ada 
feature.</DIV>
<DIV Class="paranum">21</DIV>
<DIV Class="Hanging-Term"><SPAN STYLE="font-size: 80%">{<I>Restrictions 
(No_Delay)</I>}</SPAN> <A NAME="I8076"></A>No_Delay&nbsp;</DIV><DIV Class="Hanging-Body"><BR clear="left">
<SPAN Class="swiss"><A HREF="AA-9-6.html#S0209">Delay_Statement</A></SPAN>s 
and semantic dependence on package Calendar are not allowed.&nbsp;</DIV>
<DIV Class="paranum">21.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>This implies that <SPAN Class="swiss"><A HREF="AA-9-7-1.html#S0217">delay_alternative</A></SPAN>s 
in a <SPAN Class="swiss"><A HREF="AA-9-7.html#S0212">select_statement</A></SPAN> 
are prohibited.</DIV>
<DIV Class="paranum">21.b</DIV>
<DIV Class="Annotations">The purpose of this restriction is to avoid 
the need for timing facilities within the run-time system.</DIV>
<DIV Class="paranum">22</DIV>
<DIV Class="Hanging-Term"><SPAN STYLE="font-size: 80%">{<I>Restrictions 
(No_Recursion)</I>}</SPAN> <A NAME="I8077"></A>No_Recursion&nbsp;</DIV><DIV Class="Hanging-Body"><BR clear="left">
As part of the execution of a subprogram, the same subprogram is not 
invoked.</DIV>
<DIV Class="paranum">23</DIV>
<DIV Class="Hanging-Term"><SPAN STYLE="font-size: 80%">{<I>Restrictions 
(No_Reentrancy)</I>}</SPAN> <A NAME="I8078"></A>No_Reentrancy&nbsp;</DIV><DIV Class="Hanging-Body"><BR clear="left">
During the execution of a subprogram by a task, no other task invokes 
the same subprogram.</DIV>

<H4 Class="centered">Implementation Requirements</H4>
<DIV Class="paranum">23.1/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
<SPAN class="insert2">An implementation of this Annex shall support:</SPAN> 
</DIV>
<DIV Class="paranum">23.2/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">the restrictions 
defined in this subclause; and</SPAN></LI></UL>
<DIV Class="paranum">23.3/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">the following 
restrictions defined in <A HREF="AA-D-7.html">D.7</A>: No_Task_Hierarchy, 
No_Abort_Statement, No_Implicit_Heap_Allocation; and</SPAN></LI></UL>
<DIV Class="paranum">23.4/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00347.TXT">AI95-00347-01</A></I>} 
<SPAN class="insert2">the <B>pragma</B> Profile(Ravenscar); and</SPAN> 
</LI></UL>
<DIV Class="paranum">23.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Discussion:&nbsp;</B></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00347.TXT">AI95-00347-01</A></I>} 
<SPAN class="insert2">The reference to pragma Profile(Ravenscar) is intended 
to show that properly restricted tasking is appropriate for use in high 
integrity systems. The Ada 95 Annex seemed to suggest that tasking was 
inappropriate for such systems.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">23.5/2</DIV>
<UL Class="Bulleted" Style="margin-bottom: 0.3em"><LI TYPE=DISC><SPAN class="insert2">the 
following uses of <I>restriction_parameter_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>s 
defined in <A HREF="AA-D-7.html">D.7</A>[, which are checked prior to 
program execution]:</SPAN>&nbsp;</LI></UL>
<DIV Class="paranum">23.6/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC><SPAN class="insert2">Max_Task_Entries 
=&gt; 0,</SPAN></LI></UL>
<DIV Class="paranum">23.7/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC><SPAN class="insert2">Max_Asynchronous_Select_Nesting 
=&gt; 0, and</SPAN></LI></UL>
<DIV Class="paranum">23.8/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC><SPAN class="insert2">Max_Tasks 
=&gt; 0.</SPAN>&nbsp;</LI></UL>
<DIV Class="paranum">24</DIV>
<DIV Class="Normal">If an implementation supports <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Restrictions for a particular argument, then except for the restrictions 
No_Unchecked_Deallocation, No_Unchecked_Conversion, No_Access_Subprograms, 
and No_Unchecked_Access, the associated restriction applies to the run-time 
system.&nbsp;</DIV>
<DIV Class="paranum">24.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>Permission is granted for the 
run-time system to use the specified otherwise-restricted features, since 
the use of these features may simplify the run-time system by allowing 
more of it to be written in Ada.&nbsp;</DIV>
<DIV Class="paranum">24.b</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>The restrictions that are 
applied to the partition are also applied to the run-time system. For 
example, if No_Floating_Point is specified, then an implementation that 
uses floating point for implementing the delay statement (say) would 
require that No_Floating_Point is only used in conjunction with No_Delay. 
It is clearly important that restrictions are effective so that Max_Tasks=0 
does imply that tasking is not used, even implicitly (for input-output, 
say).</DIV>
<DIV Class="paranum">24.c</DIV>
<DIV Class="Annotations">An implementation of tasking could be produced 
based upon a run-time system written in Ada in which the rendezvous was 
controlled by protected types. In this case, No_Protected_Types could 
only be used in conjunction with Max_Task_Entries=0. Other implementation 
dependencies could be envisaged.</DIV>
<DIV Class="paranum">24.d</DIV>
<DIV Class="Annotations">If the run-time system is not written in Ada, 
then the wording needs to be applied in an appropriate fashion.</DIV>

<H4 Class="centered">Documentation Requirements</H4>
<DIV Class="paranum">25</DIV>
<DIV Class="Normal">If a pragma Restrictions(No_Exceptions) is specified, 
the implementation shall document the effects of all constructs where 
language-defined checks are still performed automatically (for example, 
an overflow check performed by the processor).&nbsp;</DIV>
<DIV Class="paranum">25.a/2</DIV>
<DIV Class="Annotations"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN><SPAN class="delete2"><B>Implementation defined: 
</B></SPAN><SPAN class="delete2">Implementation-defined aspects of pragma 
Restrictions.</SPAN></DIV>
<DIV Class="paranum">25.b/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Documentation Requirement: 
</B></SPAN><SPAN class="insert2">If a pragma Restrictions(No_Exceptions) 
is specified, the effects of all constructs where language-defined checks 
are still performed.</SPAN></DIV>
<DIV Class="paranum">25.c/2</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00114.TXT">AI95-00114-01</A></I>} 
The documentation requirements here are quite difficult to satisfy. One 
method is to review the object code generated and determine the checks 
that are still present, either explicitly, or implicitly within the architecture. 
As another example from that of overflow, consider the question of <SPAN class="insert2">dereferencing</SPAN><SPAN class="delete2">&nbsp;deferencing</SPAN> 
a null pointer. This could be undertaken by a memory access trap when 
checks are performed. When checks are suppressed via the argument No_Exceptions, 
it would not be necessary to have the memory access trap mechanism enabled.</DIV>

<H4 Class="centered">Erroneous Execution</H4>
<DIV Class="paranum">26</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>erroneous execution 
(cause)</I> [partial]}</SPAN> <A NAME="I8079"></A>Program execution is 
erroneous if pragma Restrictions(No_Exceptions) has been specified and 
the conditions arise under which a generated language-defined run-time 
check would fail.&nbsp;</DIV>
<DIV Class="paranum">26.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>The situation here is very 
similar to the application of pragma Suppress. Since users are removing 
some of the protection the language provides, they had better be careful!</DIV>
<DIV Class="paranum">27</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>erroneous execution 
(cause)</I> [partial]}</SPAN> <A NAME="I8080"></A>Program execution is 
erroneous if pragma Restrictions(No_Recursion) has been specified and 
a subprogram is invoked as part of its own execution, or if pragma Restrictions(No_Reentrancy) 
has been specified and during the execution of a subprogram by a task, 
another task invokes the same subprogram.&nbsp;</DIV>
<DIV Class="paranum">27.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>In practice, many implementations 
may not exploit the absence of recursion or need for reentrancy, in which 
case the program execution would be unaffected by the use of recursion 
or reentrancy, even though the program is still formally erroneous.</DIV>
<DIV Class="paranum">27.b/2</DIV>
<DIV Class="Annotations"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN><SPAN class="delete2"><B>Implementation defined: 
</B></SPAN><SPAN class="delete2">Any restrictions on pragma Restrictions.</SPAN></DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">28/2</DIV>
<DIV Class="Notes">10&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
<SPAN class="insert2">Uses of <I>restriction_parameter_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
No_Dependence defined in <A HREF="AA-13-12-1.html">13.12.1</A>: No_Dependence 
=&gt; Ada.Unchecked_Deallocation and No_Dependence =&gt; Ada.Unchecked_Conversion 
may be appropriate for high-integrity systems. Other uses of No_Dependence 
can also be appropriate for high-integrity systems.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">28.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Discussion:&nbsp;</B>The 
specific mention of these two uses is meant to replace the identifiers 
now banished to <A HREF="AA-J-13.html">J.13</A>, &ldquo;<A HREF="AA-J-13.html">Dependence 
Restriction Identifiers</A>&rdquo;.</SPAN></DIV>
<DIV Class="paranum">28.b/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2">Restriction No_Dependence 
=&gt; Ada.Unchecked_Deallocation would be useful in those contexts in 
which heap storage is needed on program start-up, but need not be increased 
subsequently. The danger of a dangling pointer can therefore be avoided.</SPAN> 
</DIV>

<H4 Class="centered">Extensions to Ada 95</H4>
<DIV Class="paranum">28.c/2</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0042">8652/0042</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00130.TXT">AI95-00130-01</A></I>} 
<SPAN class="insert2">{<I>extensions to Ada 95</I>} <A NAME="I8081"></A>No_Local_Allocators 
no longer prohibits generic instantiations.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">28.d/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00285.TXT">AI95-00285-01</A></I>} 
<SPAN class="insert2">Wide_Wide_Text_IO (which is new) is added to the 
No_IO restriction.</SPAN></DIV>
<DIV Class="paranum">28.e/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00347.TXT">AI95-00347-01</A></I>} 
<SPAN class="insert2">The title of this clause was changed to match the 
change to the Annex title. Pragma Profile(Ravenscar) is part of this 
annex.</SPAN></DIV>
<DIV Class="paranum">28.f/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
<SPAN class="insert2">Restriction No_Dependence is used instead of special 
<I>restriction_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>s. 
The old names are banished to Obsolescent Features (see <A HREF="AA-J-13.html">J.13</A>).</SPAN></DIV>
<DIV Class="paranum">28.g/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00394.TXT">AI95-00394-01</A></I>} 
<SPAN class="insert2">The bizarre wording &ldquo;apply in this Annex&rdquo; 
(which no one quite can explain the meaning of) is banished.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-H-3-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-H-5.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
