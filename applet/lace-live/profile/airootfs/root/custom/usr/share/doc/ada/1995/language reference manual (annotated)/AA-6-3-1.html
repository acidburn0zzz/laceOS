<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Conformance Rules</TITLE>
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    DIV.paranum {position: absolute; font-family: Arial, Helvetica, sans-serif; left: 0.5em; top: auto}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; margin-bottom: 0.6em}
    DIV.Wide {font-family: "Times New Roman", Times, serif; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; margin-left: 4.0em; margin-bottom: 0.6em}
    DIV.WideAnnotations {font-family: "Times New Roman", Times, serif; margin-left: 4.0em; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Index {font-family: "Times New Roman", Times, serif}
    DIV.SyntaxSummary {font-family: "Times New Roman", Times, serif; margin-left: 2.0em; margin-bottom: 0.4em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; margin-left: 2.0em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; margin-left: 2.0em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; margin-left: 2.0em; margin-bottom: 0.4em}
    DIV.Indented {font-family: "Times New Roman", Times, serif; margin-left: 6.0em; margin-bottom: 0.6em}
    DIV.CodeIndented {font-family: "Times New Roman", Times, serif; margin-left: 4.0em; margin-bottom: 0.6em}
    DIV.SmallIndented {font-family: "Times New Roman", Times, serif; margin-left:  10.0em; margin-bottom: 0.6em}
    DIV.SmallCodeIndented {font-family: "Times New Roman", Times, serif; margin-left: 8.0em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; margin-left: 2.0em; margin-bottom: 0.6em}
    DIV.SmallExamples {font-family: "Courier New", monospace; font-size: 80%; margin-left: 7.5em; margin-bottom: 0.6em}
    DIV.IndentedExamples {font-family: "Courier New", monospace; margin-left: 8.0em; margin-bottom: 0.6em}
    DIV.SmallIndentedExamples {font-family: "Courier New", monospace; font-size: 80%; margin-left:  15.0em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; margin-left: 2.0em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.SmallBulleted {font-family: "Times New Roman", Times, serif; margin-left: 6.0em; margin-right: 6.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.NestedBulleted {font-family: "Times New Roman", Times, serif; margin-left: 4.0em; margin-right: 4.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.SmallNestedBulleted {font-family: "Times New Roman", Times, serif; margin-left: 8.0em; margin-right: 8.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.IndentedBulleted {font-family: "Times New Roman", Times, serif; margin-left: 8.0em; margin-right: 8.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.CodeIndentedBulleted {font-family: "Times New Roman", Times, serif; margin-left: 6.0em; margin-right: 6.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.CodeIndentedNestedBulleted {font-family: "Times New Roman", Times, serif; margin-left: 8.0em; margin-right: 8.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.SyntaxIndentedBulleted {font-family: "Times New Roman", Times, serif; margin-left: 4.0em; margin-right: 4.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.NotesBulleted {font-family: "Times New Roman", Times, serif; margin-left: 4.0em; margin-right: 4.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.NotesNestedBulleted {font-family: "Times New Roman", Times, serif; margin-left: 6.0em; margin-right: 6.0em; margin-top: 0em; margin-bottom: 0.5em}
    DL.Hanging {font-family: "Times New Roman", Times, serif; margin-top: 0em; margin-bottom: 0.6em}
    DD.Hanging {margin-left: 6.0em}
    DL.IndentedHanging {font-family: "Times New Roman", Times, serif; margin-left: 4.0em; margin-top: 0em; margin-bottom: 0.6em}
    DD.IndentedHanging {margin-left: 2.0em}
    DL.HangingInBulleted {font-family: "Times New Roman", Times, serif; margin-left: 2.0em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DD.HangingInBulleted {margin-left: 4.0em}
    DL.SmallHanging {font-family: "Times New Roman", Times, serif; margin-left: 4.0em; margin-top: 0em; margin-bottom: 0.6em}
    DD.SmallHanging {margin-left: 7.5em}
    DL.SmallIndentedHanging {font-family: "Times New Roman", Times, serif; margin-left: 8.0em; margin-top: 0em; margin-bottom: 0.6em}
    DD.SmallIndentedHanging {margin-left: 2.0em}
    DL.SmallHangingInBulleted {font-family: "Times New Roman", Times, serif; margin-left: 6.0em; margin-right: 6.0em; margin-top: 0em; margin-bottom: 0.5em}
    DD.SmallHangingInBulleted {margin-left: 5.0em}
    DL.Enumerated {font-family: "Times New Roman", Times, serif; margin-right: 0.0em; margin-top: 0em; margin-bottom: 0.5em}
    DD.Enumerated {margin-left: 2.0em}
    DL.SmallEnumerated {font-family: "Times New Roman", Times, serif; margin-left: 4.0em; margin-right: 4.0em; margin-top: 0em; margin-bottom: 0.5em}
    DD.SmallEnumerated {margin-left: 2.5em}
    DL.NestedEnumerated {font-family: "Times New Roman", Times, serif; margin-left: 2.0em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DL.SmallNestedEnumerated {font-family: "Times New Roman", Times, serif; margin-left: 6.0em; margin-right: 6.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#0000FF" VLINK="#800080" ALINK="#FF0000">
<P><A HREF="AA-TOC.html">Contents</A>&nbsp;&nbsp;&nbsp;<A HREF="AA-0-29.html">Index</A>&nbsp;&nbsp;&nbsp;<A HREF="AA-SRCH.html">Search</A>&nbsp;&nbsp;&nbsp;<A HREF="AA-6-3.html">Previous</A>&nbsp;&nbsp;&nbsp;<A HREF="AA-6-3-2.html">Next</A></P>
<HR>
<H1> 6.3.1 Conformance Rules</H1>
<DIV Class="Paranum"><FONT SIZE=-2>1</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;<FONT SIZE="-1">{<I>conformance</I>}</FONT> <A NAME="I3088"></A><A NAME="I3089"></A><A NAME="I3090"></A><A NAME="I3091"></A><A NAME="I3092"></A>[When
subprogram profiles are given in more than one place, they are required
to conform in one of four ways: type conformance, mode conformance, subtype
conformance, or full conformance.] </DIV>

<H4 ALIGN=CENTER>Static Semantics</H4>
<DIV Class="Paranum"><FONT SIZE=-2>2/1</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0011">8652/0011</A></I>}
<FONT SIZE="-1">{<I>convention</I>}</FONT> <A NAME="I3093"></A><FONT SIZE="-1">{<I>calling
convention</I>}</FONT> <A NAME="I3094"></A>[As explained in <A HREF="AA-B-1.html">B.1</A>,
``<A HREF="AA-B-1.html">Interfacing Pragmas</A>'', a <I>convention</I>
can be specified for an entity.] <U>Unless this International Standard
states otherwise, the default convention of an entity is Ada.</U>  [For
a callable entity or access-to-subprogram type, the convention is called
the <I>calling convention</I>.] The following conventions are defined
by the language: </DIV>
<DIV Class="Paranum"><FONT SIZE=-2>3</FONT></DIV>
<UL Class="Bulleted" Style="margin-bottom: 0.3em"><LI TYPE=DISC><FONT SIZE="-1">{<I>Ada
calling convention</I>}</FONT> <A NAME="I3095"></A><FONT SIZE="-1">{<I>calling
convention (Ada)</I>}</FONT> <A NAME="I3096"></A>The default calling
convention for any subprogram not listed below is <I>Ada</I>. [A <FONT FACE="Arial, Helvetica">pragma</FONT>
Convention, Import, or Export may be used to override the default calling
convention (see <A HREF="AA-B-1.html">B.1</A>)]. </LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>3.a</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Ramification: </B>See also
the rule about renamings-as-body in <A HREF="AA-8-5-4.html">8.5.4</A>.
</FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>4</FONT></DIV>
<UL Class="Bulleted" Style="margin-bottom: 0.3em"><LI TYPE=DISC><FONT SIZE="-1">{<I>Intrinsic
calling convention</I>}</FONT> <A NAME="I3097"></A><FONT SIZE="-1">{<I>calling
convention (Intrinsic)</I>}</FONT> <A NAME="I3098"></A>The <I>Intrinsic</I>
calling convention represents subprograms that are ``built in'' to the
compiler. The default calling convention is Intrinsic for the following:
</LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>5</FONT></DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>an enumeration literal;</LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>6</FONT></DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>a &quot;/=&quot; operator declared
implicitly due to the declaration of &quot;=&quot; (see <A HREF="AA-6-6.html">6.6</A>);</LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>7</FONT></DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>any other implicitly declared
subprogram unless it is a dispatching operation of a tagged type;</LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>8</FONT></DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>an inherited subprogram of a
generic formal tagged type with unknown discriminants; </LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>8.a.1/1</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Reason: </B><U>Consider:</U> 
</FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>8.a.2/1</FONT></DIV>
<DIV Class="SmallExamples"><TT><U><B>package</B>&nbsp;P&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Root&nbsp;<B>is&nbsp;tagged&nbsp;null&nbsp;record</B>;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;Proc(X:&nbsp;Root);<BR>
<B>end</B>&nbsp;P;</U> </TT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>8.a.3/1</FONT></DIV>
<DIV Class="SmallExamples"><TT><U><B>generic</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Formal(&lt;&gt;)&nbsp;<B>is&nbsp;new</B>&nbsp;Root&nbsp;<B>with&nbsp;private</B>;<BR>
<B>package</B>&nbsp;G&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;...<BR>
<B>end</B>&nbsp;G;</U> </TT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>8.a.4/1</FONT></DIV>
<DIV Class="SmallExamples"><TT><U><B>package&nbsp;body</B>&nbsp;G&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;...<BR>
&nbsp;&nbsp;&nbsp;&nbsp;X:&nbsp;Formal&nbsp;:=&nbsp;...;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;...<BR>
&nbsp;&nbsp;&nbsp;&nbsp;Proc(X);&nbsp;--&nbsp;This&nbsp;is&nbsp;a&nbsp;dispatching&nbsp;call&nbsp;in&nbsp;Instance,&nbsp;because<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;the&nbsp;actual&nbsp;type&nbsp;for&nbsp;Formal&nbsp;is&nbsp;class-wide.<BR>
&nbsp;&nbsp;&nbsp;&nbsp;...<BR>
&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;Proc'Access&nbsp;would&nbsp;be&nbsp;illegal&nbsp;here,&nbsp;because&nbsp;it&nbsp;is&nbsp;of<BR>
&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;convention&nbsp;Intrinsic,&nbsp;by&nbsp;the&nbsp;above&nbsp;rule.<BR>
<B>end</B>&nbsp;G;</U> </TT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>8.a.5/1</FONT></DIV>
<DIV Class="SmallExamples"><TT><U><B>type</B>&nbsp;Actual&nbsp;<B>is&nbsp;new</B>&nbsp;Root&nbsp;<B>with</B>&nbsp;...;<BR>
<B>procedure</B>&nbsp;Proc(X:&nbsp;Actual);<BR>
<B>package</B>&nbsp;Instance&nbsp;<B>is&nbsp;new</B>&nbsp;G(Formal&nbsp;=&gt;&nbsp;Actual'Class);<BR>
&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;It&nbsp;is&nbsp;legal&nbsp;to&nbsp;pass&nbsp;in&nbsp;a&nbsp;class-wide&nbsp;actual,&nbsp;because&nbsp;Formal<BR>
&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;has&nbsp;unknown&nbsp;discriminants.</U> </TT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>8.a.6/1</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><U>Within Instance, all calls
to Proc will be dispatching calls, so Proc doesn't really exist in machine
code, so we wish to avoid taking 'Access of it. This rule applies to
those cases where the actual type might be class-wide, and makes these
Intrinsic, thus forbidding 'Access.</U>  </FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>9</FONT></DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>an attribute that is a subprogram;</LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>10</FONT></DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>a subprogram declared immediately
within a <FONT FACE="Arial, Helvetica">protected_body</FONT>. </LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>11</FONT></DIV>
<UL Class="Bulleted">[The Access attribute is not allowed for Intrinsic
subprograms.] </UL>
<DIV Class="Paranum"><FONT SIZE=-2>11.a</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Ramification: </B>The Intrinsic
calling convention really represents any number of calling conventions
at the machine code level; the compiler might have a different instruction
sequence for each intrinsic. That's why the Access attribute is disallowed.
We do not wish to require the implementation to generate an out of line
body for an intrinsic.</FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>11.b</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1">Whenever we wish to disallow
the Access attribute in order to ease implementation, we make the subprogram
Intrinsic. Several language-defined subprograms have ``<B>pragma</B>
Convention(Intrinsic, ...);''. An implementation might actually implement
this as ``<B>pragma</B> Import(Intrinsic, ...);'', if there is really
no body, and the implementation of the subprogram is built into the code
generator.</FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>11.c</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1">Subprograms declared in <FONT FACE="Arial, Helvetica">protected_bodies</FONT>
will generally have a special calling convention so as to pass along
the identification of the current instance of the protected type. The
convention is not <I>protected</I> since such local subprograms need
not contain any ``locking'' logic since they are not callable via ``external''
calls; this rule prevents an access value designating such a subprogram
from being passed outside the protected unit.</FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>11.d</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1">The ``implicitly declared subprogram''
above refers to predefined operators (other than the &quot;=&quot; of
a tagged type) and the inherited subprograms of untagged types. </FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>12</FONT></DIV>
<UL Class="Bulleted"><LI TYPE=DISC><FONT SIZE="-1">{<I>protected calling
convention</I>}</FONT> <A NAME="I3099"></A><FONT SIZE="-1">{<I>calling
convention (protected)</I>}</FONT> <A NAME="I3100"></A>The default calling
convention is <I>protected</I> for a protected subprogram, and for an
access-to-subprogram type with the reserved word <B>protected</B> in
its definition.</LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>13</FONT></DIV>
<UL Class="Bulleted"><LI TYPE=DISC><FONT SIZE="-1">{<I>entry calling
convention</I>}</FONT> <A NAME="I3101"></A><FONT SIZE="-1">{<I>calling
convention (entry)</I>}</FONT> <A NAME="I3102"></A>The default calling
convention is <I>entry</I> for an entry.</LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>13.1/1</FONT></DIV>
<UL Class="Bulleted"><LI TYPE=DISC>{<I><A HREF="defect1.html#8652/0011">8652/0011</A></I>}
<U>[If not specified above as Intrinsic, the calling convention for any
inherited or overriding dispatching operation of a tagged type is that
of the corresponding subprogram of the parent type.] The default calling
convention for a new dispatching operation of a tagged type is the convention
of the type.</U>  </LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>13.a.1/1</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Reason: </B><U>The first
rule is officially stated in <A HREF="AA-3-9-2.html">3.9.2</A>. The second
is intended to make interfacing to foreign OOP languages easier, by making
the default be that the type and operations all have the same convention.</U> 
</FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>14</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;Of these four conventions, only Ada and Intrinsic
are allowed as a <I>convention_</I><FONT FACE="Arial, Helvetica">identifier</FONT>
in a <FONT FACE="Arial, Helvetica">pragma</FONT> Convention, Import,
or Export. </DIV>
<DIV Class="Paranum"><FONT SIZE=-2>14.a</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Discussion: </B>The names
of the <I>protected</I> and <I>entry</I> calling conventions cannot be
used in the interfacing pragmas. Note that <B>protected</B> and <B>entry</B>
are reserved words. </FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>15</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;<FONT SIZE="-1">{<I>type conformance</I>}</FONT>
<A NAME="I3103"></A><FONT SIZE="-1">{<I>profile (type conformant)</I>}</FONT>
<A NAME="I3104"></A>Two profiles are <I>type conformant</I> if they have
the same number of parameters, and both have a result if either does,
and corresponding parameter and result types are the same, or, for access
parameters, corresponding designated types are the same. <FONT SIZE="-1">{<I>type
profile: See profile, type conformant</I>}</FONT> <A NAME="I3105"></A></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>15.a</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Discussion: </B>For access
parameters, the designated types have to be the same for type conformance,
not the access types, since in general each access parameter has its
own anonymous access type, created when the subprogram is called. Of
course, corresponding parameters have to be either both access parameters
or both not access parameters. </FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>16</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;<FONT SIZE="-1">{<I>mode conformance</I>}</FONT>
<A NAME="I3106"></A><FONT SIZE="-1">{<I>profile (mode conformant)</I>}</FONT>
<A NAME="I3107"></A>Two profiles are <I>mode conformant</I> if they are
type-conformant, and corresponding parameters have identical modes, and,
for access parameters, the designated subtypes statically match. <FONT SIZE="-1">{<I>statically
matching (required)</I> [partial]}</FONT> <A NAME="I3108"></A></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>17</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;<FONT SIZE="-1">{<I>subtype conformance</I>}</FONT>
<A NAME="I3109"></A><FONT SIZE="-1">{<I>profile (subtype conformant)</I>}</FONT>
<A NAME="I3110"></A>Two profiles are <I>subtype conformant</I> if they
are mode-conformant, corresponding subtypes of the profile statically
match, and the associated calling conventions are the same. The profile
of a generic formal subprogram is not subtype-conformant with any other
profile. <FONT SIZE="-1">{<I>statically matching (required)</I> [partial]}</FONT>
<A NAME="I3111"></A></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>17.a</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Ramification: </B>{<I>generic
contract issue</I> [partial]} <A NAME="I3112"></A></FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>18</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;<FONT SIZE="-1">{<I>full conformance (for profiles)</I>}</FONT>
<A NAME="I3113"></A><FONT SIZE="-1">{<I>profile (fully conformant)</I>}</FONT>
<A NAME="I3114"></A>Two profiles are <I>fully conformant</I> if they
are subtype-conformant, and corresponding parameters have the same names
and have <FONT FACE="Arial, Helvetica">default_expression</FONT>s that
are fully conformant with one another. </DIV>
<DIV Class="Paranum"><FONT SIZE=-2>18.a</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Ramification: </B>Full conformance
requires subtype conformance, which requires the same calling conventions.
However, the calling convention of the declaration and body of a subprogram
or entry are always the same by definition. </FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>19</FONT></DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;&nbsp;&nbsp;&nbsp;<FONT SIZE="-1">{<I>full
conformance (for expressions)</I>}</FONT> <A NAME="I3115"></A>Two expressions
are <I>fully conformant</I> if, [after replacing each use of an operator
with the equivalent <FONT FACE="Arial, Helvetica">function_call</FONT>:]
</DIV>
<DIV Class="Paranum"><FONT SIZE=-2>20</FONT></DIV>
<UL Class="Bulleted"><LI TYPE=DISC>each constituent construct of one
corresponds to an instance of the same syntactic category in the other,
except that an expanded name may correspond to a <FONT FACE="Arial, Helvetica">direct_name</FONT>
(or <FONT FACE="Arial, Helvetica">character_literal</FONT>) or to a different
expanded name in the other; and</LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>21</FONT></DIV>
<UL Class="Bulleted"><LI TYPE=DISC>each <FONT FACE="Arial, Helvetica">direct_name</FONT>,
<FONT FACE="Arial, Helvetica">character_literal</FONT>, and <FONT FACE="Arial, Helvetica">selector_name</FONT>
that is not part of the <FONT FACE="Arial, Helvetica">prefix</FONT> of
an expanded name in one denotes the same declaration as the corresponding
<FONT FACE="Arial, Helvetica">direct_name</FONT>, <FONT FACE="Arial, Helvetica">character_literal</FONT>,
or <FONT FACE="Arial, Helvetica">selector_name</FONT> in the other; and
</LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>21.a</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Ramification: </B>Note that
it doesn't say ``respectively'' because a <FONT FACE="Arial, Helvetica">direct_name</FONT>
can correspond to a <FONT FACE="Arial, Helvetica">selector_name</FONT>,
and vice-versa, by the previous bullet. This rule allows the <FONT FACE="Arial, Helvetica">prefix</FONT>
of an expanded name to be removed, or replaced with a different <FONT FACE="Arial, Helvetica">prefix</FONT>
that denotes a renaming of the same entity. However, it does not allow
a <FONT FACE="Arial, Helvetica">direct_name</FONT> or <FONT FACE="Arial, Helvetica">selector_name</FONT>
to be replaced with one denoting a distinct renaming (except for <FONT FACE="Arial, Helvetica">direct_name</FONT>s
and <FONT FACE="Arial, Helvetica">selector_name</FONT>s in <FONT FACE="Arial, Helvetica">prefix</FONT>es
of expanded names). Note that calls using operator notation are equivalent
to calls using prefix notation.</FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>21.b</FONT></DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em"><FONT SIZE="-1">Given
the following declarations: </FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>21.c</FONT></DIV>
<DIV Class="SmallExamples"><TT><B>package</B>&nbsp;A&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;F(X&nbsp;:&nbsp;Integer&nbsp;:=&nbsp;1)&nbsp;<B>return</B>&nbsp;Boolean;<BR>
<B>end</B>&nbsp;A;</TT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>21.d</FONT></DIV>
<DIV Class="SmallExamples"><TT><B>with</B>&nbsp;A;<BR>
<B>package</B>&nbsp;B&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>package</B>&nbsp;A_View&nbsp;<B>renames</B>&nbsp;A;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;F_View(X&nbsp;:&nbsp;Integer&nbsp;:=&nbsp;9999)&nbsp;<B>return</B>&nbsp;Boolean&nbsp;<B>renames</B>&nbsp;F;<BR>
<B>end</B>&nbsp;B;</TT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>21.e</FONT></DIV>
<DIV Class="SmallExamples"><TT><B>with</B>&nbsp;A,&nbsp;B;&nbsp;<B>use</B>&nbsp;A,&nbsp;B;<BR>
<B>procedure</B>&nbsp;Main&nbsp;<B>is</B>&nbsp;...</TT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>21.f</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1">Within Main, the expressions
``F'', ``A.F'', ``B.A_View.F'', and ``A_View.F'' are all fully conformant
with one another. However, ``F'' and ``F_View'' are not fully conformant.
If they were, it would be bad news, since the two denoted views have
different <FONT FACE="Arial, Helvetica">default_expression</FONT>s. </FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>21.1/1</FONT></DIV>
<UL Class="Bulleted"><LI TYPE=DISC>{<I><A HREF="defect1.html#8652/0018">8652/0018</A></I>}
<U>each <FONT FACE="Arial, Helvetica">attribute_designator</FONT> in
one must be the same as the corresponding <FONT FACE="Arial, Helvetica">attribute_designator</FONT>
in the other; and</U> </LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>22</FONT></DIV>
<UL Class="Bulleted"><LI TYPE=DISC>each <FONT FACE="Arial, Helvetica">primary</FONT>
that is a literal in one has the same value as the corresponding literal
in the other. </LI></UL>
<DIV Class="Paranum"><FONT SIZE=-2>22.a</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Ramification: </B>The literals
may be written differently. </FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>22.b</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Ramification: </B>Note that
the above definition makes full conformance a transitive relation. </FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>23</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;<FONT SIZE="-1">{<I>full conformance (for known_discriminant_parts)</I>}</FONT>
<A NAME="I3116"></A>Two <FONT FACE="Arial, Helvetica">known_discriminant_part</FONT>s
are <I>fully conformant</I> if they have the same number of discriminants,
and discriminants in the same positions have the same names, statically
matching subtypes, and <FONT FACE="Arial, Helvetica">default_expression</FONT>s
that are fully conformant with one another. <FONT SIZE="-1">{<I>statically
matching (required)</I> [partial]}</FONT> <A NAME="I3117"></A></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>24</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;<FONT SIZE="-1">{<I>full conformance (for discrete_subtype_definitions)</I>}</FONT>
<A NAME="I3118"></A>Two <FONT FACE="Arial, Helvetica">discrete_subtype_definition</FONT>s
are <I>fully conformant</I> if they are both <FONT FACE="Arial, Helvetica">subtype_indication</FONT>s
or are both <FONT FACE="Arial, Helvetica">range</FONT>s, the <FONT FACE="Arial, Helvetica">subtype_mark</FONT>s
(if any) denote the same subtype, and the corresponding <FONT FACE="Arial, Helvetica">simple_expression</FONT>s
of the <FONT FACE="Arial, Helvetica">range</FONT>s (if any) fully conform.
</DIV>
<DIV Class="Paranum"><FONT SIZE=-2>24.a</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Ramification: </B>In the
<FONT FACE="Arial, Helvetica">subtype_indication</FONT> case, any ranges
have to <I>be</I> corresponding; that is, two <FONT FACE="Arial, Helvetica">subtype_indication</FONT>s
cannot conform unless both or neither has a <FONT FACE="Arial, Helvetica">range</FONT>.
</FONT></DIV>
<DIV Class="Paranum"><FONT SIZE=-2>24.b</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1"><B>Discussion: </B>This definition
is used in <A HREF="AA-9-5-2.html">9.5.2</A>, ``<A HREF="AA-9-5-2.html">Entries
and Accept Statements</A>'' for the conformance required between the
<FONT FACE="Arial, Helvetica">discrete_subtype_definition</FONT>s of
an <FONT FACE="Arial, Helvetica">entry_declaration</FONT> for a family
of entries and the corresponding <FONT FACE="Arial, Helvetica">entry_index_specification</FONT>
of the <FONT FACE="Arial, Helvetica">entry_body</FONT>. </FONT></DIV>

<H4 ALIGN=CENTER>Implementation Permissions</H4>
<DIV Class="Paranum"><FONT SIZE=-2>25</FONT></DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;&nbsp;An implementation may declare an operator declared
in a language-defined library unit to be intrinsic.</DIV>

<H4 ALIGN=CENTER>Extensions to Ada 83</H4>
<DIV Class="Paranum"><FONT SIZE=-2>25.a</FONT></DIV>
<DIV Class="Annotations"><FONT SIZE="-1">{<I>extensions to Ada 83</I>}
<A NAME="I3119"></A>The rules for full conformance are relaxed -- they
are now based on the structure of constructs, rather than the sequence
of lexical elements. This implies, for example, that &quot;(X, Y: T)&quot;
conforms fully with &quot;(X: T; Y: T)&quot;, and &quot;(X: T)&quot;
conforms fully with &quot;(X: <B>in</B> T)&quot;. </FONT></DIV>

<HR>
<P><A HREF="AA-TOC.html">Contents</A>&nbsp;&nbsp;&nbsp;<A HREF="AA-0-29.html">Index</A>&nbsp;&nbsp;&nbsp;<A HREF="AA-SRCH.html">Search</A>&nbsp;&nbsp;&nbsp;<A HREF="AA-6-3.html">Previous</A>&nbsp;&nbsp;&nbsp;<A HREF="AA-6-3-2.html">Next</A>&nbsp;&nbsp;&nbsp;<A HREF="AA-TTL.html">Legal</A></P>
</BODY>
</HTML>
