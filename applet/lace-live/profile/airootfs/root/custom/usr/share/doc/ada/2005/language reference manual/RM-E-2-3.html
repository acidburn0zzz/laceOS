<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Remote Call Interface Library Units</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B></SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-E-2-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-E-3.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>E.2.3 Remote Call Interface Library Units</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal">A remote call interface library unit can be used 
as an interface for remote procedure calls (RPCs) (or remote function 
calls) between active partitions.&nbsp;</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2</DIV>
<DIV Class="SyntaxIndented" Style="margin-bottom: 0.2em"><A NAME="I7099"></A><A NAME="I7100"></A>The 
form of a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> 
Remote_Call_Interface is as follows:&nbsp;</DIV>
<DIV Class="paranum">3</DIV>
<DIV Class="SyntaxIndented">&nbsp;&nbsp;<B>pragma</B> <A NAME="I7101"></A><A NAME="I7102"></A>Remote_Call_Interface[(<I>library_unit_</I><A NAME="I7103"></A><SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN>)];</DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="SyntaxIndented" Style="margin-bottom: 0.2em">The form of 
a <SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> All_Calls_Remote 
is as follows:&nbsp;</DIV>
<DIV Class="paranum">5</DIV>
<DIV Class="SyntaxIndented">&nbsp;&nbsp;<B>pragma</B> <A NAME="I7104"></A><A NAME="I7105"></A>All_Calls_Remote[(<I>library_unit_</I><A NAME="I7106"></A><SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN>)];</DIV>
<DIV Class="paranum">6</DIV>
<DIV Class="SyntaxIndented"><A NAME="I7107"></A><A NAME="I7108"></A>A 
<SPAN Class="swiss"><A HREF="RM-2-8.html#S0019">pragma</A></SPAN> All_Calls_Remote 
is a library unit pragma.&nbsp;</DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">7/1</DIV>
<DIV Class="Normal"><A NAME="I7109"></A><A NAME="I7110"></A><A NAME="I7111"></A><A NAME="I7112"></A><A NAME="I7113"></A>A 
<I>remote call interface (RCI)</I> is a library unit to which the pragma 
Remote_Call_Interface applies. A subprogram declared in the visible part 
of such a library unit, or declared by such a library unit, is called 
a <I>remote subprogram</I>.</DIV>
<DIV Class="paranum">8</DIV>
<DIV Class="Normal">The declaration of an RCI library unit shall be preelaborable 
(see <A HREF="RM-10-2-1.html">10.2.1</A>), and shall depend semantically 
only upon declared pure, shared passive, remote types, or other remote 
call interface library units.</DIV>
<DIV Class="paranum">9/1</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">In addition, the following 
restrictions apply to an RCI library unit:&nbsp;</DIV>
<DIV Class="paranum">10/1</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>its visible part shall not contain 
the declaration of a variable;&nbsp;</LI></UL>
<DIV Class="paranum">11/1</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>its visible part shall not contain 
the declaration of a limited type;&nbsp;</LI></UL>
<DIV Class="paranum">12/1</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>its visible part shall not contain 
a nested <SPAN Class="swiss"><A HREF="RM-12-1.html#S0252">generic_declaration</A></SPAN>; 
</LI></UL>
<DIV Class="paranum">13/1</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>it shall not be, nor shall its visible 
part contain, the declaration of a subprogram to which a pragma Inline 
applies;</LI></UL>
<DIV Class="paranum">14/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>it shall not be, nor shall its visible 
part contain, a subprogram (or access-to-subprogram) declaration whose 
profile has an access parameter or a parameter of a type that does not 
support external streaming (see <A HREF="RM-13-13-2.html">13.13.2</A>);</LI></UL>
<DIV Class="paranum">15</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>any public child of the library unit 
shall be a remote call interface library unit.&nbsp;</LI></UL>
<DIV Class="paranum">16</DIV>
<DIV Class="Normal">If a pragma All_Calls_Remote applies to a library 
unit, the library unit shall be a remote call interface.&nbsp;</DIV>

<H4 Class="centered">Post-Compilation Rules</H4>
<DIV Class="paranum">17</DIV>
<DIV Class="Normal">A remote call interface library unit shall be assigned 
to at most one partition of a given program. A remote call interface 
library unit whose parent is also an RCI library unit shall be assigned 
only to the same partition as its parent.&nbsp;</DIV>
<DIV Class="paranum">18</DIV>
<DIV Class="Normal"><A NAME="I7114"></A><A NAME="I7115"></A><A NAME="I7116"></A>Notwithstanding 
the rule given in <A HREF="RM-10-2.html">10.2</A>, a compilation unit 
in a given partition that semantically depends on the declaration of 
an RCI library unit, <I>needs</I> (in the sense of <A HREF="RM-10-2.html">10.2</A>) 
only the declaration of the RCI library unit, not the body, to be included 
in that same partition. Therefore, the body of an RCI library unit is 
included only in the partition to which the RCI library unit is explicitly 
assigned.</DIV>

<H4 Class="centered">Implementation Requirements</H4>
<DIV Class="paranum">19/1</DIV>
<DIV Class="Normal">&nbsp;If a pragma All_Calls_Remote applies to a given 
RCI library unit, then the implementation shall route any call to a subprogram 
of the RCI unit from outside the declarative region of the unit through 
the Partition Communication Subsystem (PCS); see <A HREF="RM-E-5.html">E.5</A>. 
Calls to such subprograms from within the declarative region of the unit 
are defined to be local and shall not go through the PCS.&nbsp;</DIV>

<H4 Class="centered">Implementation Permissions</H4>
<DIV Class="paranum">20</DIV>
<DIV Class="Normal">An implementation need not support the Remote_Call_Interface 
pragma nor the All_Calls_Remote pragma. Explicit message-based communication 
between active partitions can be supported as an alternative to RPC. 
</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-E-2-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-E-3.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
