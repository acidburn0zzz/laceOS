<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Operational and Representation Aspects</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert4 {text-decoration: underline; color: rgb(153,0,0) }
    SPAN.delete4 {text-decoration: line-through; color: rgb(153,0,0) }
    A.Bar:link {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    A.Bar:visited {font-family: Arial, Helvetica, sans-serif; font-style: normal; text-decoration: none; color: rgb(204,204,51)}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Indented1 {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SmallExamples {font-family: "Courier New", monospace; font-size: 72%; line-height: 122%; margin-left: 9.6em; margin-bottom: 0.6em}
    DIV.Bulleted-NoPrefix {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    DIV.SmallBulleted-NoPrefix {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 8.7em; margin-right: 2.5em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.SmallBulleted {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 8.7em; margin-right: 2.5em; margin-top: 0em; margin-bottom: 0.5em; display: list-item; list-style-type: disc}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<div style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-13.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-13-1-1.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<HR>
<H1>13.1 Operational and Representation Aspects</H1>
<div class="paranum"><a name="p0.1">0.1/3</a></div>
<div class="Normal">&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
[<A NAME="I5352"></A>Two kinds of aspects of entities can be specified: 
representation aspects and operational aspects. Representation aspects 
affect how the types and other entities of the language are to be mapped 
onto the underlying machine. Operational aspects determine other properties 
of entities.]</div>
<div class="paranum"><a name="p0.2">0.2/3</a></div>
<div class="Normal">&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
[Either kind of aspect of an entity may be specified by means of an <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
(see <A HREF="AA-13-1-1.html">13.1.1</A>), which is an optional element 
of most kinds of declarations and applies to the entity or entities being 
declared. Aspects may also be specified by certain other constructs occurring 
subsequent to the declaration of the affected entity: a representation 
aspect value may be specified by means of a representation item and an 
operational aspect value may be specified by means of an operational 
item.]</div>
<div class="paranum"><a name="p1">1/1</a></div>
<div class="Normal">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
<A NAME="I5353"></A><A NAME="I5354"></A><A NAME="I5355"></A>There are 
six kinds of <I>representation items</I>: <SPAN Class="swiss"><A HREF="AA-13-3.html#S0310">attribute_definition_clause</A></SPAN>s 
for representation attributes, <SPAN Class="swiss"><A HREF="AA-13-4.html#S0311">enumeration_representation_clause</A></SPAN>s, 
<SPAN Class="swiss"><A HREF="AA-13-5-1.html#S0313">record_representation_clause</A></SPAN>s, 
<SPAN Class="swiss"><A HREF="AA-J-7.html#S0323">at_clause</A></SPAN>s, 
<SPAN Class="swiss"><A HREF="AA-13-5-1.html#S0314">component_clause</A></SPAN>s, 
and <I>representation pragmas</I>. [ They can be provided to give more 
efficient representation or to interface with features that are outside 
the domain of the language (for example, peripheral hardware). ]</div>
<div class="paranum"><a name="p1.1">1.1/1</a></div>
<div class="Normal">&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
An <A NAME="I5356"></A><I>operational item</I> is an <SPAN Class="swiss"><A HREF="AA-13-3.html#S0310">attribute_definition_clause</A></SPAN> 
for an operational attribute.</div>
<div class="paranum"><a name="p1.2">1.2/1</a></div>
<div class="Normal">&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
[An operational item or a representation item applies to an entity identified 
by a <SPAN Class="swiss"><A HREF="AA-13-1.html#S0306">local_name</A></SPAN>, 
which denotes an entity declared local to the current declarative region, 
or a library unit declared immediately preceding a representation pragma 
in a <SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0246">compilation</A></SPAN>.] 
</div>

<H4 Class="centered">Language Design Principles</H4>
<div class="paranum"><a name="p1.a">1.a/3</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
Representation aspects are intended to refer to properties that need 
to be known before the compiler can generate code to create or access 
an entity. For instance, the size of an object needs to be known before 
the object can be created. Conversely, operational aspects are those 
that only need to be known before they can be used. For instance, how 
an object is read from a stream only needs to be known when a stream 
read is executed. Thus, representation aspects have stricter rules as 
to when they can be specified.</div>
<div class="paranum"><a name="p1.a.1">1.a.1/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
Confirming the value of an aspect should never change the semantics of 
the aspect. Thus Size = 8 (for example) means the same thing whether 
it was specified with a representation item or whether the compiler chose 
this value by default.&nbsp;</div>
<div class="paranum"><a name="p1.a.2">1.a.2/3</a></div>
<div class="Annotations"><B>Glossary entry:&nbsp;</B>An aspect is a specifiable 
property of an entity. An aspect may be specified by an <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
on the declaration of the entity. Some aspects may be queried via attributes.</div>

<H4 Class="centered">Syntax</H4>
<div class="paranum"><a name="p2">2/1</a></div>
<div class="Indented1">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
<SPAN Class="swiss">aspect_clause</SPAN><A NAME="I5357"></A><A NAME="S0304"></A><A NAME="S0305"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><A NAME="I5358"></A><SPAN Class="swiss"><A HREF="AA-13-3.html#S0310">attribute_definition_clause</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5359"></A><SPAN Class="swiss"><A HREF="AA-13-4.html#S0311">enumeration_representation_clause</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5360"></A><SPAN Class="swiss"><A HREF="AA-13-5-1.html#S0313">record_representation_clause</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5361"></A><SPAN Class="swiss"><A HREF="AA-J-7.html#S0323">at_clause</A></SPAN></div>
<div class="paranum"><a name="p3">3</a></div>
<div class="Indented1"><SPAN Class="swiss">local_name</SPAN><A NAME="I5362"></A><A NAME="S0306"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><A NAME="I5363"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<A NAME="I5364"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN>'<A NAME="I5365"></A><SPAN Class="swiss"><A HREF="AA-4-1-4.html#S0101">attribute_designator</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;<I>library_unit_</I><A NAME="I5366"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN></div>
<div class="paranum"><a name="p4">4/1</a></div>
<div class="Indented1">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
A representation pragma is allowed only at places where an <SPAN Class="swiss"><A HREF="AA-13-1.html#S0304">aspect_clause</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0247">compilation_unit</A></SPAN> 
is allowed. <A NAME="I5367"></A></div>

<H4 Class="centered">Name Resolution Rules</H4>
<div class="paranum"><a name="p5">5/1</a></div>
<div class="Normal">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
In an operational item or representation item, if the <SPAN Class="swiss"><A HREF="AA-13-1.html#S0306">local_name</A></SPAN> 
is a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0092">direct_name</A></SPAN>, 
then it shall resolve to denote a declaration (or, in the case of a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>, 
one or more declarations) that occurs immediately within the same declarative 
region as the item. If the <SPAN Class="swiss"><A HREF="AA-13-1.html#S0306">local_name</A></SPAN> 
has an <SPAN Class="swiss"><A HREF="AA-4-1-4.html#S0101">attribute_designator</A></SPAN>, 
then it shall resolve to denote an implementation-defined component (see 
<A HREF="AA-13-5-1.html">13.5.1</A>) or a class-wide type implicitly 
declared immediately within the same declarative region as the item. 
A <SPAN Class="swiss"><A HREF="AA-13-1.html#S0306">local_name</A></SPAN> 
that is a <I>library_unit_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
(only permitted in a representation pragma) shall resolve to denote the 
<SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0248">library_item</A></SPAN> 
that immediately precedes (except for other pragmas) the representation 
pragma.&nbsp;</div>
<div class="paranum"><a name="p5.a">5.a/1</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
This is a Name Resolution Rule, because we don't want an operational 
or representation item for X to be ambiguous just because there's another 
X declared in an outer declarative region. It doesn't make much difference, 
since most operational or representation items are for types or subtypes, 
and type and subtype names can't be overloaded.&nbsp;</div>
<div class="paranum"><a name="p5.b">5.b/1</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
The visibility rules imply that the declaration has to occur before the 
operational or representation item.</div>
<div class="paranum"><a name="p5.c">5.c/1</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
For objects, this implies that operational or representation items can 
be applied only to stand-alone objects.&nbsp;</div>

<H4 Class="centered">Legality Rules</H4>
<div class="paranum"><a name="p6">6/1</a></div>
<div class="Normal">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
The <SPAN Class="swiss"><A HREF="AA-13-1.html#S0306">local_name</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="AA-13-1.html#S0304">aspect_clause</A></SPAN> 
or representation pragma shall statically denote an entity (or, in the 
case of a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>, 
one or more entities) declared immediately preceding it in a <SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0246">compilation</A></SPAN>, 
or within the same <SPAN Class="swiss"><A HREF="AA-3-11.html#S0086">declarative_part</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-7-1.html#S0191">package_specification</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-9-1.html#S0207">task_definition</A></SPAN>, 
<SPAN Class="swiss"><A HREF="AA-9-4.html#S0212">protected_definition</A></SPAN>, 
or <SPAN Class="swiss"><A HREF="AA-3-8.html#S0067">record_definition</A></SPAN> 
as the representation or operational item. If a <SPAN Class="swiss"><A HREF="AA-13-1.html#S0306">local_name</A></SPAN> 
denotes a [local] callable entity, it may do so through a [local] <SPAN Class="swiss"><A HREF="AA-8-5-4.html#S0203">subprogram_renaming_declaration</A></SPAN> 
[(as a way to resolve ambiguity in the presence of overloading)]; otherwise, 
the <SPAN Class="swiss"><A HREF="AA-13-1.html#S0306">local_name</A></SPAN> 
shall not denote a <SPAN Class="swiss"><A HREF="AA-8-5.html#S0199">renaming_declaration</A></SPAN>. 
</div>
<div class="paranum"><a name="p6.a">6.a</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>The &ldquo;statically denote&rdquo; 
part implies that it is impossible to specify the representation of an 
object that is not a stand-alone object, except in the case of a representation 
item like pragma Atomic that is allowed inside a <SPAN Class="swiss"><A HREF="AA-3-8.html#S0068">component_list</A></SPAN> 
(in which case the representation item specifies the representation of 
components of all objects of the type). It also prevents the problem 
of renamings of things like &ldquo;P.<B>all</B>&rdquo; (where P is an 
access-to-subprogram value) or &ldquo;E(I)&rdquo; (where E is an entry 
family).</div>
<div class="paranum"><a name="p6.b">6.b</a></div>
<div class="Annotations">The part about where the denoted entity has 
to have been declared appears twice &mdash; once as a Name Resolution 
Rule, and once as a Legality Rule. Suppose P renames Q, and we have a 
representation item in a <SPAN Class="swiss"><A HREF="AA-3-11.html#S0086">declarative_part</A></SPAN> 
whose <SPAN Class="swiss"><A HREF="AA-13-1.html#S0306">local_name</A></SPAN> 
is P. The fact that the representation item has to appear in the same 
<SPAN Class="swiss"><A HREF="AA-3-11.html#S0086">declarative_part</A></SPAN> 
as P is a Name Resolution Rule, whereas the fact that the representation 
item has to appear in the same <SPAN Class="swiss"><A HREF="AA-3-11.html#S0086">declarative_part</A></SPAN> 
as Q is a Legality Rule. This is subtle, but it seems like the least 
confusing set of rules.&nbsp;</div>
<div class="paranum"><a name="p6.c">6.c</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>A separate Legality Rule 
applies for <SPAN Class="swiss"><A HREF="AA-13-5-1.html#S0314">component_clause</A></SPAN>s. 
See <A HREF="AA-13-5-1.html">13.5.1</A>, &ldquo;<A HREF="AA-13-5-1.html">Record 
Representation Clauses</A>&rdquo;.&nbsp;</div>
<div class="paranum"><a name="p7">7/2</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
<A NAME="I5368"></A><A NAME="I5369"></A>The <I>representation</I> of 
an object consists of a certain number of bits (the <I>size</I> of the 
object). For an object of an elementary type, these are the bits that 
are normally read or updated by the machine code when loading, storing, 
or operating-on the value of the object. For an object of a composite 
type, these are the bits reserved for this object, and include bits occupied 
by subcomponents of the object. If the size of an object is greater than 
that of its subtype, the additional bits are padding bits. <A NAME="I5370"></A>For 
an elementary object, these padding bits are normally read and updated 
along with the others. For a composite object, padding bits might not 
be read or updated in any given composite operation, depending on the 
implementation.</div>
<div class="paranum"><a name="p7.a">7.a/2</a></div>
<div class="Annotations"><B>To be honest:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
<A NAME="I5371"></A><A NAME="I5372"></A>Discontiguous representations 
are allowed, but the ones we're interested in here are generally contiguous 
sequences of bits. For a discontiguous representation, the size doesn't 
necessarily describe the &ldquo;footprint&rdquo; of the object in memory 
(that is, the amount of space taken in the address space for the object). 
</div>
<div class="paranum"><a name="p7.a.1">7.a.1/2</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
In the case of composite objects, we want the implementation to have 
the flexibility to either do operations component-by-component, or with 
a block operation covering all of the bits. We carefully avoid giving 
a preference in the wording. There is no requirement for the choice to 
be documented, either, as the implementation can make that choice based 
on many factors, and could make a different choice for different operations 
on the same object.</div>
<div class="paranum"><a name="p7.a.2">7.a.2/2</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
In the case of a properly aligned, contiguous object whose size is a 
multiple of the storage unit size, no other bits should be read or updated 
as part of operating on the object. We don't say this normatively because 
it would be difficult to normatively define &ldquo;properly aligned&rdquo; 
or &ldquo;contiguous&rdquo;.&nbsp;</div>
<div class="paranum"><a name="p7.b">7.b</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><B>Ramification: 
</B>Two objects with the same value do not necessarily have the same 
representation. For example, an implementation might represent False 
as zero and True as any odd value. Similarly, two objects (of the same 
type) with the same sequence of bits do not necessarily have the same 
value. For example, an implementation might use a biased representation 
in some cases but not others:&nbsp;</div>
<div class="paranum"><a name="p7.c">7.c/3</a></div>
<div class="SmallExamples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0229-1.TXT">AI05-0229-1</A></I>} 
<B>subtype</B>&nbsp;S&nbsp;<B>is</B>&nbsp;Integer&nbsp;<B>range</B>&nbsp;1..256;<BR>
<B>type</B>&nbsp;A&nbsp;<B>is</B>&nbsp;<B>array</B>(Natural&nbsp;<B>range</B>&nbsp;1..4)&nbsp;<B>of</B>&nbsp;S<BR>
&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;Pack;<BR>
X&nbsp;:&nbsp;S&nbsp;:=&nbsp;3;<BR>
Y&nbsp;:&nbsp;A&nbsp;:=&nbsp;(1,&nbsp;2,&nbsp;3,&nbsp;4);</div>
<div class="paranum"><a name="p7.d">7.d</a></div>
<div class="Annotations">The implementation might use a biased-by-1 representation 
for the array elements, but not for X. X and Y(3) have the same value, 
but different representation: the representation of X is a sequence of 
(say) 32 bits: 0...011, whereas the representation of Y(3) is a sequence 
of 8 bits: 00000010 (assuming a two's complement representation).</div>
<div class="paranum"><a name="p7.e">7.e</a></div>
<div class="Annotations">Such tricks are not required, but are allowed. 
</div>
<div class="paranum"><a name="p7.f">7.f</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>The value of any padding 
bits is not specified by the language, though for a numeric type, it 
will be much harder to properly implement the predefined operations if 
the padding bits are not either all zero, or a sign extension.&nbsp;</div>
<div class="paranum"><a name="p7.g">7.g/3</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0229-1.TXT">AI05-0229-1</A></I>} 
For example, suppose S'Size = 2, and an object X is of subtype S. If 
the machine code typically uses a 32-bit load instruction to load the 
value of X, then X'Size should be 32, even though 30 bits of the value 
are just zeros or sign-extension bits. On the other hand, if the machine 
code typically masks out those 30 bits, then X'Size should be 2. Usually, 
such masking only happens for components of a composite type for which 
Pack, Component_Size, or record layout is specified.</div>
<div class="paranum"><a name="p7.h">7.h</a></div>
<div class="Annotations">Note, however, that the formal parameter of 
an instance of Unchecked_Conversion is a special case. Its Size is required 
to be the same as that of its subtype.</div>
<div class="paranum"><a name="p7.i">7.i</a></div>
<div class="Annotations">Note that we don't generally talk about the 
representation of a value. A value is considered to be an amorphous blob 
without any particular representation. An object is considered to be 
more concrete.&nbsp;</div>
<div class="paranum"><a name="p8">8/3</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0112-1.TXT">AI05-0112-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
<A NAME="I5373"></A><A NAME="I5374"></A><A NAME="I5375"></A>A representation 
item <I>directly specifies</I> a <I>representation aspect</I> of the 
entity denoted by the <SPAN Class="swiss"><A HREF="AA-13-1.html#S0306">local_name</A></SPAN>, 
except in the case of a type-related representation item, whose <SPAN Class="swiss"><A HREF="AA-13-1.html#S0306">local_name</A></SPAN> 
shall denote a first subtype, and which directly specifies an aspect 
of the subtype's type. <A NAME="I5376"></A><A NAME="I5377"></A><A NAME="I5378"></A><A NAME="I5379"></A>A 
representation item that names a subtype is either <I>subtype-specific</I> 
(Size and Alignment clauses) or <I>type-related</I> (all others). [Subtype-specific 
aspects may differ for different subtypes of the same type.]</div>
<div class="paranum"><a name="p8.a">8.a</a></div>
<div class="Annotations"><B>To be honest:&nbsp;</B><I>Type-related</I> and 
<I>subtype-specific</I> are defined likewise for the corresponding aspects 
of representation.&nbsp;</div>
<div class="paranum"><a name="p8.b">8.b</a></div>
<div class="Annotations"><B>To be honest:&nbsp;</B>Some representation items 
directly specify more than one aspect.&nbsp;</div>
<div class="paranum"><a name="p8.c">8.c/3</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0229-1.TXT">AI05-0229-1</A></I>} 
For example, a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Export (see <A HREF="AA-J-15-5.html">J.15.5</A>) specifies the convention 
of an entity, and also specifies that it is exported. Such items are 
obsolescent; directly specifying the associated aspects is preferred. 
</div>
<div class="paranum"><a name="p8.d">8.d</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>Each specifiable attribute 
constitutes a separate aspect. An <SPAN Class="swiss"><A HREF="AA-13-4.html#S0311">enumeration_representation_clause</A></SPAN> 
specifies the coding aspect. A <SPAN Class="swiss"><A HREF="AA-13-5-1.html#S0313">record_representation_clause</A></SPAN> 
(without the <SPAN Class="swiss"><A HREF="AA-J-8.html#S0324">mod_clause</A></SPAN>) 
specifies the record layout aspect. Each representation pragma specifies 
a separate aspect.&nbsp;</div>
<div class="paranum"><a name="p8.e">8.e</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>We don't need to say that an 
<SPAN Class="swiss"><A HREF="AA-J-7.html#S0323">at_clause</A></SPAN> 
or a <SPAN Class="swiss"><A HREF="AA-J-8.html#S0324">mod_clause</A></SPAN> 
specify separate aspects, because these are equivalent to <SPAN Class="swiss"><A HREF="AA-13-3.html#S0310">attribute_definition_clause</A></SPAN>s. 
See <A HREF="AA-J-7.html">J.7</A>, &ldquo;<A HREF="AA-J-7.html">At Clauses</A>&rdquo;, 
and <A HREF="AA-J-8.html">J.8</A>, &ldquo;<A HREF="AA-J-8.html">Mod Clauses</A>&rdquo;.</div>
<div class="paranum"><a name="p8.e.1">8.e.1/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0112-1.TXT">AI05-0112-1</A></I>} 
We give a default naming for representation aspects of representation 
pragmas so we don't have to do that for every pragma. Operational and 
representation attributes are given a default naming in <A HREF="AA-13-3.html">13.3</A>. 
We don't want any anonymous aspects; that would make other rules more 
difficult to write and understand.&nbsp;</div>
<div class="paranum"><a name="p8.f">8.f</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><B>Ramification: 
</B>The following representation items are type-related:&nbsp;</div>
<div class="paranum"><a name="p8.g">8.g</a></div>
<div class="SmallBulleted"><SPAN Class="swiss"><A HREF="AA-13-4.html#S0311">enumeration_representation_clause</A></SPAN></div>
<div class="paranum"><a name="p8.h">8.h</a></div>
<div class="SmallBulleted"><SPAN Class="swiss"><A HREF="AA-13-5-1.html#S0313">record_representation_clause</A></SPAN></div>
<div class="paranum"><a name="p8.i">8.i</a></div>
<div class="SmallBulleted">Component_Size clause</div>
<div class="paranum"><a name="p8.j">8.j/1</a></div>
<div class="SmallBulleted"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN>{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
</div>
<div class="paranum"><a name="p8.k">8.k</a></div>
<div class="SmallBulleted">Small clause</div>
<div class="paranum"><a name="p8.l">8.l</a></div>
<div class="SmallBulleted">Bit_Order clause</div>
<div class="paranum"><a name="p8.m">8.m</a></div>
<div class="SmallBulleted">Storage_Pool clause</div>
<div class="paranum"><a name="p8.n">8.n</a></div>
<div class="SmallBulleted">Storage_Size clause</div>
<div class="paranum"><a name="p8.n.1">8.n.1/2</a></div>
<div class="SmallBulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00270.TXT">AI95-00270-01</A></I>} 
Stream_Size clause</div>
<div class="paranum"><a name="p8.o">8.o/1</a></div>
<div class="SmallBulleted"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN>{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
</div>
<div class="paranum"><a name="p8.p">8.p/1</a></div>
<div class="SmallBulleted"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN>{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
</div>
<div class="paranum"><a name="p8.q">8.q/1</a></div>
<div class="SmallBulleted"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN>{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
</div>
<div class="paranum"><a name="p8.r">8.r/1</a></div>
<div class="SmallBulleted"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN>{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
</div>
<div class="paranum"><a name="p8.s">8.s</a></div>
<div class="SmallBulleted">Machine_Radix clause</div>
<div class="paranum"><a name="p8.t">8.t</a></div>
<div class="SmallBulleted">pragma Pack</div>
<div class="paranum"><a name="p8.u">8.u</a></div>
<div class="SmallBulleted">pragmas Import, Export, and Convention (when 
applied to a type)</div>
<div class="paranum"><a name="p8.v">8.v/3</a></div>
<div class="SmallBulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0009-1.TXT">AI05-0009-1</A></I>} 
pragmas Atomic, Independent, and Volatile (when applied to a type)</div>
<div class="paranum"><a name="p8.w">8.w/3</a></div>
<div class="SmallBulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0009-1.TXT">AI05-0009-1</A></I>} 
pragmas Atomic_Components, Independent_Components, and Volatile_Components 
(when applied to a type)</div>
<div class="paranum"><a name="p8.x">8.x</a></div>
<div class="SmallBulleted">pragma Discard_Names (when applied to an enumeration 
or tagged type)&nbsp;</div>
<div class="paranum"><a name="p8.y">8.y</a></div>
<div class="Annotations" style="margin-bottom: 0.4em">The following 
representation items are subtype-specific:&nbsp;</div>
<div class="paranum"><a name="p8.z">8.z</a></div>
<div class="SmallBulleted">Alignment clause (when applied to a first 
subtype)</div>
<div class="paranum"><a name="p8.aa">8.aa</a></div>
<div class="SmallBulleted">Size clause (when applied to a first subtype) 
</div>
<div class="paranum"><a name="p8.bb">8.bb</a></div>
<div class="Annotations" style="margin-bottom: 0.4em">The following 
representation items do not apply to subtypes, so they are neither type-related 
nor subtype-specific:&nbsp;</div>
<div class="paranum"><a name="p8.cc">8.cc</a></div>
<div class="SmallBulleted">Address clause (applies to objects and program 
units)</div>
<div class="paranum"><a name="p8.dd">8.dd</a></div>
<div class="SmallBulleted">Alignment clause (when applied to an object)</div>
<div class="paranum"><a name="p8.ee">8.ee</a></div>
<div class="SmallBulleted">Size clause (when applied to an object)</div>
<div class="paranum"><a name="p8.ff">8.ff</a></div>
<div class="SmallBulleted">pragmas Import, Export, and Convention (when 
applied to anything other than a type)</div>
<div class="paranum"><a name="p8.gg">8.gg</a></div>
<div class="SmallBulleted">pragmas Atomic and Volatile (when applied 
to an object or a component)</div>
<div class="paranum"><a name="p8.hh">8.hh/3</a></div>
<div class="SmallBulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0009-1.TXT">AI05-0009-1</A></I>} 
pragmas Atomic_Components, Independent_Components, and Volatile_Components 
(when applied to an array object)</div>
<div class="paranum"><a name="p8.ii">8.ii</a></div>
<div class="SmallBulleted">pragma Discard_Names (when applied to an exception)</div>
<div class="paranum"><a name="p8.jj">8.jj</a></div>
<div class="SmallBulleted">pragma Asynchronous (applies to procedures)</div>
<div class="paranum"><a name="p8.kk">8.kk/2</a></div>
<div class="SmallBulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00414.TXT">AI95-00414-01</A></I>} 
pragma No_Return (applies to subprograms)&nbsp;</div>
<div class="paranum"><a name="p8.ll">8.ll/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0229-1.TXT">AI05-0229-1</A></I>} 
While an <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
is not a representation item, a similar categorization applies to the 
aspect that corresponds to each of these representation items (along 
with aspects that do not have associated representation items).&nbsp;</div>
<div class="paranum"><a name="p8.1">8.1/3</a></div>
<div class="Normal">&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
An operational item <I>directly specifies</I> an <I>operational aspect</I> 
of the entity denoted by the <SPAN Class="swiss"><A HREF="AA-13-1.html#S0306">local_name</A></SPAN>, 
except in the case of a type-related operational item, whose <SPAN Class="swiss"><A HREF="AA-13-1.html#S0306">local_name</A></SPAN> 
shall denote a first subtype, and which directly specifies an aspect 
of the type of the subtype. <A NAME="I5380"></A><A NAME="I5381"></A><A NAME="I5382"></A><A NAME="I5383"></A></div>
<div class="paranum"><a name="p8.mm">8.mm/1</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><B>Ramification: 
</B>{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} {<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
The following operational items are type-related:&nbsp;</div>
<div class="paranum"><a name="p8.nn">8.nn/1</a></div>
<div class="SmallBulleted">External_Tag clause</div>
<div class="paranum"><a name="p8.oo">8.oo/1</a></div>
<div class="SmallBulleted">Read clause</div>
<div class="paranum"><a name="p8.pp">8.pp/1</a></div>
<div class="SmallBulleted">Write clause</div>
<div class="paranum"><a name="p8.qq">8.qq/1</a></div>
<div class="SmallBulleted">Input clause</div>
<div class="paranum"><a name="p8.rr">8.rr/1</a></div>
<div class="SmallBulleted">Output clause</div>
<div class="paranum"><a name="p9">9/4</a></div>
<div class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0116-1.TXT">AI12-0116-1</A></I>} 
A representation item that directly specifies an aspect of a subtype 
or type shall appear after the type is completely defined (see <A HREF="AA-3-11-1.html">3.11.1</A>), 
and before the subtype or type is frozen (see <A HREF="AA-13-14.html">13.14</A>).<span class="delete4">&nbsp;If a representation item or <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
is given that directly specifies an aspect of an entity, then it is illegal 
to give another representation item or <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
that directly specifies the same aspect of the entity.</span>&nbsp;</div>
<div class="paranum"><a name="p9.a">9.a/1</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
The fact that a representation item (or operational item, see next paragraph) 
that directly specifies an aspect of an entity is required to appear 
before the entity is frozen prevents changing the representation of an 
entity after using the entity in ways that require the representation 
to be known.&nbsp;</div>
<div class="paranum"><a name="p9.b">9.b/4</a></div>
<div class="Annotations"><SPAN STYLE="font-size: 80%"><I>This paragraph 
was deleted.</I></SPAN><B>To be honest:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0116-1.TXT">AI12-0116-1</A></I>} 
<span class="delete4">The rule preventing multiple specification is also 
intended to cover other ways to specify representation aspects, such 
as obsolescent <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Priority. Priority is not a representation pragma, and as such is neither 
a representation item nor an <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN>. 
Regardless, giving both a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Priority and an <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
for Priority is illegal. We didn't want to complicate the wording solely 
to support obsolescent features.</span>&nbsp;</div>
<div class="paranum"><a name="p9.1">9.1/4</a></div>
<div class="Normal">&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0116-1.TXT">AI12-0116-1</A></I>} 
An operational item that directly specifies an aspect of an entity shall 
appear before the entity is frozen (see <A HREF="AA-13-14.html">13.14</A>).<span class="delete4">&nbsp;If an operational item or <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
is given that directly specifies an aspect of an entity, then it is illegal 
to give another operational item or <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
that directly specifies the same aspect of the entity.</span>&nbsp;</div>
<div class="paranum"><a name="p9.c">9.c/1</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>Unlike representation items, 
operational items can be specified on partial views. Since they don't 
affect the representation, the full declaration need not be known to 
determine their legality.&nbsp;</div>
<div class="paranum"><a name="p9.2">9.2/4</a></div>
<div class="Normal">&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0116-1.TXT">AI12-0116-1</A></I>} 
<span class="insert4">If a representation item, operational item, or 
<SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
is given that directly specifies an aspect of an entity, then it is illegal 
to give another representation item, operational item, or <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
that directly specifies the same aspect of the entity.</span></div>
<div class="paranum"><a name="p9.c.1">9.c.1/4</a></div>
<div class="Annotations"><span class="insert4"><B>Ramification:&nbsp;</B></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0116-1.TXT">AI12-0116-1</A></I>} 
<span class="insert4">This rule applies to all aspects, not just those 
that are operational aspects or representation aspects. For instance, 
it applies to subtype predicates and type invariants.</span>&nbsp;</div>
<div class="paranum"><a name="p9.c.2">9.c.2/4</a></div>
<div class="Annotations"><span class="insert4"><B>To be honest:&nbsp;</B></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0116-1.TXT">AI12-0116-1</A></I>} 
<span class="insert4">This rule is also intended to cover other ways 
to specify representation aspects, such as obsolescent <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Priority. Priority is not a representation pragma, and as such is neither 
a representation item nor an <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN>. 
Regardless, giving both a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Priority and an <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
for Priority is illegal. We didn't want to complicate the wording solely 
to support obsolescent features.</span>&nbsp;</div>
<div class="paranum"><a name="p9.3">9.3/4</a></div>
<div class="Normal">&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0106-1.TXT">AI05-0106-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0116-1.TXT">AI12-0116-1</A></I>} 
Unless otherwise specified, it is illegal to specify an operational or 
representation aspect of a generic formal parameter.&nbsp;</div>
<div class="paranum"><a name="p9.d">9.d/3</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>Specifying an aspect on a generic 
formal parameter implies an added contract for a generic unit. That contract 
needs to be defined via generic parameter matching rules, and, as aspects 
vary widely, that has to be done for each such aspect. Since most aspects 
do not need this complexity (including all language-defined aspects as 
of this writing), we avoid the complexity by saying that such contract-forming 
aspect specifications are banned unless the rules defining them explicitly 
exist. Note that the method of specification does not matter: <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN>s, 
representation items, and operational items are all covered by this (and 
similar) rules.&nbsp;</div>
<div class="paranum"><a name="p10">10/4</a></div>
<div class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0109-1.TXT">AI12-0109-1</A></I>} 
For an untagged derived type, it is illegal to specify a type-related 
representation aspect if the parent type is a by-reference type, or has 
any user-defined primitive subprograms.<span class="insert4">&nbsp;Similarly, 
it is illegal to specify a nonconfirming type-related representation 
aspect for an untagged by-reference type after one or more types have 
been derived from it.</span>&nbsp;</div>
<div class="paranum"><a name="p10.a">10.a/3</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
On the other hand, subtype-specific representation aspects may be specified 
for the first subtype of such a type, as can operational aspects.&nbsp;</div>
<div class="paranum"><a name="p10.b">10.b/4</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0229-1.TXT">AI05-0229-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0109-1.TXT">AI12-0109-1</A></I>} 
The reason for forbidding specification of type-related representation 
aspects on untagged by-reference types is because a change of representation 
is impossible when passing by reference (to an inherited subprogram).<span class="insert4">&nbsp;(A by-reference object cannot be copied to change its representation.)</span> 
The reason for forbidding specification of type-related representation 
aspects on untagged types with user-defined primitive subprograms was 
to prevent implicit change of representation for type-related aspects 
of representation upon calling inherited subprograms, because such changes 
of representation are likely to be expensive at run time. Changes of 
subtype-specific representation attributes, however, are likely to be 
cheap. This rule is not needed for tagged types, because other rules 
prevent a type-related representation aspect from changing the representation 
of the parent part; we want to allow specifying a type-related representation 
aspect on a type extension to specify aspects of the extension part. 
For example, specifying aspect Pack will cause packing of the extension 
part, but not of the parent part.&nbsp;</div>
<div class="paranum"><a name="p10.c">10.c/4</a></div>
<div class="Annotations"><span class="insert4"><B>Discussion:&nbsp;</B></span>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0109-1.TXT">AI12-0109-1</A></I>} 
<span class="insert4">&ldquo;By-reference type&rdquo; usually cannot 
be used in Legality Rules, as it is privacy breaking. Our use here is 
privacy breaking, but we're stuck with it for compatibility reasons. 
Since representation aspects cannot be specified on partial views, privacy 
violations only can happen when a type includes a component of a private 
type. In that case, whether these rules are triggered depends on the 
full type of the private type &mdash; which is clearly privacy breaking.</span> 
</div>
<div class="paranum"><a name="p11">11/3</a></div>
<div class="Normal">&nbsp;{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
{<I><A HREF="defect1.html#8652/0011">8652/0011</A></I>} {<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00117.TXT">AI95-00117-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00326.TXT">AI95-00326-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
Operational and representation aspects of a generic formal parameter 
are the same as those of the actual. Operational and representation aspects 
are the same for all views of a type. Specification of a type-related 
representation aspect is not allowed for a descendant of a generic formal 
untagged type.&nbsp;</div>
<div class="paranum"><a name="p11.a">11.a/3</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
Specifying representation aspects is allowed for types whose subcomponent 
types or index subtypes are generic formal types. Specifying operational 
aspects and subtype-related representation aspects is allowed on descendants 
of generic formal types.&nbsp;</div>
<div class="paranum"><a name="p11.b">11.b/3</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
Since it is not known whether a formal type has user-defined primitive 
subprograms, specifying type-related representation aspects for them 
is not allowed, unless they are tagged (in which case only the extension 
part is affected in any case).&nbsp;</div>
<div class="paranum"><a name="p11.c">11.c/2</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00326.TXT">AI95-00326-01</A></I>} 
All views of a type, including the incomplete and partial views, have 
the same operational and representation aspects. That's important so 
that the properties don't change when changing views. While most aspects 
are not available for an incomplete view, we don't want to leave any 
holes by not saying that they are the same.</div>
<div class="paranum"><a name="p11.d">11.d/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0083-1.TXT">AI05-0083-1</A></I>} 
However, this does not apply to objects. Different views of an object 
can have different representation aspects. For instance, an actual object 
passed by reference and the associated formal parameter may have different 
values for Alignment even though the formal parameter is merely a view 
of the actual object. This is necessary to maintain the language design 
principle that Alignments are always known at compile time.&nbsp;</div>
<div class="paranum"><a name="p12">12/3</a></div>
<div class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
The specification of the Size aspect for a given subtype, or the size 
or storage place for an object (including a component) of a given subtype, 
shall allow for enough storage space to accommodate any value of the 
subtype.</div>
<div class="paranum"><a name="p13">13/3</a></div>
<div class="Normal">&nbsp;{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
If a specification of a representation or operational aspect is not supported 
by the implementation, it is illegal or raises an exception at run time.</div>
<div class="paranum"><a name="p13.1">13.1/3</a></div>
<div class="Normal">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
A <SPAN Class="swiss"><A HREF="AA-3-2-1.html#S0023">type_declaration</A></SPAN> 
is illegal if it has one or more progenitors, and a nonconfirming value 
was specified for a representation aspect of an ancestor, and this conflicts 
with the representation of some other ancestor. The cases that cause 
conflicts are implementation defined.&nbsp;</div>
<div class="paranum"><a name="p13.a">13.a/2</a></div>
<div class="Annotations"><B>Implementation defined:&nbsp;</B>The cases that 
cause conflicts between the representation of the ancestors of a <SPAN Class="swiss"><A HREF="AA-3-2-1.html#S0023">type_declaration</A></SPAN>.</div>
<div class="paranum"><a name="p13.b">13.b/3</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><B>Reason:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
This rule is needed because it may be the case that only the combination 
of types in a type declaration causes a conflict. Thus it is not possible, 
in general, to reject the original representation item or <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN>. 
For instance:&nbsp;</div>
<div class="paranum"><a name="p13.c">13.c/2</a></div>
<div class="SmallExamples"><B>package</B>&nbsp;Pkg1&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Ifc&nbsp;<B>is&nbsp;interface</B>;<BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;T&nbsp;<B>is&nbsp;tagged&nbsp;record</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fld&nbsp;:&nbsp;Integer;<BR>
&nbsp;&nbsp;&nbsp;<B>end&nbsp;record</B>;<BR>
&nbsp;&nbsp;&nbsp;<B>for</B>&nbsp;T&nbsp;<B>use&nbsp;record</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fld&nbsp;<B>at</B>&nbsp;0&nbsp;<B>range</B>&nbsp;0&nbsp;..&nbsp;Integer'Size&nbsp;-&nbsp;1;<BR>
&nbsp;&nbsp;&nbsp;<B>end&nbsp;record</B>;<BR>
<B>end</B>&nbsp;Pkg1;</div>
<div class="paranum"><a name="p13.d">13.d/2</a></div>
<div class="Annotations" style="margin-bottom: 0.4em">Assume the implementation 
uses a single tag with a default offset of zero, and that it allows the 
use of nondefault locations for the tag (and thus accepts representation 
items like the one above). The representation item will force a nondefault 
location for the tag (by putting a component other than the tag into 
the default location). Clearly, this package will be accepted by the 
implementation. However, other declarations could cause trouble. For 
instance, the implementation could reject:&nbsp;</div>
<div class="paranum"><a name="p13.e">13.e/2</a></div>
<div class="SmallExamples"><B>with</B>&nbsp;Pkg1;<BR>
<B>package</B>&nbsp;Pkg2&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;NewT&nbsp;<B>is&nbsp;new</B>&nbsp;Pkg1.T&nbsp;<B>and</B>&nbsp;Pkg1.Ifc&nbsp;<B>with&nbsp;null&nbsp;record</B>;<BR>
<B>end</B>&nbsp;Pkg2;</div>
<div class="paranum"><a name="p13.f">13.f/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
because the declarations of T and Ifc have a conflict in their representation 
items. This is clearly necessary (it's hard to imagine how Ifc'Class 
could work with the tag at a location other than the one it is expecting 
without introducing distributed overhead).</div>
<div class="paranum"><a name="p13.g">13.g/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
Conflicts will usually involve implementation-defined attributes (for 
specifying the location of the tag, for instance), although the example 
above shows that doesn't have to be the case. For this reason, we didn't 
try to specify exactly what causes a conflict; it will depend on the 
implementation's implementation model and what representation aspects 
it allows to be changed.&nbsp;</div>
<div class="paranum"><a name="p13.h">13.h/3</a></div>
<div class="Annotations"><B>Implementation Note:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
An implementation can only use this rule to reject <SPAN Class="swiss"><A HREF="AA-3-2-1.html#S0023">type_declaration</A></SPAN>s 
where one of its ancestors had a nonconfirming representation value specified. 
An implementation must ensure that the default representations of ancestors 
cannot conflict.&nbsp;</div>

<H4 Class="centered">Static Semantics</H4>
<div class="paranum"><a name="p14">14</a></div>
<div class="Normal">If two subtypes statically match, then their subtype-specific 
aspects (Size and Alignment) are the same. <A NAME="I5384"></A></div>
<div class="paranum"><a name="p14.a">14.a/3</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
This is necessary because we allow (for example) conversion between access 
types whose designated subtypes statically match. Note that most aspects 
(including the subtype-specific aspects Size and Alignment) may not be 
specified for a nonfirst subtype. The only language-defined exceptions 
to this rule are the Static_Predicate and Dynamic_Predicate aspects.</div>
<div class="paranum"><a name="p14.b">14.b</a></div>
<div class="Annotations" style="margin-bottom: 0.4em">Consider, for 
example:&nbsp;</div>
<div class="paranum"><a name="p14.c">14.c/1</a></div>
<div class="SmallExamples"><B>package</B>&nbsp;P1&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>subtype</B>&nbsp;S1&nbsp;<B>is</B>&nbsp;Integer&nbsp;<B>range</B>&nbsp;0..2**16-1;<BR>
&nbsp;&nbsp;&nbsp;<B>for</B>&nbsp;S1'Size&nbsp;<B>use</B>&nbsp;16;&nbsp;--<SPAN Class="roman"><I>&nbsp;Illegal!</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;S1'Size&nbsp;would&nbsp;be&nbsp;16&nbsp;by&nbsp;default.</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;A1&nbsp;<B>is</B>&nbsp;<B>access</B>&nbsp;<B>all</B>&nbsp;S1;<BR>
&nbsp;&nbsp;&nbsp;X1:&nbsp;A1;<BR>
<B>end</B>&nbsp;P1;</div>
<div class="paranum"><a name="p14.d">14.d/1</a></div>
<div class="SmallExamples"><B>package</B>&nbsp;P2&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>subtype</B>&nbsp;S2&nbsp;<B>is</B>&nbsp;Integer&nbsp;<B>range</B>&nbsp;0..2**16-1;<BR>
&nbsp;&nbsp;&nbsp;<B>for</B>&nbsp;S2'Size&nbsp;<B>use</B>&nbsp;32;&nbsp;--<SPAN Class="roman"><I>&nbsp;Illegal!</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;A2&nbsp;<B>is</B>&nbsp;<B>access</B>&nbsp;<B>all</B>&nbsp;S2;<BR>
&nbsp;&nbsp;&nbsp;X2:&nbsp;A2;<BR>
<B>end</B>&nbsp;P2;</div>
<div class="paranum"><a name="p14.e">14.e/3</a></div>
<div class="SmallExamples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0229-1.TXT">AI05-0229-1</A></I>} 
<B>procedure</B>&nbsp;Q&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>use</B>&nbsp;P1,&nbsp;P2;<BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Array1&nbsp;<B>is</B>&nbsp;<B>array</B>(Integer&nbsp;<B>range</B>&nbsp;&lt;&gt;)&nbsp;<B>of</B>&nbsp;<B>aliased</B>&nbsp;S1<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;Pack;<BR>
&nbsp;&nbsp;&nbsp;Obj1:&nbsp;Array1(1..100);<BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;Array2&nbsp;<B>is</B>&nbsp;<B>array</B>(Integer&nbsp;<B>range</B>&nbsp;&lt;&gt;)&nbsp;<B>of</B>&nbsp;<B>aliased</B>&nbsp;S2<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>with</B>&nbsp;Pack;<BR>
&nbsp;&nbsp;&nbsp;Obj2:&nbsp;Array2(1..100);<BR>
<B>begin</B><BR>
&nbsp;&nbsp;&nbsp;X1&nbsp;:=&nbsp;Obj2(17)'Unchecked_Access;<BR>
&nbsp;&nbsp;&nbsp;X2&nbsp;:=&nbsp;Obj1(17)'Unchecked_Access;<BR>
<B>end</B>&nbsp;Q;</div>
<div class="paranum"><a name="p14.f">14.f</a></div>
<div class="Annotations">Loads and stores through X1 would read and write 
16 bits, but X1 points to a 32-bit location. Depending on the endianness 
of the machine, loads might load the wrong 16 bits. Stores would fail 
to zero the other half in any case.</div>
<div class="paranum"><a name="p14.g">14.g</a></div>
<div class="Annotations">Loads and stores through X2 would read and write 
32 bits, but X2 points to a 16-bit location. Thus, adjacent memory locations 
would be trashed.</div>
<div class="paranum"><a name="p14.h">14.h</a></div>
<div class="Annotations">Hence, the above is illegal. Furthermore, the 
compiler is forbidden from choosing different Sizes by default, for the 
same reason.</div>
<div class="paranum"><a name="p14.i">14.i</a></div>
<div class="Annotations">The same issues apply to Alignment.</div>
<div class="paranum"><a name="p15">15/3</a></div>
<div class="Normal">&nbsp;{<I><A HREF="defect1.html#8652/0040">8652/0040</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00108.TXT">AI95-00108-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0009-1.TXT">AI05-0009-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
A derived type inherits each type-related representation aspect of its 
parent type that was directly specified before the declaration of the 
derived type, or (in the case where the parent is derived) that was inherited 
by the parent type from the grandparent type. A derived subtype inherits 
each subtype-specific representation aspect of its parent subtype that 
was directly specified before the declaration of the derived type, or 
(in the case where the parent is derived) that was inherited by the parent 
subtype from the grandparent subtype, but only if the parent subtype 
statically matches the first subtype of the parent type. An inherited 
representation aspect is overridden by a subsequent <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
or representation item that specifies a different value for the same 
aspect of the type or subtype.&nbsp;</div>
<div class="paranum"><a name="p15.a">15.a</a></div>
<div class="Annotations"><B>To be honest:&nbsp;</B>A <SPAN Class="swiss"><A HREF="AA-13-5-1.html#S0313">record_representation_clause</A></SPAN> 
for a record extension does not override the layout of the parent part; 
if the layout was specified for the parent type, it is inherited by the 
record extension.&nbsp;</div>
<div class="paranum"><a name="p15.b">15.b</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>If a representation item 
for the parent appears after the <SPAN Class="swiss"><A HREF="AA-3-4.html#S0035">derived_type_definition</A></SPAN>, 
then inheritance does not happen for that representation item.</div>
<div class="paranum"><a name="p15.b.1">15.b.1/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0009-1.TXT">AI05-0009-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
If an inherited aspect is confirmed by an <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
or a later representation item for a derived type, the confirming specification 
does not override the inherited one. Thus the derived type has both a 
specified confirming value and an inherited nonconfirming representation 
value &mdash; this means that rules that apply only to nonconfirming 
representation values still apply to this type.</div>
<div class="paranum"><a name="p15.b.2">15.b.2/4</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0109-1.TXT">AI12-0109-1</A></I>} 
<span class="insert4">If an aspect was specified by an <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
and the parent type has not yet been frozen, then the inherited aspect 
might not yet have been resolved and evaluated. The implementation will 
need to have a mechanism to handle such an aspect.</span>&nbsp;</div>
<div class="paranum"><a name="p15.1">15.1/3</a></div>
<div class="Normal">&nbsp;&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0040">8652/0040</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00108.TXT">AI95-00108-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00444.TXT">AI95-00444-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
In contrast, whether operational aspects are inherited by a derived type 
depends on each specific aspect; unless specified, an operational aspect 
is not inherited. When operational aspects are inherited by a derived 
type, aspects that were directly specified by <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN>s 
or operational items that are visible at the point of the derived type 
declaration, or (in the case where the parent is derived) that were inherited 
by the parent type from the grandparent type are inherited. An inherited 
operational aspect is overridden by a subsequent <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
or operational item that specifies the same aspect of the type.&nbsp;</div>
<div class="paranum"><a name="p15.b.3">15.b.3/1</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>As with representation 
items, if an operational item for the parent appears after the <SPAN Class="swiss"><A HREF="AA-3-4.html#S0035">derived_type_definition</A></SPAN>, 
then inheritance does not happen for that operational item.&nbsp;</div>
<div class="paranum"><a name="p15.b.4">15.b.4/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00444.TXT">AI95-00444-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
</div>
<div class="paranum"><a name="p15.2">15.2/2</a></div>
<div class="Normal">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00444.TXT">AI95-00444-01</A></I>} 
When an aspect that is a subprogram is inherited, the derived type inherits 
the aspect in the same way that a derived type inherits a user-defined 
primitive subprogram from its parent (see <A HREF="AA-3-4.html">3.4</A>). 
</div>
<div class="paranum"><a name="p15.c">15.c/2</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>This defines the parameter names 
and types, and the needed implicit conversions.&nbsp;</div>
<div class="paranum"><a name="p16">16</a></div>
<div class="Normal" style="margin-bottom: 0.4em">Each aspect of representation 
of an entity is as follows:&nbsp;</div>
<div class="paranum"><a name="p17">17</a></div>
<div class="Bulleted"><A NAME="I5385"></A>If the aspect is <I>specified</I> 
for the entity, meaning that it is either directly specified or inherited, 
then that aspect of the entity is as specified, except in the case of 
Storage_Size, which specifies a minimum.&nbsp;</div>
<div class="paranum"><a name="p17.a">17.a</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>This rule implies that 
queries of the aspect return the specified value. For example, if the 
user writes &ldquo;<B>for</B> X'Size <B>use</B> 32;&rdquo;, then a query 
of X'Size will return 32.&nbsp;</div>
<div class="paranum"><a name="p18">18</a></div>
<div class="Bulleted"><A NAME="I5386"></A>If an aspect of representation 
of an entity is not specified, it is chosen by default in an unspecified 
manner.&nbsp;</div>
<div class="paranum"><a name="p18.a">18.a/3</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
Note that specifying a representation aspect can affect the semantics 
of the entity.</div>
<div class="paranum"><a name="p18.b">18.b</a></div>
<div class="Annotations">The rules forbid things like &ldquo;<B>for</B> 
S'Base'Alignment <B>use</B> ...&rdquo; and &ldquo;<B>for</B> S'Base <B>use</B> 
record ...&rdquo;.&nbsp;</div>
<div class="paranum"><a name="p18.c">18.c</a></div>
<div class="Annotations"><B>Discussion:&nbsp;</B>The intent is that implementations 
will represent the components of a composite value in the same way for 
all subtypes of a given composite type. Hence, Component_Size and record 
layout are type-related aspects.&nbsp;</div>
<div class="paranum"><a name="p18.d">18.d/3</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0083-1.TXT">AI05-0083-1</A></I>} 
As noted previously, in the case of an object, the entity mentioned in 
this text is a specific view of an object. That means that only references 
to the same view of an object that has a specified value for a representation 
aspect <I>R</I> necessarily have that value for the aspect <I>R</I>. 
The value of the aspect <I>R</I> for a different view of that object 
is unspecified. In particular, this means that the representation values 
for by-reference parameters is unspecified; they do not have to be the 
same as those of the underlying object.&nbsp;</div>
<div class="paranum"><a name="p18.1">18.1/1</a></div>
<div class="Normal">&nbsp;&nbsp;&nbsp;{<I><A HREF="defect1.html#8652/0040">8652/0040</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00108.TXT">AI95-00108-01</A></I>} 
<A NAME="I5387"></A>If an operational aspect is <I>specified</I> for 
an entity (meaning that it is either directly specified or inherited), 
then that aspect of the entity is as specified. Otherwise, the aspect 
of the entity has the default value for that aspect.</div>
<div class="paranum"><a name="p18.2">18.2/3</a></div>
<div class="Normal">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
An <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
or representation item that specifies a representation aspect that would 
have been chosen in the absence of the <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN> 
or representation item is said to be <I>confirming</I>.<A NAME="I5388"></A> 
The aspect value specified in this case is said to be a <I>confirming</I> 
representation aspect value. Other values of the aspect are said to be 
<I>nonconfirming</I>, as are the <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN>s 
and representation items that specified them.<A NAME="I5389"></A> <A NAME="I5390"></A><A NAME="I5391"></A><A NAME="I5392"></A><A NAME="I5393"></A></div>

<H4 Class="centered">Dynamic Semantics</H4>
<div class="paranum"><a name="p19">19/1</a></div>
<div class="Normal">&nbsp;{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
<A NAME="I5394"></A>For the elaboration of an <SPAN Class="swiss"><A HREF="AA-13-1.html#S0304">aspect_clause</A></SPAN>, 
any evaluable constructs within it are evaluated.&nbsp;</div>
<div class="paranum"><a name="p19.a">19.a/3</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0299-1.TXT">AI05-0299-1</A></I>} 
Elaboration of representation pragmas is covered by the general rules 
for pragmas in <A HREF="AA-2-8.html">2.8</A>.&nbsp;</div>

<H4 Class="centered">Implementation Permissions</H4>
<div class="paranum"><a name="p20">20/3</a></div>
<div class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
An implementation may interpret representation aspects in an implementation-defined 
manner. An implementation may place implementation-defined restrictions 
on the specification of representation aspects. <A NAME="I5395"></A>A 
<I>recommended level of support</I> is defined for the specification 
of representation aspects and related features in each subclause. These 
recommendations are changed to requirements for implementations that 
support the Systems Programming Annex (see <A HREF="AA-C-2.html">C.2</A>, 
&ldquo;<A HREF="AA-C-2.html">Required Representation Support</A>&rdquo;).</div>
<div class="paranum"><a name="p20.a">20.a/3</a></div>
<div class="Annotations"><B>Implementation defined:&nbsp;</B>The interpretation 
of each representation aspect.</div>
<div class="paranum"><a name="p20.b">20.b/3</a></div>
<div class="Annotations"><B>Implementation defined:&nbsp;</B>Any restrictions 
placed upon the specification of representation aspects.</div>
<div class="paranum"><a name="p20.c">20.c</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>Implementation-defined 
restrictions may be enforced either at compile time or at run time. There 
is no requirement that an implementation justify any such restrictions. 
They can be based on avoiding implementation complexity, or on avoiding 
excessive inefficiency, for example.</div>
<div class="paranum"><a name="p20.c.1">20.c.1/1</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
There is no such permission for operational aspects.&nbsp;</div>

<H4 Class="centered">Implementation Advice</H4>
<div class="paranum"><a name="p21">21/3</a></div>
<div class="Normal" style="margin-bottom: 0.4em">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
<A NAME="I5396"></A>The recommended level of support for the specification 
of all representation aspects is qualified as follows:&nbsp;</div>
<div class="paranum"><a name="p21.1">21.1/3</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
A confirming specification for a representation aspect should be supported. 
</div>
<div class="paranum"><a name="p21.a">21.a/3</a></div>
<div class="Annotations"><B>To be honest:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
A confirming representation aspect value might not be possible for some 
entities. For instance, consider an unconstrained array. The size of 
such a type is implementation-defined, and might not actually be a representable 
value, or might not be static.&nbsp;</div>
<div class="paranum"><a name="p22">22/3</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
An implementation need not support the specification for a representation 
aspect that contains nonstatic expressions, unless each nonstatic expression 
is a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
that statically denotes a constant declared before the entity.&nbsp;</div>
<div class="paranum"><a name="p22.a">22.a</a></div>
<div class="Annotations" style="margin-bottom: 0.4em"><B>Reason:&nbsp;</B>This 
is to avoid the following sort of thing:&nbsp;</div>
<div class="paranum"><a name="p22.b">22.b</a></div>
<div class="SmallExamples">X&nbsp;:&nbsp;Integer&nbsp;:=&nbsp;F(...);<BR>
Y&nbsp;:&nbsp;Address&nbsp;:=&nbsp;G(...);<BR>
<B>for</B>&nbsp;X'Address&nbsp;<B>use</B>&nbsp;Y;</div>
<div class="paranum"><a name="p22.c">22.c</a></div>
<div class="Annotations">In the above, we have to evaluate the initialization 
expression for X before we know where to put the result. This seems like 
an unreasonable implementation burden.</div>
<div class="paranum"><a name="p22.d">22.d</a></div>
<div class="Annotations" style="margin-bottom: 0.4em">The above code 
should instead be written like this:&nbsp;</div>
<div class="paranum"><a name="p22.e">22.e</a></div>
<div class="SmallExamples">Y&nbsp;:&nbsp;<B>constant</B>&nbsp;Address&nbsp;:=&nbsp;G(...);<BR>
X&nbsp;:&nbsp;Integer&nbsp;:=&nbsp;F(...);<BR>
<B>for</B>&nbsp;X'Address&nbsp;<B>use</B>&nbsp;Y;</div>
<div class="paranum"><a name="p22.f">22.f</a></div>
<div class="Annotations">This allows the expression &ldquo;Y&rdquo; to 
be safely evaluated before X is created.</div>
<div class="paranum"><a name="p22.g">22.g</a></div>
<div class="Annotations">The constant could be a formal parameter of 
mode <B>in</B>.</div>
<div class="paranum"><a name="p22.h">22.h</a></div>
<div class="Annotations">An implementation can support other nonstatic 
expressions if it wants to. Expressions of type Address are hardly ever 
static, but their value might be known at compile time anyway in many 
cases.&nbsp;</div>
<div class="paranum"><a name="p23">23</a></div>
<div class="Bulleted">An implementation need not support a specification 
for the Size for a given composite subtype, nor the size or storage place 
for an object (including a component) of a given composite subtype, unless 
the constraints on the subtype and its composite subcomponents (if any) 
are all static constraints.</div>
<div class="paranum"><a name="p24">24/3</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
An implementation need not support specifying a nonconfirming representation 
aspect value if it could cause an aliased object or an object of a by-reference 
type to be allocated at a nonaddressable location or, when the alignment 
attribute of the subtype of such an object is nonzero, at an address 
that is not an integral multiple of that alignment.&nbsp;</div>
<div class="paranum"><a name="p24.a">24.a/1</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>The intent is that access types, 
type System.Address, and the pointer used for a by-reference parameter 
should be implementable as a single machine address &mdash; bit-field 
pointers should not be required. (There is no requirement that this implementation 
be used &mdash; we just want to make sure it's feasible.)&nbsp;</div>
<div class="paranum"><a name="p24.b">24.b/2</a></div>
<div class="Annotations"><B>Implementation Note:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
We want subprograms to be able to assume the properties of the types 
of their parameters inside of subprograms. While many objects can be 
copied to allow this (and thus do not need limitations), aliased or by-reference 
objects cannot be copied (their memory location is part of their identity). 
Thus, the above rule does not apply to types that merely allow by-reference 
parameter passing; for such types, a copy typically needs to be made 
at the call site when a bit-aligned component is passed as a parameter. 
</div>
<div class="paranum"><a name="p25">25/3</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
An implementation need not support specifying a nonconfirming representation 
aspect value if it could cause an aliased object of an elementary type 
to have a size other than that which would have been chosen by default. 
</div>
<div class="paranum"><a name="p25.a">25.a/2</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>Since all bits of elementary 
objects participate in operations, aliased objects must not have a different 
size than that assumed by users of the access type.&nbsp;</div>
<div class="paranum"><a name="p26">26/3</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
An implementation need not support specifying a nonconfirming representation 
aspect value if it could cause an aliased object of a composite type, 
or an object whose type is by-reference, to have a size smaller than 
that which would have been chosen by default.&nbsp;</div>
<div class="paranum"><a name="p26.a">26.a/2</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>Unlike elementary objects, there 
is no requirement that all bits of a composite object participate in 
operations. Thus, as long as the object is the same or larger in size 
than that expected by the access type, all is well.&nbsp;</div>
<div class="paranum"><a name="p26.b">26.b/2</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>This rule presumes that 
the implementation allocates an object of a size specified to be larger 
than the default size in such a way that access of the default size suffices 
to correctly read and write the value of the object.&nbsp;</div>
<div class="paranum"><a name="p27">27/3</a></div>
<div class="Bulleted">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
An implementation need not support specifying a nonconfirming subtype-specific 
representation aspect value for an indefinite or abstract subtype.&nbsp;</div>
<div class="paranum"><a name="p27.a">27.a/3</a></div>
<div class="Annotations"><B>Reason:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
Representation aspects are often not well-defined for such types.&nbsp;</div>
<div class="paranum"><a name="p27.b">27.b/3</a></div>
<div class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0229-1.TXT">AI05-0229-1</A></I>} 
A type with the Pack aspect specified will typically not be packed so 
tightly as to disobey the above rules. A Component_Size clause or <SPAN Class="swiss"><A HREF="AA-13-5-1.html#S0313">record_representation_clause</A></SPAN> 
will typically be illegal if it disobeys the above rules. Atomic components 
have similar restrictions (see <A HREF="AA-C-6.html">C.6</A>, &ldquo;<A HREF="AA-C-6.html">Shared 
Variable Control</A>&rdquo;).&nbsp;</div>
<div class="paranum"><a name="p28">28/3</a></div>
<div class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
For purposes of these rules, the determination of whether specifying 
a representation aspect value for a type <I>could cause</I> an object 
to have some property is based solely on the properties of the type itself, 
not on any available information about how the type is used. In particular, 
it presumes that minimally aligned objects of this type might be declared 
at some point.&nbsp;</div>
<div class="paranum"><a name="p28.a">28.a/2</a></div>
<div class="Annotations"><B>Implementation Advice:&nbsp;</B>The recommended 
level of support for all representation items should be followed.</div>
<div class="NotesHeader">NOTES</div>
<div class="paranum"><a name="p29">29/3</a></div>
<div class="Notes">1&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0229-1.TXT">AI05-0229-1</A></I>} 
Aspects that can be specified are defined throughout this International 
Standard, and are summarized in <A HREF="AA-K-1.html">K.1</A>.&nbsp;</div>

<H4 Class="centered">Incompatibilities With Ada 83</H4>
<div class="paranum"><a name="p29.a">29.a</a></div>
<div class="Annotations"><A NAME="I5397"></A>It is now illegal for a 
representation item to cause a derived by-reference type to have a different 
record layout from its parent. This is necessary for by-reference parameter 
passing to be feasible. This only affects programs that specify the representation 
of types derived from types containing tasks; most by-reference types 
are new to Ada 95. For example, if A1 is an array of tasks, and A2 is 
derived from A1, it is illegal to apply a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Pack to A2.&nbsp;</div>

<H4 Class="centered">Extensions to Ada 83</H4>
<div class="paranum"><a name="p29.b">29.b/1</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
<A NAME="I5398"></A>Ada 95 allows additional <SPAN Class="swiss"><A HREF="AA-13-1.html#S0304">aspect_clause</A></SPAN>s 
for objects.&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<div class="paranum"><a name="p29.c">29.c/1</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
The syntax rule for <SPAN Class="swiss">type_representation_clause</SPAN> 
is removed; the right-hand side of that rule is moved up to where it 
was used, in <SPAN Class="swiss"><A HREF="AA-13-1.html#S0304">aspect_clause</A></SPAN>. 
There are two references to &ldquo;type representation clause&rdquo; 
in RM83, both in Section 13; these have been reworded. Also, the <SPAN Class="swiss">representation_clause</SPAN> 
has been renamed the <SPAN Class="swiss"><A HREF="AA-13-1.html#S0304">aspect_clause</A></SPAN> 
to reflect that it can be used to control more than just representation 
aspects.</div>
<div class="paranum"><a name="p29.d">29.d/2</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00114.TXT">AI95-00114-01</A></I>} 
We have defined a new term &ldquo;representation item,&rdquo; which includes 
all representation clauses and representation pragmas, as well as <SPAN Class="swiss"><A HREF="AA-13-5-1.html#S0314">component_clause</A></SPAN>s. 
This is convenient because the rules are almost identical for all of 
them. We have also defined the new terms &ldquo;operational item&rdquo; 
and &ldquo;operational aspects&rdquo; in order to conveniently handle 
new types of specifiable entities.</div>
<div class="paranum"><a name="p29.e">29.e</a></div>
<div class="Annotations">All of the forcing occurrence stuff has been 
moved into its own subclause (see <A HREF="AA-13-14.html">13.14</A>), 
and rewritten to use the term &ldquo;freezing&rdquo;.</div>
<div class="paranum"><a name="p29.f">29.f</a></div>
<div class="Annotations">RM83-13.1(10) requires implementation-defined 
restrictions on representation items to be enforced at compile time. 
However, that is impossible in some cases. If the user specifies a junk 
(nonstatic) address in an address clause, and the implementation chooses 
to detect the error (for example, using hardware memory management with 
protected pages), then it's clearly going to be a run-time error. It 
seems silly to call that &ldquo;semantics&rdquo; rather than &ldquo;a 
restriction.&rdquo;</div>
<div class="paranum"><a name="p29.g">29.g</a></div>
<div class="Annotations">RM83-13.1(10) tries to pretend that <SPAN Class="swiss">representation_clause</SPAN>s 
don't affect the semantics of the program. One counter-example is the 
Small clause. Ada 95 has more counter-examples. We have noted the opposite 
above.</div>
<div class="paranum"><a name="p29.h">29.h</a></div>
<div class="Annotations">Some of the more stringent requirements are 
moved to <A HREF="AA-C-2.html">C.2</A>, &ldquo;<A HREF="AA-C-2.html">Required 
Representation Support</A>&rdquo;.&nbsp;</div>

<H4 Class="centered">Extensions to Ada 95</H4>
<div class="paranum"><a name="p29.i">29.i/2</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
<A NAME="I5399"></A><B>Amendment Correction:</B> Confirming representation 
items are defined, and the recommended level of support is now that they 
always be supported.&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<div class="paranum"><a name="p29.j">29.j/2</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
<B>Corrigendum:</B> Added operational items in order to eliminate unnecessary 
restrictions and permissions on stream attributes. As part of this, <SPAN Class="swiss">representation_clause</SPAN> 
was renamed to <SPAN Class="swiss"><A HREF="AA-13-1.html#S0304">aspect_clause</A></SPAN>.</div>
<div class="paranum"><a name="p29.k">29.k/2</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0009">8652/0009</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00137.TXT">AI95-00137-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00326.TXT">AI95-00326-01</A></I>} 
<B>Corrigendum:</B> Added wording to say that the partial and full views 
have the same operational and representation aspects. Ada 2005 extends 
this to cover all views, including the incomplete view.</div>
<div class="paranum"><a name="p29.l">29.l/2</a></div>
<div class="Annotations">{<I><A HREF="defect1.html#8652/0040">8652/0040</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00108.TXT">AI95-00108-01</A></I>} 
<B>Corrigendum:</B> Changed operational items to have inheritance specified 
for each such aspect.</div>
<div class="paranum"><a name="p29.m">29.m/2</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00251.TXT">AI95-00251-01</A></I>} 
Added wording to allow the rejection of types with progenitors that have 
conflicting representation items.</div>
<div class="paranum"><a name="p29.n">29.n/2</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10291.TXT">AI95-00291-02</A></I>} 
The description of the representation of an object was clarified (with 
great difficulty reaching agreement). Added wording to say that representation 
items on aliased and by-reference objects never need be supported if 
they would not be implementable without distributed overhead even if 
other recommended level of support says otherwise. This wording matches 
the rules with reality.</div>
<div class="paranum"><a name="p29.o">29.o/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00444.TXT">AI95-00444-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0005-1.TXT">AI05-0005-1</A></I>} 
Added wording so that inheritance depends on whether operational items 
are visible rather than whether they occur before the declaration (we 
don't want to look into private parts). Also limited operational inheritance 
to untagged types to avoid anomalies with private extensions (this is 
not incompatible, no existing operational attribute used this capability). 
Also added wording to clearly define that subprogram inheritance works 
like derivation of subprograms.&nbsp;</div>

<H4 Class="centered">Incompatibilities With Ada 2005</H4>
<div class="paranum"><a name="p29.p">29.p/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0106-1.TXT">AI05-0106-1</A></I>} 
<A NAME="I5400"></A><B>Correction:</B> Specifying a language-defined 
aspect for a generic formal parameter is no longer allowed. Most aspects 
could not be specified on these anyway; moreover, this was not allowed 
in Ada 83, so it is unlikely that compilers are supporting this as a 
capability (and it is not likely that they have a consistent definition 
of what it means if it is allowed). Thus, we expect this to occur rarely 
in existing programs.&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 2005</H4>
<div class="paranum"><a name="p29.q">29.q/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0009-1.TXT">AI05-0009-1</A></I>} 
<B>Correction:</B> Defined that overriding of an representation aspect 
only happens for a nonconfirming representation item. This prevents a 
derived type from being considered to have only a confirming representation 
item when the value would be nonconfirming if given on a type that does 
not inherit any aspects of representation. This change just eliminates 
a wording confusion and ought not change any behavior.</div>
<div class="paranum"><a name="p29.r">29.r/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0112-1.TXT">AI05-0112-1</A></I>} 
<B>Correction:</B> Defined a default naming for representation aspects 
that are representation pragmas.</div>
<div class="paranum"><a name="p29.s">29.s/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0183-1.TXT">AI05-0183-1</A></I>} 
Added text ensuring that the rules for representational and operational 
items also apply appropriately to <SPAN Class="swiss"><A HREF="AA-13-1-1.html#S0307">aspect_specification</A></SPAN>s; 
generalized operational aspects so that they can be defined for entities 
other than types. Any extensions are documented elsewhere.</div>
<div class="paranum"><a name="p29.t">29.t/3</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI05s/AI05-0295-1.TXT">AI05-0295-1</A></I>} 
Rewrote many rules to be in terms of &quot;specifying a representation 
aspect&quot; rather than use of a &quot;representation item&quot;. This 
better separates <I>how</I> an aspect is specified from <I>what</I> rules 
apply to the value of the aspect.&nbsp;</div>

<H4 Class="centered">Incompatibilities With Ada 2012</H4>
<div class="paranum"><a name="p29.u">29.u/4</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0109-1.TXT">AI12-0109-1</A></I>} 
<span class="insert4"><A NAME="I5401"></A><B>Corrigendum:</B> Added a 
rule that makes it illegal to specify a representation value after a 
type is derived from an untagged by-reference type. This restriction 
is incompatible, but since the implementation would have had to copy 
an object that does not allow copying in order to change the representation 
for any implicit or explicit conversion between the original and the 
derived type, it is unlikely that any program could exist without running 
into internal compiler errors or bogus results.</span>&nbsp;</div>

<H4 Class="centered">Wording Changes from Ada 2012</H4>
<div class="paranum"><a name="p29.v">29.v/4</a></div>
<div class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AI12s/AI12-0116-1.TXT">AI12-0116-1</A></I>} 
<span class="insert4"><B>Corrigendum:</B> Clarified that an aspect (any 
aspect) can be specified only once for an entity, no matter what means 
of specifying it are used. We did not document this as an incompatibility 
as only aspects that are neither operational nor representation could 
change behavior and there is no known implementation of these new aspects 
that allows multiple definitions.</span>&nbsp;</div>

<HR>
<div style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-13.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-13-1-1.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</div>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle; font-size:120%">Ada 2005 and 2012 Editions sponsored in part by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
