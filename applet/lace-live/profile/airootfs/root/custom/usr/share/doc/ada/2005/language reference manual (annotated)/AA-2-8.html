<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Pragmas</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.SyntaxIndentedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-2-7.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-2-9.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>2.8 Pragmas</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>Pragma</I>}</SPAN> 
[Glossary Entry]<A NAME="I1332"></A>A pragma is a compiler directive. 
There are language-defined pragmas that give instructions for optimization, 
listing control, etc. An implementation may support additional (implementation-defined) 
pragmas.&nbsp;</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">pragma</SPAN><A NAME="I1333"></A><A NAME="S0019"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;<B>pragma</B>&nbsp;<A NAME="I1334"></A><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>&nbsp;[(<A NAME="I1335"></A><SPAN Class="swiss"><A HREF="AA-2-8.html#S0020">pragma_argument_association</A></SPAN>&nbsp;{,&nbsp;<A NAME="I1336"></A><SPAN Class="swiss"><A HREF="AA-2-8.html#S0020">pragma_argument_association</A></SPAN>})];</DIV>
<DIV Class="paranum">3</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">pragma_argument_association</SPAN><A NAME="I1337"></A><A NAME="S0020"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<I>pragma_argument_</I><A NAME="I1338"></A><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>&nbsp;=&gt;]&nbsp;<A NAME="I1339"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN><BR>
&nbsp;&nbsp;&nbsp;|&nbsp;[<I>pragma_argument_</I><A NAME="I1340"></A><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>&nbsp;=&gt;]&nbsp;<A NAME="I1341"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN></DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="SyntaxIndented">In a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>, 
any <SPAN Class="swiss"><A HREF="AA-2-8.html#S0020">pragma_argument_association</A></SPAN>s 
without a <I>pragma_argument_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
shall precede any associations with a <I>pragma_argument_</I><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>.</DIV>
<DIV Class="paranum">5</DIV>
<DIV Class="SyntaxIndented" Style="margin-bottom: 0.2em"><SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">Pragma</A></SPAN>s 
are only allowed at the following places in a program:&nbsp;</DIV>
<DIV Class="paranum">6</DIV>
<UL Class="SyntaxIndentedBulleted"><LI TYPE=DISC>After a semicolon delimiter, 
but not within a <SPAN Class="swiss"><A HREF="AA-6-1.html#S0159">formal_part</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-3-7.html#S0059">discriminant_part</A></SPAN>.</LI></UL>
<DIV Class="paranum">7</DIV>
<UL Class="SyntaxIndentedBulleted"><LI TYPE=DISC>At any place where the 
syntax rules allow a construct defined by a syntactic category whose 
name ends with &quot;<SPAN Class="swiss">declaration</SPAN>&quot;, &quot;<SPAN Class="swiss">statement</SPAN>&quot;, 
&quot;<SPAN Class="swiss">clause</SPAN>&quot;, or &quot;<SPAN Class="swiss">alternative</SPAN>&quot;, 
or one of the syntactic categories <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0072">variant</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-11-2.html#S0248">exception_handler</A></SPAN>; 
but not in place of such a construct. Also at any place where a <SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0229">compilation_unit</A></SPAN> 
would be allowed.&nbsp;</LI></UL>
<DIV Class="paranum">8</DIV>
<DIV Class="SyntaxIndented">Additional syntax rules and placement restrictions 
exist for specific pragmas.&nbsp;</DIV>
<DIV Class="paranum">8.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>The above rule is written 
in text, rather than in BNF; the syntactic category <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
is not used in any BNF syntax rule.&nbsp;</DIV>
<DIV Class="paranum">8.b</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>A <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
is allowed where a <SPAN Class="swiss"><A HREF="AA-12-1.html#S0256">generic_formal_parameter_declaration</A></SPAN> 
is allowed.&nbsp;</DIV>
<DIV Class="paranum">9</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>name (of a pragma)</I>}</SPAN> 
<A NAME="I1342"></A><SPAN STYLE="font-size: 80%">{<I>pragma name</I>}</SPAN> 
<A NAME="I1343"></A>The <I>name</I> of a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
is the identifier following the reserved word <B>pragma</B>. <SPAN STYLE="font-size: 80%">{<I>pragma 
argument</I>}</SPAN> <A NAME="I1344"></A><SPAN STYLE="font-size: 80%">{<I>argument 
of a pragma</I>}</SPAN> <A NAME="I1345"></A>The <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
or <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
of a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0020">pragma_argument_association</A></SPAN> 
is a <I>pragma argument</I>.</DIV>
<DIV Class="paranum">9.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>To be honest:&nbsp;</B></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10284.TXT">AI95-00284-02</A></I>} 
<SPAN class="insert2">For compatibility with Ada 83, the name of a pragma 
may also be &ldquo;<B>interface</B>&rdquo;, which is not an identifier 
(because it is a reserved word). See <A HREF="AA-J-12.html">J.12</A>.</SPAN> 
</DIV>
<DIV Class="paranum">10</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>identifier specific 
to a pragma</I>}</SPAN> <A NAME="I1346"></A><SPAN STYLE="font-size: 80%">{<I>pragma, 
identifier specific to</I>}</SPAN> <A NAME="I1347"></A>An <I>identifier 
specific to a pragma</I> is an identifier that is used in a pragma argument 
with special meaning for that pragma.&nbsp;</DIV>
<DIV Class="paranum">10.a</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B>Whenever the syntax rules 
for a given pragma allow &quot;<SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>&quot; 
as an argument of the <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>, 
that <SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN> 
is an identifier specific to that pragma.&nbsp;</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">11</DIV>
<DIV Class="Normal">If an implementation does not recognize the name 
of a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>, 
then it has no effect on the semantics of the program. Inside such a 
<SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>, the 
only rules that apply are the Syntax Rules.&nbsp;</DIV>
<DIV Class="paranum">11.a</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B>This rule takes precedence 
over any other rules that imply otherwise.&nbsp;</DIV>
<DIV Class="paranum">11.b</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Note well: this rule applies 
only to <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>s 
whose name is not recognized. If anything else is wrong with a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
(at compile time), the <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
is illegal. This is true whether the <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
is language defined or implementation defined.</DIV>
<DIV Class="paranum">11.c</DIV>
<DIV Class="Annotations">For example, an expression in an unrecognized 
<SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> does 
not cause freezing, even though the rules in <A HREF="AA-13-14.html">13.14</A>, 
&ldquo;<A HREF="AA-13-14.html">Freezing Rules</A>&rdquo; say it does; 
the above rule overrules those other rules. On the other hand, an expression 
in a recognized <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
causes freezing, even if this makes something illegal.</DIV>
<DIV Class="paranum">11.d</DIV>
<DIV Class="Annotations">For another example, an expression that would 
be ambiguous is not illegal if it is inside an unrecognized <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>.</DIV>
<DIV Class="paranum">11.e</DIV>
<DIV Class="Annotations">Note, however, that implementations have to 
recognize <B>pragma</B> Inline(Foo) and freeze things accordingly, even 
if they choose to never do inlining.</DIV>
<DIV Class="paranum">11.f</DIV>
<DIV Class="Annotations">Obviously, the contradiction needs to be resolved 
one way or the other. The reasons for resolving it this way are: The 
implementation is simple &mdash; the compiler can just ignore the <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
altogether. The interpretation of constructs appearing inside implementation-defined 
<SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>s is 
implementation defined. For example: &ldquo;<B>pragma</B> Mumble(X);&rdquo;. 
If the current implementation has never heard of Mumble, then it doesn't 
know whether X is a name, an expression, or an identifier specific to 
the pragma Mumble.&nbsp;</DIV>
<DIV Class="paranum">11.g</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B>The syntax of individual 
pragmas overrides the general syntax for <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>. 
</DIV>
<DIV Class="paranum">11.h</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Thus, an identifier specific 
to a pragma is not a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>, 
syntactically; if it were, the visibility rules would be invoked, which 
is not what we want.</DIV>
<DIV Class="paranum">11.i</DIV>
<DIV Class="Annotations">This also implies that named associations do 
not allow one to give the arguments in an arbitrary order &mdash; the 
order given in the syntax rule for each individual pragma must be obeyed. 
However, it is generally possible to leave out earlier arguments when 
later ones are given; for example, this is allowed by the syntax rule 
for pragma Import (see <A HREF="AA-B-1.html">B.1</A>, &ldquo;<A HREF="AA-B-1.html">Interfacing 
Pragmas</A>&rdquo;). As for subprogram calls, positional notation precedes 
named notation.</DIV>
<DIV Class="paranum">11.j</DIV>
<DIV Class="Annotations">Note that Ada 83 had no pragmas for which the 
order of named associations mattered, since there was never more than 
one argument that allowed named associations.&nbsp;</DIV>
<DIV Class="paranum">11.k</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B>The interpretation of the 
arguments of implementation-defined pragmas is implementation defined. 
However, the syntax rules have to be obeyed.&nbsp;</DIV>

<H4 Class="centered">Dynamic Semantics</H4>
<DIV Class="paranum">12</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>execution (pragma)</I> 
[partial]}</SPAN> <A NAME="I1348"></A><SPAN STYLE="font-size: 80%">{<I>elaboration 
(pragma)</I> [partial]}</SPAN> <A NAME="I1349"></A>Any <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
that appears at the place of an executable construct is executed. Unless 
otherwise specified for a particular pragma, this execution consists 
of the evaluation of each evaluable pragma argument in an arbitrary order. 
</DIV>
<DIV Class="paranum">12.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>For a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
that appears at the place of an elaborable construct, execution is elaboration.</DIV>
<DIV Class="paranum">12.b</DIV>
<DIV Class="Annotations">An identifier specific to a pragma is neither 
a <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> nor 
an <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
&mdash; such identifiers are not evaluated (unless an implementation 
defines them to be evaluated in the case of an implementation-defined 
<SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>).</DIV>
<DIV Class="paranum">12.c</DIV>
<DIV Class="Annotations">The &ldquo;unless otherwise specified&rdquo; 
part allows us (and implementations) to make exceptions, so a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
can contain an expression that is not evaluated. Note that <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>s 
in <SPAN Class="swiss"><A HREF="AA-3-2-1.html#S0025">type_definition</A></SPAN>s 
may contain expressions that depend on discriminants.</DIV>
<DIV Class="paranum">12.d</DIV>
<DIV Class="Annotations">When we wish to define a pragma with some run-time 
effect, we usually make sure that it appears in an executable context; 
otherwise, special rules are needed to define the run-time effect and 
when it happens.&nbsp;</DIV>

<H4 Class="centered">Implementation Requirements</H4>
<DIV Class="paranum">13</DIV>
<DIV Class="Normal">The implementation shall give a warning message for 
an unrecognized pragma name.&nbsp;</DIV>
<DIV Class="paranum">13.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>An implementation is also 
allowed to have modes in which a warning message is suppressed, or in 
which the presence of an unrecognized <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
is a compile-time error.&nbsp;</DIV>

<H4 Class="centered">Implementation Permissions</H4>
<DIV Class="paranum">14</DIV>
<DIV Class="Normal">An implementation may provide implementation-defined 
pragmas; the name of an implementation-defined pragma shall differ from 
those of the language-defined pragmas.&nbsp;</DIV>
<DIV Class="paranum">14.a</DIV>
<DIV Class="Annotations"><B>Implementation defined:&nbsp;</B>Implementation-defined 
pragmas.</DIV>
<DIV Class="paranum">14.b</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>The semantics of implementation-defined 
pragmas, and any associated rules (such as restrictions on their placement 
or arguments), are, of course, implementation defined. Implementation-defined 
pragmas may have run-time effects.&nbsp;</DIV>
<DIV Class="paranum">15</DIV>
<DIV Class="Normal">An implementation may ignore an unrecognized pragma 
even if it violates some of the Syntax Rules, if detecting the syntax 
error is too complex.&nbsp;</DIV>
<DIV Class="paranum">15.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>Many compilers use extra post-parsing 
checks to enforce the syntax rules, since the Ada syntax rules are not 
LR(k) (for any k). (The grammar is ambiguous, in fact.) This paragraph 
allows them to ignore an unrecognized pragma, without having to perform 
such post-parsing checks.&nbsp;</DIV>

<H4 Class="centered">Implementation Advice</H4>
<DIV Class="paranum">16</DIV>
<DIV Class="Normal">Normally, implementation-defined pragmas should have 
no semantic effect for error-free programs; that is, if the implementation-defined 
pragmas are removed from a working program, the program should still 
be legal, and should still have the same semantics.&nbsp;</DIV>
<DIV Class="paranum">16.a.1/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Implementation Advice: 
</B></SPAN><SPAN class="insert2">Implementation-defined pragmas should 
have no semantic effect for error-free programs.</SPAN></DIV>
<DIV Class="paranum">16.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Note that &ldquo;semantics&rdquo; 
is not the same as &ldquo;effect;&rdquo; as explained in <A HREF="AA-1-1-3.html">1.1.3</A>, 
the semantics defines a set of possible effects.</DIV>
<DIV Class="paranum">16.b</DIV>
<DIV Class="Annotations">Note that adding a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
to a program might cause an error (either at compile time or at run time). 
On the other hand, if the language-specified semantics for a feature 
are in part implementation defined, it makes sense to support pragmas 
that control the feature, and that have real semantics; thus, this paragraph 
is merely a recommendation.&nbsp;</DIV>
<DIV Class="paranum">17</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">Normally, an implementation 
should not define pragmas that can make an illegal program legal, except 
as follows:&nbsp;</DIV>
<DIV Class="paranum">18</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>A <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
used to complete a declaration, such as a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Import;</LI></UL>
<DIV Class="paranum">19</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>A <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
used to configure the environment by adding, removing, or replacing <SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0230">library_item</A></SPAN>s. 
</LI></UL>
<DIV Class="paranum">19.a.1/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Implementation Advice: 
</B></SPAN><SPAN class="insert2">Implementation-defined pragmas should 
not make an illegal program legal, unless they complete a declaration 
or configure the <SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0230">library_item</A></SPAN>s 
in an environment.</SPAN></DIV>
<DIV Class="paranum">19.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>For example, it is OK to 
support Interface, System_Name, Storage_Unit, and Memory_Size <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>s 
for upward compatibility reasons, even though all of these <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>s 
can make an illegal program legal. (The latter three can affect legality 
in a rather subtle way: They affect the value of named numbers in System, 
and can therefore affect the legality in cases where static expressions 
are required.)</DIV>
<DIV Class="paranum">19.b</DIV>
<DIV Class="Annotations">On the other hand, adding implementation-defined 
pragmas to a legal program can make it illegal. For example, a common 
kind of implementation-defined pragma is one that promises some property 
that allows more efficient code to be generated. If the promise is a 
lie, it is best if the user gets an error message.&nbsp;</DIV>

<H4 Class="centered">Incompatibilities With Ada 83</H4>
<DIV Class="paranum">19.c</DIV>
<DIV Class="Annotations">{<I>incompatibilities with Ada 83</I>} <A NAME="I1350"></A>In 
Ada 83, &ldquo;bad&rdquo; <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>s 
are ignored. In Ada 95, they are illegal, except in the case where the 
name of the <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
itself is not recognized by the implementation.&nbsp;</DIV>

<H4 Class="centered">Extensions to Ada 83</H4>
<DIV Class="paranum">19.d</DIV>
<DIV Class="Annotations">{<I>extensions to Ada 83</I>} <A NAME="I1351"></A>Implementation-defined 
<SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>s may 
affect the legality of a program.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<DIV Class="paranum">19.e</DIV>
<DIV Class="Annotations">Implementation-defined <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>s 
may affect the run-time semantics of the program. This was always true 
in Ada 83 (since it was not explicitly forbidden by RM83), but it was 
not clear, because there was no definition of &ldquo;executing&rdquo; 
or &ldquo;elaborating&rdquo; a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>. 
</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">20</DIV>
<DIV Class="SyntaxIndented" Style="margin-bottom: 0.2em">The forms of 
List, Page, and Optimize <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN>s 
are as follows:</DIV>
<DIV Class="paranum">21</DIV>
<DIV Class="SyntaxIndented">&nbsp;&nbsp;<B>pragma</B> <A NAME="I1352"></A><A NAME="I1353"></A>List(<A NAME="I1354"></A><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>);</DIV>
<DIV Class="paranum">22</DIV>
<DIV Class="SyntaxIndented">&nbsp;&nbsp;<B>pragma</B> <A NAME="I1355"></A><A NAME="I1356"></A>Page;</DIV>
<DIV Class="paranum">23</DIV>
<DIV Class="SyntaxIndented">&nbsp;&nbsp;<B>pragma</B> <A NAME="I1357"></A><A NAME="I1358"></A>Optimize(<A NAME="I1359"></A><SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>);</DIV>
<DIV Class="paranum">24</DIV>
<DIV Class="SyntaxIndented">[Other pragmas are defined throughout this 
International Standard, and are summarized in <A HREF="AA-L.html">Annex 
L</A>.]&nbsp;</DIV>
<DIV Class="paranum">24.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>The language-defined pragmas 
are supported by every implementation, although &ldquo;supporting&rdquo; 
some of them (for example, Inline) requires nothing more than checking 
the arguments, since they act only as advice to the implementation.&nbsp;</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">25</DIV>
<DIV Class="Normal">A <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
List takes one of the <SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>s 
On or Off as the single argument. This pragma is allowed anywhere a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
is allowed. It specifies that listing of the compilation is to be continued 
or suspended until a List <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
with the opposite argument is given within the same compilation. The 
<SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> itself 
is always listed if the compiler is producing a listing.</DIV>
<DIV Class="paranum">26</DIV>
<DIV Class="Normal">A <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Page is allowed anywhere a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
is allowed. It specifies that the program text which follows the <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
should start on a new page (if the compiler is currently producing a 
listing).</DIV>
<DIV Class="paranum">27</DIV>
<DIV Class="Normal">A <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Optimize takes one of the <SPAN Class="swiss"><A HREF="AA-2-3.html#S0002">identifier</A></SPAN>s 
Time, Space, or Off as the single argument. This <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
is allowed anywhere a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
is allowed, and it applies until the end of the immediately enclosing 
declarative region, or for a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
at the place of a <SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0229">compilation_unit</A></SPAN>, 
to the end of the <SPAN Class="swiss"><A HREF="AA-10-1-1.html#S0228">compilation</A></SPAN>. 
It gives advice to the implementation as to whether time or space is 
the primary optimization criterion, or that optional optimizations should 
be turned off. [It is implementation defined how this advice is followed.] 
</DIV>
<DIV Class="paranum">27.a</DIV>
<DIV Class="Annotations"><B>Implementation defined:&nbsp;</B>Effect of pragma 
Optimize.</DIV>
<DIV Class="paranum">27.b</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>For example, a compiler might 
use Time vs. Space to control whether generic instantiations are implemented 
with a macro-expansion model, versus a shared-generic-body model.</DIV>
<DIV Class="paranum">27.c</DIV>
<DIV Class="Annotations">We don't define what constitutes an &ldquo;optimization&rdquo; 
&mdash; in fact, it cannot be formally defined in the context of Ada. 
One compiler might call something an optional optimization, whereas another 
compiler might consider that same thing to be a normal part of code generation. 
Thus, the programmer cannot rely on this pragma having any particular 
portable effect on the generated code. Some compilers might even ignore 
the pragma altogether.&nbsp;</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">28</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><I>Examples of pragmas:</I> 
</DIV>
<DIV Class="paranum">29/2</DIV>
<DIV Class="Examples">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00433.TXT">AI95-00433-01</A></I>} 
<B>pragma</B>&nbsp;List(Off);&nbsp;--<SPAN Class="roman"><I>&nbsp;turn&nbsp;off&nbsp;listing&nbsp;generation</I></SPAN><BR>
<B>pragma</B>&nbsp;Optimize(Off);&nbsp;--<SPAN Class="roman"><I>&nbsp;turn&nbsp;off&nbsp;optional&nbsp;optimizations</I></SPAN><BR>
<B>pragma</B>&nbsp;Inline(Set_Mask);&nbsp;--<SPAN Class="roman"><I>&nbsp;generate&nbsp;code&nbsp;for&nbsp;Set_Mask&nbsp;inline</I></SPAN><BR>
<SPAN class="insert2"><B>pragma</B>&nbsp;Import(C,&nbsp;Put_Char,&nbsp;External_Name&nbsp;=&gt;&nbsp;&quot;putchar&quot;);&nbsp;--<SPAN Class="roman"><I>&nbsp;import&nbsp;C&nbsp;putchar&nbsp;function</I></SPAN></SPAN><SPAN class="delete2"><B>&nbsp;pragma</B>&nbsp;Suppress(Range_Check,&nbsp;On&nbsp;=&gt;&nbsp;Index);&nbsp;--<SPAN Class="roman"><I>&nbsp;turn&nbsp;off&nbsp;range&nbsp;checking&nbsp;on&nbsp;Index</I></SPAN></SPAN></DIV>

<H4 Class="centered">Extensions to Ada 83</H4>
<DIV Class="paranum">29.a</DIV>
<DIV Class="Annotations">{<I>extensions to Ada 83</I>} <A NAME="I1360"></A>The 
Optimize <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
now allows the identifier Off to request that normal optimization be 
turned off.</DIV>
<DIV Class="paranum">29.b</DIV>
<DIV Class="Annotations">An Optimize <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
may appear anywhere pragmas are allowed.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<DIV Class="paranum">29.c</DIV>
<DIV Class="Annotations">We now describe the pragmas Page, List, and 
Optimize here, to act as examples, and to remove the normative material 
from <A HREF="AA-L.html">Annex L</A>, &ldquo;<A HREF="AA-L.html">Language-Defined 
Pragmas</A>&rdquo;, so it can be entirely an informative annex.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">29.d/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00433.TXT">AI95-00433-01</A></I>} 
<SPAN class="insert2">Updated the example of named pragma parameters, 
because the second parameter of <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Suppress is obsolescent.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-2-7.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-2-9.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
