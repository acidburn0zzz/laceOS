<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Pragma Discard_Names</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-C-4.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-C-6.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>C.5 Pragma Discard_Names</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal">[A <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Discard_Names may be used to request a reduction in storage used for 
the names of certain entities.]&nbsp;</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2</DIV>
<DIV Class="SyntaxIndented" Style="margin-bottom: 0.2em">The form of 
a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> Discard_Names 
is as follows:&nbsp;</DIV>
<DIV Class="paranum">3</DIV>
<DIV Class="SyntaxIndented">&nbsp;&nbsp;<B>pragma</B> <A NAME="I7315"></A><A NAME="I7316"></A>Discard_Names[([On 
=&gt; ] <A NAME="I7317"></A><SPAN Class="swiss"><A HREF="AA-13-1.html#S0285">local_name</A></SPAN>)];</DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="SyntaxIndented">A <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Discard_Names is allowed only immediately within a <SPAN Class="swiss"><A HREF="AA-3-11.html#S0086">declarative_part</A></SPAN>, 
immediately within a <SPAN Class="swiss"><A HREF="AA-7-1.html#S0174">package_specification</A></SPAN>, 
or as a configuration pragma. <SPAN STYLE="font-size: 80%">{<I>configuration 
pragma (Discard_Names)</I> [partial]}</SPAN> <A NAME="I7318"></A><SPAN STYLE="font-size: 80%">{<I>pragma, 
configuration (Discard_Names)</I> [partial]}</SPAN> <A NAME="I7319"></A></DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">5</DIV>
<DIV Class="Normal">The <SPAN Class="swiss"><A HREF="AA-13-1.html#S0285">local_name</A></SPAN> 
(if present) shall denote a non-derived enumeration [first] subtype, 
a tagged [first] subtype, or an exception. The pragma applies to the 
type or exception. Without a <SPAN Class="swiss"><A HREF="AA-13-1.html#S0285">local_name</A></SPAN>, 
the pragma applies to all such entities declared after the pragma, within 
the same declarative region. Alternatively, the pragma can be used as 
a configuration pragma. If the pragma applies to a type, then it applies 
also to all descendants of the type.&nbsp;</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">6</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>representation pragma 
(Discard_Names)</I> [partial]}</SPAN> <A NAME="I7320"></A><SPAN STYLE="font-size: 80%">{<I>pragma, 
representation (Discard_Names)</I> [partial]}</SPAN> <A NAME="I7321"></A>If 
a <SPAN Class="swiss"><A HREF="AA-13-1.html#S0285">local_name</A></SPAN> 
is given, then a <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Discard_Names is a representation pragma.</DIV>
<DIV Class="paranum">7/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00285.TXT">AI95-00285-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00400.TXT">AI95-00400-01</A></I>} 
If the pragma applies to an enumeration type, then the semantics of the 
<SPAN class="insert2">Wide_Wide_Image</SPAN><SPAN class="delete2">&nbsp;Wide_Image</SPAN> 
and <SPAN class="insert2">Wide_Wide_Value</SPAN><SPAN class="delete2">&nbsp;Wide_Value</SPAN> 
attributes are implementation defined for that type[; the semantics of 
Image<SPAN class="insert2">, Wide_Image,</SPAN><SPAN class="delete2">&nbsp;and</SPAN> Value<SPAN class="insert2">, and Wide_Value</SPAN> are still 
defined in terms of <SPAN class="insert2">Wide_Wide_Image</SPAN><SPAN class="delete2">&nbsp;Wide_Image</SPAN> 
and <SPAN class="insert2">Wide_Wide_Value</SPAN><SPAN class="delete2">&nbsp;Wide_Value</SPAN>]. 
In addition, the semantics of Text_IO.Enumeration_IO are implementation 
defined. If the pragma applies to a tagged type, then the semantics of 
the Tags.<SPAN class="insert2">Wide_Wide_Expanded_Name</SPAN><SPAN class="delete2">&nbsp;Expanded_Name</SPAN> 
function are implementation defined for that type<SPAN class="insert2">[; 
the semantics of Tags.Expanded_Name and Tags.Wide_Expanded_Name are still 
defined in terms of Tags.Wide_Wide_Expanded_Name]</SPAN>. If the pragma 
applies to an exception, then the semantics of the Exceptions.<SPAN class="insert2">Wide_Wide_Exception_Name</SPAN><SPAN class="delete2">&nbsp;Exception_Name</SPAN> 
function are implementation defined for that exception<SPAN class="insert2">[; 
the semantics of Exceptions.Exception_Name and Exceptions.Wide_Exception_Name 
are still defined in terms of Exceptions.Wide_Wide_Exception_Name]</SPAN>.</DIV>
<DIV Class="paranum">7.a</DIV>
<DIV Class="Annotations"><B>Implementation defined:&nbsp;</B>The semantics 
of pragma Discard_Names.</DIV>
<DIV Class="paranum">7.b</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>The Width attribute is 
still defined in terms of Image.</DIV>
<DIV Class="paranum">7.c/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00285.TXT">AI95-00285-01</A></I>} 
The semantics of S'<SPAN class="insert2">Wide_Wide_Image</SPAN><SPAN class="delete2">&nbsp;Wide_Image</SPAN> 
and S'<SPAN class="insert2">Wide_Wide_Value</SPAN><SPAN class="delete2">&nbsp;Wide_Value</SPAN> 
are implementation defined for any subtype of an enumeration type to 
which the pragma applies. (The pragma actually names the first subtype, 
of course.)&nbsp;</DIV>

<H4 Class="centered">Implementation Advice</H4>
<DIV Class="paranum">8</DIV>
<DIV Class="Normal">If the pragma applies to an entity, then the implementation 
should reduce the amount of storage used for storing names associated 
with that entity.&nbsp;</DIV>
<DIV Class="paranum">8.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Implementation Advice: 
</B></SPAN><SPAN class="insert2">If <SPAN Class="swiss"><A HREF="AA-2-8.html#S0019">pragma</A></SPAN> 
Discard_Names applies to an entity, then the amount of storage used for 
storing names associated with that entity should be reduced.</SPAN></DIV>
<DIV Class="paranum">8.b</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>A typical implementation of the 
Image attribute for enumeration types is to store a table containing 
the names of all the enumeration literals. Pragma Discard_Names allows 
the implementation to avoid storing such a table without having to prove 
that the Image attribute is never used (which can be difficult in the 
presence of separate compilation).</DIV>
<DIV Class="paranum">8.c</DIV>
<DIV Class="Annotations">We did not specify the semantics of the Image 
attribute in the presence of this pragma because different semantics 
might be desirable in different situations. In some cases, it might make 
sense to use the Image attribute to print out a useful value that can 
be used to identify the entity given information in compiler-generated 
listings. In other cases, it might make sense to get an error at compile 
time or at run time. In cases where memory is plentiful, the simplest 
implementation makes sense: ignore the pragma. Implementations that are 
capable of avoiding the extra storage in cases where the Image attribute 
is never used might also wish to ignore the pragma.</DIV>
<DIV Class="paranum">8.d</DIV>
<DIV Class="Annotations">The same applies to the Tags.Expanded_Name and 
Exceptions.Exception_Name functions.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">8.e/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00285.TXT">AI95-00285-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00400.TXT">AI95-00400-01</A></I>} 
<SPAN class="insert2">Updated the wording to reflect that the double 
wide image and value functions are now the master versions that the others 
are defined from.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-C-4.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-C-6.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
