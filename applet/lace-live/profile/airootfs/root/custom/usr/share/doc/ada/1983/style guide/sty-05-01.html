<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML><HEAD>
<TITLE>Ada '83 Quality and Style, Sec 5.1: Optional Parts of the Syntax
</TITLE>
</HEAD><BODY>

<a href="http://sw-eng.falls-church.va.us/AdaIC/"><IMG SRC="small_adaic_logo.gif" ALT="[Ada Information Clearinghouse]"></a>
<hr>
<H1>Ada '83 Quality and Style:</h1>
<h2>Guidelines for Professional Programmers</H2>
<h6><a href="sty-00.html">Copyright</a> 1989, 1991,1992
<a href="http://software.org/">Software Productivity Consortium, Inc.</a>, Herndon, Virginia.</h6>
<hr>
<H2>CHAPTER 5: Programming Practices</H2>

<H3><a name="5.1">5.1     Optional Parts of the Syntax</a></H3>
Parts of the Ada syntax, while optional, can enhance the readability of the  
code. The guidelines given below concern use of some of these optional  
features.

<center><TABLE BORDER CELLPADDING=6>
   <TR>
      <TD>
<b><font size=+1>In this section...</font><BR>
<a href="#5.1.1">5.1.1   Loop Names</a><BR>
<a href="#5.1.2">5.1.2   Block Names</a><BR>
<a href="#5.1.3">5.1.3   Exit Statements</a><BR>
<a href="#5.1.4">5.1.4   Naming End Statements</a></b>
     </TD>
   </TR>
   <TR>
      <TD>
<b><a href="sty-05-10.html#5.10.1"> Summary of Guidelines from this section</a></b>
     </TD>
   </TR>
</TABLE></center>


<H3><BR><a name="5.1.1">5.1.1   Loop Names</a></H3>

<H4>guideline</H4>
<UL>
<li>Associate names with loops when they are nested (Booch 1987, 1986). 
</UL>

<H4>example </H4>
<table border cellpadding=6><tr><td><pre>Process_Each_Page: 
   loop
   
      Process_All_The_Lines_On_This_Page: 
         loop
   
            ... 
           exit Process_All_The_Lines_On_This_Page when 
               Line_Number = Max_Lines_On_Page;
      
            ... 
     Look_For_Sentinel_Value: 
            loop
         
                ... 
                exit Look_For_Sentinel_Value when 
                   Current_Symbol = Sentinel;
      
                ... 
            end loop Look_For_Sentinel_Value;
         
          ... 
      end loop Process_All_The_Lines_On_This_Page;
   
      ... 
      exit Process_Each_Page when Page_Number = Maximum_Pages;
      
      ... 
   end loop Process_Each_Page;</pre></td></tr></table>

<H4>rationale</H4>
When you associate a name with a loop, you must include that name with the  
associated end for that loop (Department of Defense 1983). This helps readers  
find the associated end for any given loop. This is especially true if loops  
are broken over screen or page boundaries. The choice of a good name for the  
loop documents its purpose, reducing the need for explanatory comments. If a  
name for a loop is very difficult to choose, this could indicate a need for  
more thought about the algorithm.<P>
Regularly naming loops helps you follow <a href="#5.1.3">Guideline 5.1.3</a>.<P>
It can be difficult to think up a name for every loop, therefore the guideline 
specifies nested loops. The benefits in readability and second thought 
outweigh the inconvenience of naming the loops.<P>
<b>Language Ref Manual references:</b> 
    <A HREF="http://archive.adaic.com/standards/83lrm/html/lrm-05-05.html#5.5">5.5&nbsp;Loop Statements</A>


<H3><BR><a name="5.1.2">5.1.2   Block Names</a></H3>

<H4>guideline</H4>
<UL>
<li>Associate names with blocks when they are nested. 
</UL>

<H4>example </H4>
<table border cellpadding=6><tr><td><pre>Trip: 
   declare 
      ... 
   begin  -- Trip
   
      Arrive_At_Airport: 
         declare 
            ... 
         begin  -- Arrive_At_Airport
   
            Rent_Car; 
            Claim_Baggage; 
            Reserve_Hotel;
      
            ... 
         end Arrive_At_Airport;
   
      Visit_Customer: 
         declare 
            ... 
         begin  -- Visit_Customer 
            -- again a set of activities... 
            ... 
         end Visit_Customer;
         
      Departure_Preparation: 
         declare 
            ... 
         begin  -- Departure_Preparation 
            Return_Car; 
            Check_Baggage; 
            Wait_For_Flight;
            
            ... 
         end Departure_Preparation;
         
      Board_Return_Flight; 
   end Trip;</pre></td></tr></table>

<H4>rationale</H4>
When there is a nested block structure it can be difficult to determine which  
end corresponds to which block. Naming blocks alleviates this confusion. The  
choice of a good name for the block documents its purpose, reducing the need  
for explanatory comments. If a name for the block is very difficult to choose,  
this could indicate a need for more thought about the algorithm.<P>
This guideline is also useful if nested blocks are broken over a screen or 
page boundary.<P>
It can be difficult to think up a name for each block, therefore the guideline  
specifies nested blocks. The benefits in readability and second thought  
outweigh the inconvenience of naming the blocks.<P>
<b>Language Ref Manual references:</b> 
    <A HREF="http://archive.adaic.com/standards/83lrm/html/lrm-05-06.html#5.6">5.6&nbsp;Block Statements</A>

        
<H3><BR><a name="5.1.3">5.1.3   Exit Statements</a></H3>

<H4>guideline</H4>
<UL>
<li>Use loop names on all exit statements from nested loops. 
</UL>

<H4>example</H4>
See the example in <a href="#5.1.1">Guideline 5.1.1</a>.

<H4>rationale</H4>
An exit statement is an implicit goto. It should specify its source 
explicitly.  When there is a nested loop structure and an exit statement is 
used, it can be difficult to determine which loop is being exited. Also, 
future changes which may introduce a nested loop are likely to introduce an 
error, with the exit accidentally exiting from the wrong loop. Naming loops 
and their exits alleviates this confusion. This guideline is also useful if 
nested loops are broken over a screen or page boundary.
<P>
<b>Language Ref Manual references:</b> 
    <A HREF="http://archive.adaic.com/standards/83lrm/html/lrm-05-07.html#5.7">5.7&nbsp;Exit Statements</A>


<H3><BR><a name="5.1.4">5.1.4   Naming End Statements</a></H3>

<H4>guideline</H4>
<UL>
<li>Include the simple name at the end of a package specification and body. 
<li>Include the simple name at the end of a task specification and body.   
<li>Include the simple name at the end of an accept statement. 
<li>Include the designator at the end of a subprogram body.  
</UL>

<H4>example</H4>
<table border cellpadding=6><tr><td><pre>------------------------------------------------------------------------ 
package Autopilot is

   function Is_Engaged return Boolean;
   
   procedure Engage; 
   procedure Disengage;
   
end Autopilot;

------------------------------------------------------------------------

package body Autopilot is

   ...
   
   --------------------------------------------------------------------- 
   task Course_Monitor is 
      entry Reset (Engage : in     Boolean); 
   end Course_Monitor;
   
   --------------------------------------------------------------------- 
   function Is_Engaged return Boolean is 
   ... 
   end Is_Engaged;
   
   --------------------------------------------------------------------- 
   procedure Engage is 
   ... 
   end Engage;
   
   --------------------------------------------------------------------- 
   procedure Disengage is 
   ... 
   end Disengage;
   
   --------------------------------------------------------------------- 
   task body Course_Monitor is 
   ... 
         accept Reset (Engage : in     Boolean) do
         
            ...
            
         end Reset;
         
   ... 
   end Course_Monitor;
   
   --------------------------------------------------------------------- 
end Autopilot; 
------------------------------------------------------------------------</pre></td></tr></table>

<H4>rationale</H4>
Repeating names on the end of these compound statements ensures consistency  
throughout the code. In addition, the named end provides a reference for the  
reader if the unit spans a page or screen boundary, or if it contains a nested  
unit.<P>
<b>Language Ref Manual references:</b> 
    <A HREF="http://archive.adaic.com/standards/83lrm/html/lrm-06-03.html#6.3">6.3&nbsp;Subprogram Bodies</A>, 
    <A HREF="http://archive.adaic.com/standards/83lrm/html/lrm-07-02.html#7.2">7.2&nbsp;Package Specifications and Declarations</A>, 
    <A HREF="http://archive.adaic.com/standards/83lrm/html/lrm-07-03.html#7.3">7.3&nbsp;Package Bodies</A>, 
    <A HREF="http://archive.adaic.com/standards/83lrm/html/lrm-09-01.html#9.1">9.1&nbsp;Abort Statements</A>, 
    <A HREF="http://archive.adaic.com/standards/83lrm/html/lrm-09-05.html#9.5">9.5&nbsp;Entries, Entry Calls, and Accept Statements</A>

<hr>
<A HREF="index.html">Back to document index</A>
</BODY></HTML>
