<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Object Renaming Declarations</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert1 {text-decoration: underline; color: rgb(0,51,51) }
    SPAN.delete1 {text-decoration: line-through; color: rgb(0,51,51) }
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    DIV.SmallExamples {font-family: "Courier New", monospace; font-size: 72%; line-height: 122%; margin-left: 9.6em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-8-5.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-8-5-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>8.5.1 Object Renaming Declarations</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal">[An <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0183">object_renaming_declaration</A></SPAN> 
is used to rename an object.]&nbsp;</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2/2</DIV>
<DIV Class="SyntaxIndented">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00230.TXT">AI95-00230-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00423.TXT">AI95-00423-01</A></I>} 
<SPAN Class="swiss">object_renaming_declaration</SPAN><A NAME="I3776"></A><A NAME="S0183"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><SPAN class="insert2"><BR>
&nbsp;&nbsp;&nbsp;&nbsp;</SPAN><A NAME="I3777"></A><SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN>&nbsp;:&nbsp;<SPAN class="insert2">[<A NAME="I3778"></A><SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>]&nbsp;</SPAN><A NAME="I3779"></A><SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN>&nbsp;<B>renames</B>&nbsp;<I>object_</I><A NAME="I3780"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>;<SPAN class="insert2"><BR>
&nbsp;&nbsp;|&nbsp;<A NAME="I3781"></A><SPAN Class="swiss"><A HREF="AA-3-1.html#S0022">defining_identifier</A></SPAN>&nbsp;:&nbsp;<A NAME="I3782"></A><SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN>&nbsp;<B>renames</B>&nbsp;<I>object_</I><A NAME="I3783"></A><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN>;</SPAN></DIV>

<H4 Class="centered">Name Resolution Rules</H4>
<DIV Class="paranum">3/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00230.TXT">AI95-00230-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00254.TXT">AI95-00254-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
The type of the <I>object_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
shall resolve to the type determined by the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN><SPAN class="insert2">, 
or in the case where the type is defined by an <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN>, 
to an anonymous access type. If the anonymous access type is an access-to-object 
type, the type of the <I>object_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
shall have the same designated type as that of the <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN>. 
If the anonymous access type is an access-to-subprogram type, the type 
of the <I>object_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
shall have a designated profile that is type conformant with that of 
the <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN></SPAN>.</DIV>
<DIV Class="paranum">3.a</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em"><B>Reason:&nbsp;</B>A 
previous version of Ada 9X used the usual &ldquo;expected type&rdquo; 
wording:<BR>
&ldquo;The expected type for the <I>object_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
is that determined by the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN>.&rdquo;<BR>
We changed it so that this would be illegal:&nbsp;</DIV>
<DIV Class="paranum">3.b</DIV>
<DIV Class="SmallExamples">X:&nbsp;T;<BR>
Y:&nbsp;T'Class&nbsp;<B>renames</B>&nbsp;X;&nbsp;--<SPAN Class="roman"><I>&nbsp;Illegal!</I></SPAN></DIV>
<DIV Class="paranum">3.c</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em">When the above 
was legal, it was unclear whether Y was of type T or T'Class. Note that 
we still allow this:&nbsp;</DIV>
<DIV Class="paranum">3.d</DIV>
<DIV Class="SmallExamples">Z:&nbsp;T'Class&nbsp;:=&nbsp;...;<BR>
W:&nbsp;T&nbsp;<B>renames</B>&nbsp;F(Z);</DIV>
<DIV Class="paranum">3.e</DIV>
<DIV Class="Annotations">where F is a function with a controlling parameter 
and result. This is admittedly a bit odd.</DIV>
<DIV Class="paranum">3.f</DIV>
<DIV Class="Annotations">Note that the matching rule for generic formal 
parameters of mode <B>in out</B> was changed to keep it consistent with 
the rule for renaming. That makes the rule different for <B>in</B> vs. 
<B>in out</B>.</DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">4</DIV>
<DIV Class="Normal">The renamed entity shall be an object.</DIV>
<DIV Class="paranum">4.1/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00231.TXT">AI95-00231-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<SPAN class="insert2">In the case where the type is defined by an <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN>, 
the type of the renamed object and the type defined by the <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN>:</SPAN> 
</DIV>
<DIV Class="paranum">4.2/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00231.TXT">AI95-00231-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<SPAN class="insert2">shall both be access-to-object types with statically 
matching designated subtypes and with both or neither being access-to-constant 
types; or <SPAN STYLE="font-size: 80%">{<I>statically matching (required)</I> 
[partial]}</SPAN> <A NAME="I3784"></A></SPAN></LI></UL>
<DIV Class="paranum">4.3/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<SPAN class="insert2">shall both be access-to-subprogram types with subtype 
conformant designated profiles. <SPAN STYLE="font-size: 80%">{<I>subtype 
conformance (required)</I>}</SPAN> <A NAME="I3785"></A></SPAN></LI></UL>
<DIV Class="paranum">4.4/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00423.TXT">AI95-00423-01</A></I>} 
<SPAN class="insert2">For an <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0183">object_renaming_declaration</A></SPAN> 
with a <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN> 
or an <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN> 
that has a <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>:</SPAN></DIV>
<DIV Class="paranum">4.5/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">if the <I>object_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
denotes a generic formal object of a generic unit <I>G</I>, and the <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0183">object_renaming_declaration</A></SPAN> 
occurs within the body of <I>G</I> or within the body of a generic unit 
declared within the declarative region of <I>G</I>, then the declaration 
of the formal object of <I>G</I> shall have a <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>;</SPAN></LI></UL>
<DIV Class="paranum">4.6/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">otherwise, the 
subtype of the <I>object_</I><SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
shall exclude null. <SPAN STYLE="font-size: 80%">{<I>generic contract 
issue</I> [partial]}</SPAN> <A NAME="I3786"></A>In addition to the places 
where Legality Rules normally apply (see <A HREF="AA-12-3.html">12.3</A>), 
this rule applies also in the private part of an instance of a generic 
unit.</SPAN></LI></UL>
<DIV Class="paranum">4.a/2</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em"><SPAN class="insert2"><B>Reason: 
</B>This rule prevents &ldquo;lying&rdquo;. <B>Null</B> must never be 
the value of an object with an explicit <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>. 
The first bullet is an assume-the-worst rule which prevents trouble in 
one obscure case:</SPAN>&nbsp;</DIV>
<DIV Class="paranum">4.b/2</DIV>
<DIV Class="SmallExamples"><SPAN class="insert2"><B>type</B>&nbsp;Acc_I&nbsp;<B>is&nbsp;access</B>&nbsp;Integer;<BR>
<B>subtype</B>&nbsp;Acc_NN_I&nbsp;<B>is&nbsp;not&nbsp;null</B>&nbsp;Acc_I;<BR>
Obj&nbsp;:&nbsp;Acc_I&nbsp;:=&nbsp;<B>null</B>;</SPAN></DIV>
<DIV Class="paranum">4.c/2</DIV>
<DIV Class="SmallExamples"><SPAN class="insert2"><B>generic</B><BR>
&nbsp;&nbsp;&nbsp;B&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;Acc_NN_I;<BR>
<B>package</B>&nbsp;Gen&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;...<BR>
<B>end</B>&nbsp;Gen;</SPAN></DIV>
<DIV Class="paranum">4.d/2</DIV>
<DIV Class="SmallExamples"><SPAN class="insert2"><B>package&nbsp;body</B>&nbsp;Gen&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;D&nbsp;:&nbsp;<B>not&nbsp;null</B>&nbsp;Acc_I&nbsp;<B>renames</B>&nbsp;B;<BR>
<B>end</B>&nbsp;Gen;</SPAN></DIV>
<DIV Class="paranum">4.e/2</DIV>
<DIV Class="SmallExamples"><SPAN class="insert2"><B>package</B>&nbsp;Inst&nbsp;<B>is&nbsp;new</B>&nbsp;Gen&nbsp;(B&nbsp;=&gt;&nbsp;Obj);</SPAN></DIV>
<DIV Class="paranum">4.f/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2">Without the first bullet 
rule, D would be legal, and contain the value <B>null</B>, because the 
rule about lying is satisfied for generic matching (Obj matches B; B 
does not explicitly state <B>not null</B>), Legality Rules are not rechecked 
in the body of any instance, and the template passes the lying rule as 
well. The rule is so complex because it has to apply to formals used 
in bodies of child generics as well as in the bodies of generics.</SPAN> 
</DIV>
<DIV Class="paranum">5/2</DIV>
<DIV Class="Normal">{<I><A HREF="defect1.html#8652/0017">8652/0017</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00184.TXT">AI95-00184-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00363.TXT">AI95-00363-01</A></I>} 
The renamed entity shall not be a subcomponent that depends on discriminants 
of a variable whose nominal subtype is unconstrained, unless this subtype 
is indefinite, or the variable is <SPAN class="insert2">constrained by 
its initial value</SPAN><SPAN class="delete2">&nbsp;aliased</SPAN>. A <SPAN Class="swiss"><A HREF="AA-4-1-2.html#S0097">slice</A></SPAN> 
of an array shall not be renamed if this restriction disallows renaming 
of the array. <SPAN class="insert1">In addition to the places where Legality 
Rules normally apply, these rules apply also in the private part of an 
instance of a generic unit. These rules also apply for a renaming that 
appears in the body of a generic unit, with the additional requirement 
that even if the nominal subtype of the variable is indefinite, its type 
shall not be a descendant of an untagged generic formal derived type.</SPAN> 
</DIV>
<DIV Class="paranum">5.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>This prevents renaming of subcomponents 
that might disappear, which might leave dangling references. Similar 
restrictions exist for the Access attribute.</DIV>
<DIV Class="paranum">5.a.1/1</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em">{<I><A HREF="defect1.html#8652/0017">8652/0017</A></I>} 
<SPAN class="insert1"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00184.TXT">AI95-00184-01</A></I>} 
<SPAN class="insert1">The &ldquo;recheck on instantiation&rdquo; and 
&ldquo;assume-the-worst in the body&rdquo; restrictions on generics are 
necessary to avoid renaming of components which could disappear even 
when the nominal subtype would prevent the problem:</SPAN></DIV>
<DIV Class="paranum">5.a.2/1</DIV>
<DIV Class="SmallExamples"><SPAN class="insert1"><B>type</B>&nbsp;T1&nbsp;(D1&nbsp;:&nbsp;Boolean)&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;<B>record</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>case</B>&nbsp;D1&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>when</B>&nbsp;False&nbsp;=&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C1&nbsp;:&nbsp;Integer;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>when</B>&nbsp;True&nbsp;=&gt;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>null</B>;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;<B>case</B>;<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>end</B>&nbsp;<B>record</B>;</SPAN></DIV>
<DIV Class="paranum">5.a.3/1</DIV>
<DIV Class="SmallExamples"><SPAN class="insert1"><B>generic</B><BR>
&nbsp;&nbsp;&nbsp;<B>type</B>&nbsp;F&nbsp;<B>is</B>&nbsp;<B>new</B>&nbsp;T1;<BR>
&nbsp;&nbsp;&nbsp;X&nbsp;:&nbsp;<B>in&nbsp;out</B>&nbsp;F;<BR>
<B>package</B>&nbsp;G&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;C1_Ren&nbsp;:&nbsp;Integer&nbsp;<B>renames</B>&nbsp;X.C1;<BR>
<B>end</B>&nbsp;G;</SPAN></DIV>
<DIV Class="paranum">5.a.4/1</DIV>
<DIV Class="SmallExamples"><SPAN class="insert1"><B>type</B>&nbsp;T2&nbsp;(D2&nbsp;:&nbsp;Boolean&nbsp;:=&nbsp;False)&nbsp;<B>is</B>&nbsp;<B>new</B>&nbsp;T1&nbsp;(D1&nbsp;=&gt;&nbsp;D2);<BR>
<BR>
Y&nbsp;:&nbsp;T2;<BR>
<BR>
<B>package</B>&nbsp;I&nbsp;<B>is&nbsp;new</B>&nbsp;G&nbsp;(T2,&nbsp;Y);<BR>
<BR>
Y&nbsp;:=&nbsp;(D1&nbsp;=&gt;&nbsp;True);&nbsp;--&nbsp;<SPAN Class="roman"><I>Oops!&nbsp;&nbsp;What&nbsp;happened&nbsp;to&nbsp;I.C1_Ren?</I></SPAN></SPAN></DIV>
<DIV Class="paranum">5.b</DIV>
<DIV Class="Annotations"><B>Implementation Note:&nbsp;</B>Note that if an 
implementation chooses to deallocate-then-reallocate on <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN>s 
assigning to unconstrained definite objects, then it cannot represent 
renamings and access values as simple addresses, because the above rule 
does not apply to all components of such an object.&nbsp;</DIV>
<DIV Class="paranum">5.c</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>If it is a generic formal 
object, then the assume-the-best or assume-the-worst rules are applied 
as appropriate.&nbsp;</DIV>
<DIV Class="paranum">5.d/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>To be honest:&nbsp;</B></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00363.TXT">AI95-00363-01</A></I>} 
<SPAN class="insert2">If renamed entity is a subcomponent that depends 
on discriminants, and the subcomponent is a dereference of a general 
access type whose designated type is unconstrained and whose discriminants 
have defaults, the renaming is illegal. Such a general access type can 
designate an unconstrained (stack) object. Since such a type might not 
designate an object constrained by its initial value, the renaming is 
illegal &mdash; the rule says &ldquo;is&rdquo; constrained by its initial 
value, not &ldquo;might be&rdquo; constrained by its initial value. No 
other interpretation makes sense, as we can't have legality depending 
on something (which object is designated) that is not known at compile-time, 
and we surely can't allow this for unconstrained objects. The wording 
of the rule should be much clearer on this point, but this was discovered 
after the completion of Amendment 1 when it was too late to fix it.</SPAN> 
</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">6/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00230.TXT">AI95-00230-01</A></I>} 
{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
An <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0183">object_renaming_declaration</A></SPAN> 
declares a new view [of the renamed object] whose properties are identical 
to those of the renamed view. [Thus, the properties of the renamed object 
are not affected by the <SPAN Class="swiss"><A HREF="AA-8-5.html#S0182">renaming_declaration</A></SPAN>. 
In particular, its value and whether or not it is a constant are unaffected; 
similarly, the<SPAN class="insert2">&nbsp;null exclusion or</SPAN> constraints 
that apply to an object are not affected by renaming (any constraint 
implied by the <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN> 
<SPAN class="insert2">or <SPAN Class="swiss"><A HREF="AA-3-10.html#S0084">access_definition</A></SPAN> 
</SPAN>of the <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0183">object_renaming_declaration</A></SPAN> 
is ignored).]&nbsp;</DIV>
<DIV Class="paranum">6.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>Because the constraints are 
ignored, it is a good idea to use the nominal subtype of the renamed 
object when writing an <SPAN Class="swiss"><A HREF="AA-8-5-1.html#S0183">object_renaming_declaration</A></SPAN>.</DIV>
<DIV Class="paranum">6.b/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<SPAN class="insert2">If no <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN> 
is given in the renaming, the object may or may not exclude null. This 
is similar to the way that constraints need not match, and <B>constant</B> 
is not specified. The renaming defines a view of the renamed entity, 
inheriting the original properties.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">7</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><I>Example of renaming 
an object:</I>&nbsp;</DIV>
<DIV Class="paranum">8</DIV>
<DIV Class="Examples"><B>declare</B><BR>
&nbsp;&nbsp;&nbsp;L&nbsp;:&nbsp;Person&nbsp;<B>renames</B>&nbsp;Leftmost_Person;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="AA-3-10-1.html">3.10.1</A></I></SPAN><BR>
<B>begin</B><BR>
&nbsp;&nbsp;&nbsp;L.Age&nbsp;:=&nbsp;L.Age&nbsp;+&nbsp;1;<BR>
<B>end</B>;</DIV>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<DIV Class="paranum">8.a</DIV>
<DIV Class="Annotations">The phrase &ldquo;subtype ... as defined in 
a corresponding object declaration, component declaration, or component 
subtype indication,&rdquo; from RM83-8.5(5), is incorrect in Ada 95; 
therefore we removed it. It is incorrect in the case of an object with 
an indefinite unconstrained nominal subtype.&nbsp;</DIV>

<H4 Class="centered">Incompatibilities With Ada 95</H4>
<DIV Class="paranum">8.b/2</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00363.TXT">AI95-00363-01</A></I>} 
<SPAN class="insert2">{<I>incompatibilities with Ada 95</I>} <A NAME="I3787"></A>Aliased 
variables are not necessarily constrained in Ada 2005 (see <A HREF="AA-3-6.html">3.6</A>). 
Therefore, a subcomponent of an aliased variable may disappear or change 
shape, and renaming such a subcomponent thus is illegal, while the same 
operation would have been legal in Ada 95. Note that most allocated objects 
are still constrained by their initial value (see <A HREF="AA-4-8.html">4.8</A>), 
and thus have no change in the legality of renaming for them. For example, 
using the type T2 of the previous example:</SPAN>&nbsp;</DIV>
<DIV Class="paranum">8.c/2</DIV>
<DIV Class="SmallExamples"><SPAN class="insert2">&nbsp;&nbsp;&nbsp;AT2&nbsp;:&nbsp;<B>aliased</B>&nbsp;T2;<BR>
&nbsp;&nbsp;&nbsp;C1_Ren&nbsp;:&nbsp;Integer&nbsp;<B>renames</B>&nbsp;AT2.C1;&nbsp;--&nbsp;<SPAN Class="roman"><I>Illegal&nbsp;in&nbsp;Ada&nbsp;2005,&nbsp;legal&nbsp;in&nbsp;Ada&nbsp;95</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;AT2&nbsp;:=&nbsp;(D1&nbsp;=&gt;&nbsp;True);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>Raised&nbsp;Constraint_Error&nbsp;in&nbsp;Ada&nbsp;95,</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>but&nbsp;does&nbsp;not&nbsp;in&nbsp;Ada&nbsp;2005,&nbsp;so&nbsp;C1_Ren&nbsp;becomes</I></SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>invalid&nbsp;when&nbsp;this&nbsp;is&nbsp;assigned.</I></SPAN></SPAN></DIV>

<H4 Class="centered">Extensions to Ada 95</H4>
<DIV Class="paranum">8.d/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00230.TXT">AI95-00230-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00231.TXT">AI95-00231-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00254.TXT">AI95-00254-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00409.TXT">AI95-00409-01</A></I>} 
<SPAN class="insert2">{<I>extensions to Ada 95</I>} <A NAME="I3788"></A>A 
renaming can have an anonymous access type. In that case, the accessibility 
of the renaming is that of the original object (accessibility is not 
lost as it is for a component or stand-alone object).</SPAN></DIV>
<DIV Class="paranum">8.e/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00231.TXT">AI95-00231-01</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00423.TXT">AI95-00423-01</A></I>} 
<SPAN class="insert2">A renaming can have a <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>; 
if so, the renamed object must also exclude null, so that the <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN> 
does not lie. On the other hand, if the renaming does not have a <SPAN Class="swiss"><A HREF="AA-3-10.html#S0083">null_exclusion</A></SPAN>. 
it excludes null of the renamed object does.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">8.f/2</DIV>
<DIV Class="Annotations">{<I><A HREF="defect1.html#8652/0017">8652/0017</A></I>} 
<SPAN class="insert2"></SPAN>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00184.TXT">AI95-00184-01</A></I>} 
<SPAN class="insert2"><B>Corrigendum:</B> Fixed to forbid renamings of 
depends-on-discriminant components if the type <I>might</I> be definite.</SPAN> 
</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-8-5.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-8-5-2.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
