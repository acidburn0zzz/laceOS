<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Type Conversions</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Wide {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.NestedBulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    UL.NestedX2Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 7.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><SPAN Style="font-size:200%; color: rgb(0,0,153)"><B>Ada Reference Manual</B></SPAN> &mdash; <A HREF="RM-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-4-5-6.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-4-7.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>4.6 Type Conversions</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal">Explicit type conversions, both value conversions 
and view conversions, are allowed between closely related types as defined 
below. This clause also defines rules for value and view conversions 
to a particular subtype of a type, both explicit ones and those implicit 
in other constructs. <A NAME="I2723"></A><A NAME="I2724"></A><A NAME="I2725"></A><A NAME="I2726"></A><A NAME="I2727"></A><A NAME="I2728"></A></DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">type_conversion</SPAN><A NAME="I2729"></A><A NAME="S0127"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A NAME="I2730"></A><SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0028">subtype_mark</A></SPAN>(<A NAME="I2731"></A><SPAN Class="swiss"><A HREF="RM-4-4.html#S0115">expression</A></SPAN>)<BR>
&nbsp;&nbsp;|&nbsp;<A NAME="I2732"></A><SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0028">subtype_mark</A></SPAN>(<A NAME="I2733"></A><SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN>)</DIV>
<DIV Class="paranum">3</DIV>
<DIV Class="Normal"><A NAME="I2734"></A>The <I>target subtype</I> of 
a <SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN> 
is the subtype denoted by the <SPAN Class="swiss"><A HREF="RM-3-2-2.html#S0028">subtype_mark</A></SPAN>. 
<A NAME="I2735"></A>The <I>operand</I> of a <SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN> 
is the <SPAN Class="swiss"><A HREF="RM-4-4.html#S0115">expression</A></SPAN> 
or <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> within 
the parentheses; <A NAME="I2736"></A>its type is the <I>operand type</I>.</DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="Normal"><A NAME="I2737"></A>One type is <I>convertible</I> 
to a second type if a <SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN> 
with the first type as operand type and the second type as target type 
is legal according to the rules of this clause. Two types are convertible 
if each is convertible to the other.&nbsp;</DIV>
<DIV Class="paranum">5/2</DIV>
<DIV Class="Normal"><A NAME="I2738"></A><A NAME="I2739"></A>A <SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN> 
whose operand is the <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> 
of an object is called a <I>view conversion</I> if both its target type 
and operand type are tagged, or if it appears in a call as an actual 
parameter of mode <B>out</B> or <B>in out</B>; <A NAME="I2740"></A><A NAME="I2741"></A>other 
<SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN>s 
are called <I>value conversions</I>. <A NAME="I2742"></A></DIV>

<H4 Class="centered">Name Resolution Rules</H4>
<DIV Class="paranum">6</DIV>
<DIV Class="Normal"><A NAME="I2743"></A>The operand of a <SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN> 
is expected to be of any type.&nbsp;</DIV>
<DIV Class="paranum">7</DIV>
<DIV Class="Normal">The operand of a view conversion is interpreted only 
as a <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN>; 
the operand of a value conversion is interpreted as an <SPAN Class="swiss"><A HREF="RM-4-4.html#S0115">expression</A></SPAN>. 
</DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">8/2</DIV>
<DIV Class="Normal">In a view conversion for an untagged type, the target 
type shall be convertible (back) to the operand type.&nbsp;</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%"><I>Paragraphs 9 through 
20 were reorganized and moved below.</I></SPAN>&nbsp;</DIV>
<DIV Class="paranum">21/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;<A NAME="I2744"></A><A NAME="I2745"></A>If 
there is a type that is an ancestor of both the target type and the operand 
type, or both types are class-wide types, then at least one of the following 
rules shall apply:&nbsp;</DIV>
<DIV Class="paranum">21.1/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><A NAME="I2746"></A><A NAME="I2747"></A>The 
target type shall be untagged; or</LI></UL>
<DIV Class="paranum">22</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The operand type shall be covered 
by or descended from the target type; or&nbsp;</LI></UL>
<DIV Class="paranum">23/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The operand type shall be a class-wide 
type that covers the target type; or&nbsp;</LI></UL>
<DIV Class="paranum">23.1/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>The operand and target types shall 
both be class-wide types and the specific type associated with at least 
one of them shall be an interface type.&nbsp;</LI></UL>
<DIV Class="paranum">24/2</DIV>
<DIV Class="Normal">&nbsp;If there is no type that is the ancestor of both 
the target type and the operand type, and they are not both class-wide 
types, one of the following rules shall apply:&nbsp;</DIV>
<DIV Class="paranum">24.1/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><A NAME="I2748"></A><A NAME="I2749"></A>If 
the target type is a numeric type, then the operand type shall be a numeric 
type.</LI></UL>
<DIV Class="paranum">24.2/2</DIV>
<UL Class="Bulleted" Style="margin-bottom: 0.3em"><LI TYPE=DISC><A NAME="I2750"></A><A NAME="I2751"></A>If 
the target type is an array type, then the operand type shall be an array 
type. Further:</LI></UL>
<DIV Class="paranum">24.3/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>The types shall have the same 
dimensionality;</LI></UL>
<DIV Class="paranum">24.4/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>Corresponding index types shall 
be convertible; <A NAME="I2752"></A></LI></UL>
<DIV Class="paranum">24.5/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>The component subtypes shall 
statically match; <A NAME="I2753"></A></LI></UL>
<DIV Class="paranum">24.6/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>If the component types are anonymous 
access types, then the accessibility level of the operand type shall 
not be statically deeper than that of the target type; <A NAME="I2754"></A></LI></UL>
<DIV Class="paranum">24.7/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>Neither the target type nor 
the operand type shall be limited;&nbsp;</LI></UL>
<DIV Class="paranum">24.8/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>If the target type of a view 
conversion has aliased components, then so shall the operand type; and 
</LI></UL>
<DIV Class="paranum">24.9/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>The operand type of a view conversion 
shall not have a tagged, private, or volatile subcomponent.&nbsp;</LI></UL>
<DIV Class="paranum">24.10/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>If the target type is <I>universal_access</I>, 
then the operand type shall be an access type.</LI></UL>
<DIV Class="paranum">24.11/2</DIV>
<UL Class="Bulleted" Style="margin-bottom: 0.3em"><LI TYPE=DISC><A NAME="I2755"></A><A NAME="I2756"></A>If 
the target type is a general access-to-object type, then the operand 
type shall be <I>universal_access</I> or an access-to-object type. Further, 
if the operand type is not <I>universal_access</I>:</LI></UL>
<DIV Class="paranum">24.12/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>If the target type is an access-to-variable 
type, then the operand type shall be an access-to-variable type;&nbsp;</LI></UL>
<DIV Class="paranum">24.13/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>If the target designated type 
is tagged, then the operand designated type shall be convertible to the 
target designated type; <A NAME="I2757"></A></LI></UL>
<DIV Class="paranum">24.14/2</DIV>
<UL Class="NestedBulleted" Style="margin-bottom: 0.3em"><LI TYPE=DISC>If 
the target designated type is not tagged, then the designated types shall 
be the same, and either:</LI></UL>
<DIV Class="paranum">24.15/2</DIV>
<UL Class="NestedX2Bulleted"><LI TYPE=DISC>the designated subtypes shall 
statically match; or<A NAME="I2758"></A></LI></UL>
<DIV Class="paranum">24.16/2</DIV>
<UL Class="NestedX2Bulleted"><LI TYPE=DISC>the designated type shall 
be discriminated in its full view and unconstrained in any partial view, 
and one of the designated subtypes shall be unconstrained;</LI></UL>
<DIV Class="paranum">24.17/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC><A NAME="I2759"></A>The accessibility 
level of the operand type shall not be statically deeper than that of 
the target type. <A NAME="I2760"></A>In addition to the places where 
Legality Rules normally apply (see <A HREF="RM-12-3.html">12.3</A>), 
this rule applies also in the private part of an instance of a generic 
unit.&nbsp;</LI></UL>
<DIV Class="paranum">24.18/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><A NAME="I2761"></A><A NAME="I2762"></A>If 
the target type is a pool-specific access-to-object type, then the operand 
type shall be <I>universal_access</I>.&nbsp;</LI></UL>
<DIV Class="paranum">24.19/2</DIV>
<UL Class="Bulleted" Style="margin-bottom: 0.3em"><LI TYPE=DISC><A NAME="I2763"></A><A NAME="I2764"></A>If 
the target type is an access-to-subprogram type, then the operand type 
shall be <I>universal_access</I> or an access-to-subprogram type. Further, 
if the operand type is not <I>universal_access</I>:</LI></UL>
<DIV Class="paranum">24.20/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>The designated profiles shall 
be subtype-conformant. <A NAME="I2765"></A></LI></UL>
<DIV Class="paranum">24.21/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC><A NAME="I2766"></A>The accessibility 
level of the operand type shall not be statically deeper than that of 
the target type. <A NAME="I2767"></A>In addition to the places where 
Legality Rules normally apply (see <A HREF="RM-12-3.html">12.3</A>), 
this rule applies also in the private part of an instance of a generic 
unit. If the operand type is declared within a generic body, the target 
type shall be declared within the generic body.</LI></UL>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">25</DIV>
<DIV Class="Normal">A <SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN> 
that is a value conversion denotes the value that is the result of converting 
the value of the operand to the target subtype.</DIV>
<DIV Class="paranum">26</DIV>
<DIV Class="Normal">A <SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN> 
that is a view conversion denotes a view of the object denoted by the 
operand. This view is a variable of the target type if the operand denotes 
a variable; otherwise it is a constant of the target type.</DIV>
<DIV Class="paranum">27</DIV>
<DIV Class="Normal"><A NAME="I2768"></A>The nominal subtype of a <SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN> 
is its target subtype.&nbsp;</DIV>

<H4 Class="centered">Dynamic Semantics</H4>
<DIV Class="paranum">28</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><A NAME="I2769"></A><A NAME="I2770"></A><A NAME="I2771"></A>For 
the evaluation of a <SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN> 
that is a value conversion, the operand is evaluated, and then the value 
of the operand is <I>converted</I> to a <I>corresponding</I> value of 
the target type, if any. <A NAME="I2772"></A><A NAME="I2773"></A><A NAME="I2774"></A>If 
there is no value of the target type that corresponds to the operand 
value, Constraint_Error is raised; this can only happen on conversion 
to a modular type, and only when the operand value is outside the base 
range of the modular type. Additional rules follow:&nbsp;</DIV>
<DIV Class="paranum">29</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><A NAME="I2775"></A><A NAME="I2776"></A>Numeric 
Type Conversion&nbsp;</LI></UL>
<DIV Class="paranum">30</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>If the target and the operand 
types are both integer types, then the result is the value of the target 
type that corresponds to the same mathematical integer as the operand.</LI></UL>
<DIV Class="paranum">31</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>If the target type is a decimal 
fixed point type, then the result is truncated (toward 0) if the value 
of the operand is not a multiple of the <I>small</I> of the target type.</LI></UL>
<DIV Class="paranum">32</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC><A NAME="I2777"></A>If the target 
type is some other real type, then the result is within the accuracy 
of the target type (see <A HREF="RM-G-2.html">G.2</A>, &ldquo;<A HREF="RM-G-2.html">Numeric 
Performance Requirements</A>&rdquo;, for implementations that support 
the Numerics Annex).&nbsp;</LI></UL>
<DIV Class="paranum">33</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>If the target type is an integer 
type and the operand type is real, the result is rounded to the nearest 
integer (away from zero if exactly halfway between two integers).&nbsp;</LI></UL>
<DIV Class="paranum">34</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><A NAME="I2778"></A><A NAME="I2779"></A>Enumeration 
Type Conversion&nbsp;</LI></UL>
<DIV Class="paranum">35</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>The result is the value of the 
target type with the same position number as that of the operand value. 
</LI></UL>
<DIV Class="paranum">36</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><A NAME="I2780"></A><A NAME="I2781"></A>Array 
Type Conversion&nbsp;</LI></UL>
<DIV Class="paranum">37</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC><A NAME="I2782"></A><A NAME="I2783"></A>If 
the target subtype is a constrained array subtype, then a check is made 
that the length of each dimension of the value of the operand equals 
the length of the corresponding dimension of the target subtype. The 
bounds of the result are those of the target subtype.</LI></UL>
<DIV Class="paranum">38</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC><A NAME="I2784"></A><A NAME="I2785"></A>If 
the target subtype is an unconstrained array subtype, then the bounds 
of the result are obtained by converting each bound of the value of the 
operand to the corresponding index type of the target type. <A NAME="I2786"></A>For 
each nonnull index range, a check is made that the bounds of the range 
belong to the corresponding index subtype.&nbsp;</LI></UL>
<DIV Class="paranum">39</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>In either array case, the value 
of each component of the result is that of the matching component of 
the operand value (see <A HREF="RM-4-5-2.html">4.5.2</A>).&nbsp;</LI></UL>
<DIV Class="paranum">39.1/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>If the component types of the 
array types are anonymous access types, then a check is made that the 
accessibility level of the operand type is not deeper than that of the 
target type. <A NAME="I2787"></A><A NAME="I2788"></A></LI></UL>
<DIV Class="paranum">40</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><A NAME="I2789"></A><A NAME="I2790"></A>Composite 
(Non-Array) Type Conversion&nbsp;</LI></UL>
<DIV Class="paranum">41</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>The value of each nondiscriminant 
component of the result is that of the matching component of the operand 
value.&nbsp;</LI></UL>
<DIV Class="paranum">42</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>The tag of the result is that 
of the operand. <A NAME="I2791"></A><A NAME="I2792"></A>If the operand 
type is class-wide, a check is made that the tag of the operand identifies 
a (specific) type that is covered by or descended from the target type. 
</LI></UL>
<DIV Class="paranum">43</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>For each discriminant of the 
target type that corresponds to a discriminant of the operand type, its 
value is that of the corresponding discriminant of the operand value; 
<A NAME="I2793"></A><A NAME="I2794"></A>if it corresponds to more than 
one discriminant of the operand type, a check is made that all these 
discriminants are equal in the operand value.</LI></UL>
<DIV Class="paranum">44</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>For each discriminant of the 
target type that corresponds to a discriminant that is specified by the 
<SPAN Class="swiss"><A HREF="RM-3-4.html#S0035">derived_type_definition</A></SPAN> 
for some ancestor of the operand type (or if class-wide, some ancestor 
of the specific type identified by the tag of the operand), its value 
in the result is that specified by the <SPAN Class="swiss"><A HREF="RM-3-4.html#S0035">derived_type_definition</A></SPAN>. 
</LI></UL>
<DIV Class="paranum">45</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC><A NAME="I2795"></A><A NAME="I2796"></A>For 
each discriminant of the operand type that corresponds to a discriminant 
that is specified by the <SPAN Class="swiss"><A HREF="RM-3-4.html#S0035">derived_type_definition</A></SPAN> 
for some ancestor of the target type, a check is made that in the operand 
value it equals the value specified for it.</LI></UL>
<DIV Class="paranum">46</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC><A NAME="I2797"></A><A NAME="I2798"></A>For 
each discriminant of the result, a check is made that its value belongs 
to its subtype.&nbsp;</LI></UL>
<DIV Class="paranum">47</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><A NAME="I2799"></A><A NAME="I2800"></A>Access 
Type Conversion&nbsp;</LI></UL>
<DIV Class="paranum">48</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>For an access-to-object type, 
a check is made that the accessibility level of the operand type is not 
deeper than that of the target type. <A NAME="I2801"></A><A NAME="I2802"></A></LI></UL>
<DIV Class="paranum">49/2</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>If the operand value is null, 
the result of the conversion is the null value of the target type.&nbsp;</LI></UL>
<DIV Class="paranum">50</DIV>
<UL Class="NestedBulleted"><LI TYPE=DISC>If the operand value is not 
null, then the result designates the same object (or subprogram) as is 
designated by the operand value, but viewed as being of the target designated 
subtype (or profile); any checks associated with evaluating a conversion 
to the target designated subtype are performed.&nbsp;</LI></UL>
<DIV Class="paranum">51/2</DIV>
<DIV Class="Normal">&nbsp;<A NAME="I2803"></A><A NAME="I2804"></A><A NAME="I2805"></A><A NAME="I2806"></A><A NAME="I2807"></A><A NAME="I2808"></A><A NAME="I2809"></A><A NAME="I2810"></A>After 
conversion of the value to the target type, if the target subtype is 
constrained, a check is performed that the value satisfies this constraint. 
If the target subtype excludes null, then a check is made that the value 
is not null.&nbsp;</DIV>
<DIV Class="paranum">52</DIV>
<DIV Class="Normal"><A NAME="I2811"></A>For the evaluation of a view 
conversion, the operand <SPAN Class="swiss"><A HREF="RM-4-1.html#S0091">name</A></SPAN> 
is evaluated, and a new view of the object denoted by the operand is 
created, whose type is the target type; <A NAME="I2812"></A><A NAME="I2813"></A><A NAME="I2814"></A><A NAME="I2815"></A><A NAME="I2816"></A><A NAME="I2817"></A>if 
the target type is composite, checks are performed as above for a value 
conversion.</DIV>
<DIV Class="paranum">53</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">The properties of this 
new view are as follows:&nbsp;</DIV>
<DIV Class="paranum">54/1</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>If the target type is composite, the 
bounds or discriminants (if any) of the view are as defined above for 
a value conversion; each nondiscriminant component of the view denotes 
the matching component of the operand object; the subtype of the view 
is constrained if either the target subtype or the operand object is 
constrained, or if the target subtype is indefinite, or if the operand 
type is a descendant of the target type and has discriminants that were 
not inherited from the target type;</LI></UL>
<DIV Class="paranum">55</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>If the target type is tagged, then 
an assignment to the view assigns to the corresponding part of the object 
denoted by the operand; otherwise, an assignment to the view assigns 
to the object, after converting the assigned value to the subtype of 
the object (which might raise Constraint_Error); <A NAME="I2818"></A></LI></UL>
<DIV Class="paranum">56</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>Reading the value of the view yields 
the result of converting the value of the operand object to the target 
subtype (which might raise Constraint_Error), except if the object is 
of an access type and the view conversion is passed as an <B>out</B> 
parameter; in this latter case, the value of the operand object is used 
to initialize the formal parameter without checking against any constraint 
of the target subtype (see <A HREF="RM-6-4-1.html">6.4.1</A>). <A NAME="I2819"></A></LI></UL>
<DIV Class="paranum">57</DIV>
<DIV Class="Normal"><A NAME="I2820"></A><A NAME="I2821"></A>If an Accessibility_Check 
fails, Program_Error is raised. Any other check associated with a conversion 
raises Constraint_Error if it fails.</DIV>
<DIV Class="paranum">58</DIV>
<DIV Class="Normal">Conversion to a type is the same as conversion to 
an unconstrained subtype of the type.&nbsp;</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">59</DIV>
<DIV Class="Notes">19&nbsp;&nbsp;<A NAME="I2822"></A>In addition to explicit 
<SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN>s, 
type conversions are performed implicitly in situations where the expected 
type and the actual type of a construct differ, as is permitted by the 
type resolution rules (see <A HREF="RM-8-6.html">8.6</A>). For example, 
an integer literal is of the type <I>universal_integer</I>, and is implicitly 
converted when assigned to a target of some specific integer type. Similarly, 
an actual parameter of a specific tagged type is implicitly converted 
when the corresponding formal parameter is of a class-wide type.</DIV>
<DIV Class="paranum">60</DIV>
<DIV Class="Notes"><A NAME="I2823"></A><A NAME="I2824"></A>Even when 
the expected and actual types are the same, implicit subtype conversions 
are performed to adjust the array bounds (if any) of an operand to match 
the desired target subtype, or to raise Constraint_Error if the (possibly 
adjusted) value does not satisfy the constraints of the target subtype.</DIV>
<DIV Class="paranum">61/2</DIV>
<DIV Class="Notes">20&nbsp;&nbsp;A ramification of the overload resolution 
rules is that the operand of an (explicit) <SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN> 
cannot be an <SPAN Class="swiss"><A HREF="RM-4-8.html#S0129">allocator</A></SPAN>, 
an <SPAN Class="swiss"><A HREF="RM-4-3.html#S0104">aggregate</A></SPAN>, 
a <SPAN Class="swiss"><A HREF="RM-2-6.html#S0016">string_literal</A></SPAN>, 
a <SPAN Class="swiss"><A HREF="RM-2-5.html#S0015">character_literal</A></SPAN>, 
or an <SPAN Class="swiss"><A HREF="RM-4-1-4.html#S0100">attribute_reference</A></SPAN> 
for an Access or Unchecked_Access attribute. Similarly, such an <SPAN Class="swiss"><A HREF="RM-4-4.html#S0115">expression</A></SPAN> 
enclosed by parentheses is not allowed. A <SPAN Class="swiss"><A HREF="RM-4-7.html#S0128">qualified_expression</A></SPAN> 
(see <A HREF="RM-4-7.html">4.7</A>) can be used instead of such a <SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN>.</DIV>
<DIV Class="paranum">62</DIV>
<DIV Class="Notes">21&nbsp;&nbsp;The constraint of the target subtype 
has no effect for a <SPAN Class="swiss"><A HREF="RM-4-6.html#S0127">type_conversion</A></SPAN> 
of an elementary type passed as an <B>out</B> parameter. Hence, it is 
recommended that the first subtype be specified as the target to minimize 
confusion (a similar recommendation applies to renaming and generic formal 
<B>in out</B> objects).&nbsp;</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">63</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><I>Examples of numeric 
type conversion:</I>&nbsp;</DIV>
<DIV Class="paranum">64</DIV>
<DIV Class="Examples">Real(2*J)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN Class="roman"><I>--&nbsp;&nbsp;value&nbsp;is&nbsp;converted&nbsp;to&nbsp;floating&nbsp;point</I></SPAN><BR>
Integer(1.6)&nbsp;&nbsp;&nbsp;<SPAN Class="roman"><I>--&nbsp;&nbsp;value&nbsp;is&nbsp;2</I></SPAN><BR>
Integer(-0.4)&nbsp;&nbsp;<SPAN Class="roman"><I>--&nbsp;&nbsp;value&nbsp;is&nbsp;0</I></SPAN></DIV>
<DIV Class="paranum">65</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em"><I>Example of conversion 
between derived types:</I>&nbsp;</DIV>
<DIV Class="paranum">66</DIV>
<DIV Class="Examples"><B>type</B>&nbsp;A_Form&nbsp;<B>is</B>&nbsp;<B>new</B>&nbsp;B_Form;</DIV>
<DIV Class="paranum">67</DIV>
<DIV Class="Examples">X&nbsp;:&nbsp;A_Form;<BR>
Y&nbsp;:&nbsp;B_Form;</DIV>
<DIV Class="paranum">68</DIV>
<DIV Class="Examples">X&nbsp;:=&nbsp;A_Form(Y);<BR>
Y&nbsp;:=&nbsp;B_Form(X);&nbsp;&nbsp;<SPAN Class="roman"><I>--&nbsp;&nbsp;the&nbsp;reverse&nbsp;conversion&nbsp;</I></SPAN></DIV>
<DIV Class="paranum">69</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em"><I>Examples of conversions 
between array types:</I>&nbsp;</DIV>
<DIV Class="paranum">70</DIV>
<DIV Class="Examples"><B>type</B>&nbsp;Sequence&nbsp;<B>is</B>&nbsp;<B>array</B>&nbsp;(Integer&nbsp;<B>range</B>&nbsp;&lt;&gt;)&nbsp;<B>of</B>&nbsp;Integer;<BR>
<B>subtype</B>&nbsp;Dozen&nbsp;<B>is</B>&nbsp;Sequence(1&nbsp;..&nbsp;12);<BR>
Ledger&nbsp;:&nbsp;<B>array</B>(1&nbsp;..&nbsp;100)&nbsp;<B>of</B>&nbsp;Integer;</DIV>
<DIV Class="paranum">71</DIV>
<DIV Class="Examples">Sequence(Ledger)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN Class="roman"><I>--&nbsp;&nbsp;bounds&nbsp;are&nbsp;those&nbsp;of&nbsp;Ledger</I></SPAN><BR>
Sequence(Ledger(31&nbsp;..&nbsp;42))&nbsp;&nbsp;<SPAN Class="roman"><I>--&nbsp;&nbsp;bounds&nbsp;are&nbsp;31&nbsp;and&nbsp;42</I></SPAN><BR>
Dozen(Ledger(31&nbsp;..&nbsp;42))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<SPAN Class="roman"><I>--&nbsp;&nbsp;bounds&nbsp;are&nbsp;those&nbsp;of&nbsp;Dozen&nbsp;</I></SPAN></DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="RM-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-4-5-6.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="RM-4-7.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="vertical-align: middle">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
