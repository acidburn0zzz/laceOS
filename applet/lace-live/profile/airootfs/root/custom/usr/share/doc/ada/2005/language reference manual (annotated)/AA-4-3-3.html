<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>Array Aggregates</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert1 {text-decoration: underline; color: rgb(0,51,51) }
    SPAN.delete1 {text-decoration: line-through; color: rgb(0,51,51) }
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Wide {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0.6em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.Notes {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em; margin-bottom: 0.6em}
    DIV.NotesHeader {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 3.7em}
    DIV.SyntaxIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-bottom: 0.4em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    DIV.SmallExamples {font-family: "Courier New", monospace; font-size: 72%; line-height: 122%; margin-left: 9.6em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Enumerated-Body {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    DIV.Enumerated-Term {float: left; font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-top: 0em; margin-bottom: 0em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-4-3-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-4-4.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>4.3.3 Array Aggregates</H1>
<DIV Class="paranum">1</DIV>
<DIV Class="Normal">[In an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>, 
a value is specified for each component of an array, either positionally 
or by its index.] For a <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0112">positional_array_aggregate</A></SPAN>, 
the components are given in increasing-index order, with a final <B>others</B>, 
if any, representing any remaining components. For a <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0113">named_array_aggregate</A></SPAN>, 
the components are identified by the values covered by the <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0074">discrete_choice</A></SPAN>s.</DIV>

<H4 Class="centered">Language Design Principles</H4>
<DIV Class="paranum">1.a/1</DIV>
<DIV Class="Annotations">The rules in this subclause are based on terms 
and rules for <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0073">discrete_choice_list</A></SPAN>s 
defined in <A HREF="AA-3-8-1.html">3.8.1</A>, &ldquo;<A HREF="AA-3-8-1.html">Variant 
Parts and Discrete Choices</A>&rdquo;. <SPAN class="insert1">For example, 
the requirements that <B>others</B> come last and stand alone are found 
there.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Syntax</H4>
<DIV Class="paranum">2</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">array_aggregate</SPAN><A NAME="I2643"></A><A NAME="S0111"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;<A NAME="I2644"></A><SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0112">positional_array_aggregate</A></SPAN>&nbsp;|&nbsp;<A NAME="I2645"></A><SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0113">named_array_aggregate</A></SPAN></DIV>
<DIV Class="paranum">3/2</DIV>
<DIV Class="SyntaxIndented">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
<SPAN Class="swiss">positional_array_aggregate</SPAN><A NAME="I2646"></A><A NAME="S0112"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;(<A NAME="I2647"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>,&nbsp;<A NAME="I2648"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>&nbsp;{,&nbsp;<A NAME="I2649"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>})<BR>
&nbsp;&nbsp;|&nbsp;(<A NAME="I2650"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>&nbsp;{,&nbsp;<A NAME="I2651"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>},&nbsp;<B>others</B>&nbsp;=&gt;&nbsp;<A NAME="I2652"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>)<SPAN class="insert2"><BR>
&nbsp;&nbsp;|&nbsp;(<A NAME="I2653"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>&nbsp;{,&nbsp;<A NAME="I2654"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>},&nbsp;<B>others</B>&nbsp;=&gt;&nbsp;&lt;&gt;)</SPAN></DIV>
<DIV Class="paranum">4</DIV>
<DIV Class="SyntaxIndented"><SPAN Class="swiss">named_array_aggregate</SPAN><A NAME="I2655"></A><A NAME="S0113"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;(<A NAME="I2656"></A><SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0114">array_component_association</A></SPAN>&nbsp;{,&nbsp;<A NAME="I2657"></A><SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0114">array_component_association</A></SPAN>})</DIV>
<DIV Class="paranum">5/2</DIV>
<DIV Class="SyntaxIndented">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
<SPAN Class="swiss">array_component_association</SPAN><A NAME="I2658"></A><A NAME="S0114"></A><SPAN Class="swiss">&nbsp;::=&nbsp;</SPAN><BR>
&nbsp;&nbsp;&nbsp;&nbsp;<A NAME="I2659"></A><SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0073">discrete_choice_list</A></SPAN>&nbsp;=&gt;&nbsp;<A NAME="I2660"></A><SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN><SPAN class="insert2"><BR>
&nbsp;&nbsp;|&nbsp;<A NAME="I2661"></A><SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0073">discrete_choice_list</A></SPAN>&nbsp;=&gt;&nbsp;&lt;&gt;</SPAN></DIV>
<DIV Class="paranum">6</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>n-dimensional array_aggregate</I>}</SPAN> 
<A NAME="I2662"></A>An <I>n-dimensional</I> <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
is one that is written as n levels of nested <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>s 
(or at the bottom level, equivalent <SPAN Class="swiss"><A HREF="AA-2-6.html#S0016">string_literal</A></SPAN>s). 
<SPAN STYLE="font-size: 80%">{<I>subaggregate (of an array_aggregate)</I>}</SPAN> 
<A NAME="I2663"></A>For the multidimensional case (n &gt;= 2) the <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>s 
(or equivalent <SPAN Class="swiss"><A HREF="AA-2-6.html#S0016">string_literal</A></SPAN>s) 
at the n&ndash;1 lower levels are called <I>subaggregate</I>s of the 
enclosing n-dimensional <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>. 
<SPAN STYLE="font-size: 80%">{<I>array component expression</I>}</SPAN> 
<A NAME="I2664"></A>The <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>s 
of the bottom level subaggregates (or of the <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
itself if one-dimensional) are called the <I>array component expressions</I> 
of the enclosing n-dimensional <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>. 
</DIV>
<DIV Class="paranum">6.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Subaggregates do not have 
a type. They correspond to part of an array. For example, with a matrix, 
a subaggregate would correspond to a single row of the matrix. The definition 
of &quot;n-dimensional&quot; <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
applies to subaggregates as well as <SPAN Class="swiss"><A HREF="AA-4-3.html#S0104">aggregate</A></SPAN>s 
that have a type.&nbsp;</DIV>
<DIV Class="paranum">6.b</DIV>
<DIV Class="Annotations"><B>To be honest:&nbsp;</B>{<I>others choice</I>} 
<A NAME="I2665"></A>An <I><B>others</B> choice</I> is the reserved word 
<B>others</B> as it appears in a <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0112">positional_array_aggregate</A></SPAN> 
or as the <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0074">discrete_choice</A></SPAN> 
of the <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0073">discrete_choice_list</A></SPAN> 
in an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0114">array_component_association</A></SPAN>. 
</DIV>

<H4 Class="centered">Name Resolution Rules</H4>
<DIV Class="paranum">7/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
<SPAN STYLE="font-size: 80%">{<I>expected type (array_aggregate)</I> 
[partial]}</SPAN> <A NAME="I2666"></A>The expected type for an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
(that is not a subaggregate) shall be a single <SPAN class="delete2">nonlimited 
</SPAN>array type. <SPAN STYLE="font-size: 80%">{<I>expected type (array_aggregate 
component expression)</I> [partial]}</SPAN> <A NAME="I2667"></A>The component 
type of this array type is the expected type for each array component 
expression of the <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>. 
</DIV>
<DIV Class="paranum">7.a/2</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
We already require a single array or record type or record extension 
for an <SPAN Class="swiss"><A HREF="AA-4-3.html#S0104">aggregate</A></SPAN>. 
The above rule requiring a single <SPAN class="delete2">nonlimited&nbsp;</SPAN>array 
type (and similar ones for record and extension aggregates) resolves 
which kind of aggregate you have.&nbsp;</DIV>
<DIV Class="paranum">8</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>expected type (array_aggregate 
discrete_choice)</I> [partial]}</SPAN> <A NAME="I2668"></A>The expected 
type for each <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0074">discrete_choice</A></SPAN> 
in any <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0073">discrete_choice_list</A></SPAN> 
of a <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0113">named_array_aggregate</A></SPAN> 
is the type of the <I>corresponding index</I>; <SPAN STYLE="font-size: 80%">{<I>corresponding 
index (for an array_aggregate)</I>}</SPAN> <A NAME="I2669"></A>the corresponding 
index for an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
that is not a subaggregate is the first index of its type; for an (n&ndash;m)-dimensional 
subaggregate within an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
of an n-dimensional type, the corresponding index is the index in position 
m+1.&nbsp;</DIV>

<H4 Class="centered">Legality Rules</H4>
<DIV Class="paranum">9</DIV>
<DIV Class="Normal">An <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
of an n-dimensional array type shall be written as an n-dimensional <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>. 
</DIV>
<DIV Class="paranum">9.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>In an m-dimensional <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
[(including a subaggregate)], where m &gt;= 2, each of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>s 
has to be an (m&ndash;1)-dimensional subaggregate.&nbsp;</DIV>
<DIV Class="paranum">10</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">An <B>others</B> choice 
is allowed for an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
only if an <I>applicable index constraint</I> applies to the <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>. 
<SPAN STYLE="font-size: 80%">{<I>applicable index constraint</I>}</SPAN> 
<A NAME="I2670"></A>[An applicable index constraint is a constraint provided 
by certain contexts where an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
is permitted that can be used to determine the bounds of the array value 
specified by the aggregate.] Each of the following contexts (and none 
other) defines an applicable index constraint:&nbsp;</DIV>
<DIV Class="paranum">11/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10318.TXT">AI95-00318-02</A></I>} 
For an <SPAN Class="swiss"><A HREF="AA-6-4.html#S0167">explicit_actual_parameter</A></SPAN>, 
an <SPAN Class="swiss"><A HREF="AA-12-3.html#S0260">explicit_generic_actual_parameter</A></SPAN>, 
the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
of a <SPAN class="insert2">return statement</SPAN><SPAN class="delete2"><SPAN Class="swiss"><A HREF="AA-6-5.html#S0169">&nbsp;return_statement</A></SPAN></SPAN>, 
the initialization expression in an <SPAN Class="swiss"><A HREF="AA-3-3-1.html#S0032">object_declaration</A></SPAN>, 
or a <SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN> 
[(for a parameter or a component)], when the nominal subtype of the corresponding 
formal parameter, generic formal parameter, function <SPAN class="insert2">return 
object</SPAN><SPAN class="delete2">&nbsp;result</SPAN>, object, or component 
is a constrained array subtype, the applicable index constraint is the 
constraint of the subtype;</LI></UL>
<DIV Class="paranum">12</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="AA-5-2.html#S0137">assignment_statement</A></SPAN> 
where the <SPAN Class="swiss"><A HREF="AA-4-1.html#S0091">name</A></SPAN> 
denotes an array variable, the applicable index constraint is the constraint 
of the array variable;&nbsp;</LI></UL>
<DIV Class="paranum">12.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>This case is broken out because 
the constraint comes from the actual subtype of the variable (which is 
always constrained) rather than its nominal subtype (which might be unconstrained). 
</DIV>
<DIV Class="paranum">13</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For the operand of a <SPAN Class="swiss"><A HREF="AA-4-7.html#S0128">qualified_expression</A></SPAN> 
whose <SPAN Class="swiss"><A HREF="AA-3-2-2.html#S0028">subtype_mark</A></SPAN> 
denotes a constrained array subtype, the applicable index constraint 
is the constraint of the subtype;</LI></UL>
<DIV Class="paranum">14</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For a component <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
in an <SPAN Class="swiss"><A HREF="AA-4-3.html#S0104">aggregate</A></SPAN>, 
if the component's nominal subtype is a constrained array subtype, the 
applicable index constraint is the constraint of the subtype;&nbsp;</LI></UL>
<DIV Class="paranum">14.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>Here, the <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
with <B>others</B> is being used within a larger aggregate.&nbsp;</DIV>
<DIV Class="paranum">15</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For a parenthesized <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>, 
the applicable index constraint is that, if any, defined for the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>. 
</LI></UL>
<DIV Class="paranum">15.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>RM83 omitted this case, presumably 
as an oversight. We want to minimize situations where an <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
becomes illegal if parenthesized.&nbsp;</DIV>
<DIV Class="paranum">16</DIV>
<DIV Class="Normal">The applicable index constraint <I>applies</I> to 
an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
that appears in such a context, as well as to any subaggregates thereof. 
In the case of an <SPAN Class="swiss"><A HREF="AA-6-4.html#S0167">explicit_actual_parameter</A></SPAN> 
(or <SPAN Class="swiss"><A HREF="AA-3-7.html#S0063">default_expression</A></SPAN>) 
for a call on a generic formal subprogram, no applicable index constraint 
is defined.&nbsp;</DIV>
<DIV Class="paranum">16.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>This avoids generic contract 
model problems, because only mode conformance is required when matching 
actual subprograms with generic formal subprograms.&nbsp;</DIV>
<DIV Class="paranum">17</DIV>
<DIV Class="Normal">The <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0073">discrete_choice_list</A></SPAN> 
of an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0114">array_component_association</A></SPAN> 
is allowed to have a <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0074">discrete_choice</A></SPAN> 
that is a nonstatic <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
or that is a <SPAN Class="swiss"><A HREF="AA-3-6-1.html#S0058">discrete_range</A></SPAN> 
that defines a nonstatic or null range, only if it is the single <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0074">discrete_choice</A></SPAN> 
of its <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0073">discrete_choice_list</A></SPAN>, 
and there is only one <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0114">array_component_association</A></SPAN> 
in the <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>. 
</DIV>
<DIV Class="paranum">17.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>We now allow a nonstatic 
<B>others</B> choice even if there are other array component expressions 
as well.&nbsp;</DIV>
<DIV Class="paranum">18</DIV>
<DIV Class="Normal">In a <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0113">named_array_aggregate</A></SPAN> 
with more than one <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0074">discrete_choice</A></SPAN>, 
no two <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0074">discrete_choice</A></SPAN>s 
are allowed to cover the same value (see <A HREF="AA-3-8-1.html">3.8.1</A>); 
if there is no <B>others</B> choice, the <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0074">discrete_choice</A></SPAN>s 
taken together shall exactly cover a contiguous sequence of values of 
the corresponding index type.&nbsp;</DIV>
<DIV Class="paranum">18.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>This implies that each 
component must be specified exactly once. See AI83-309.&nbsp;</DIV>
<DIV Class="paranum">19</DIV>
<DIV Class="Normal">A bottom level subaggregate of a multidimensional 
<SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
of a given array type is allowed to be a <SPAN Class="swiss"><A HREF="AA-2-6.html#S0016">string_literal</A></SPAN> 
only if the component type of the array type is a character type; each 
character of such a <SPAN Class="swiss"><A HREF="AA-2-6.html#S0016">string_literal</A></SPAN> 
shall correspond to a <SPAN Class="swiss"><A HREF="AA-3-5-1.html#S0040">defining_character_literal</A></SPAN> 
of the component type.&nbsp;</DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">20</DIV>
<DIV Class="Normal">A subaggregate that is a <SPAN Class="swiss"><A HREF="AA-2-6.html#S0016">string_literal</A></SPAN> 
is equivalent to one that is a <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0112">positional_array_aggregate</A></SPAN> 
of the same length, with each <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
being the <SPAN Class="swiss"><A HREF="AA-2-5.html#S0015">character_literal</A></SPAN> 
for the corresponding character of the <SPAN Class="swiss"><A HREF="AA-2-6.html#S0016">string_literal</A></SPAN>. 
</DIV>

<H4 Class="centered">Dynamic Semantics</H4>
<DIV Class="paranum">21</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><SPAN STYLE="font-size: 80%">{<I>evaluation 
(array_aggregate)</I> [partial]}</SPAN> <A NAME="I2671"></A>The evaluation 
of an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
of a given array type proceeds in two steps:&nbsp;</DIV>
<DIV Class="paranum">22</DIV>
<DIV Class="Enumerated-Term">1.</DIV><DIV Class="Enumerated-Body">
Any <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0074">discrete_choice</A></SPAN>s 
of this aggregate and of its subaggregates are evaluated in an arbitrary 
order, and converted to the corresponding index type; <SPAN STYLE="font-size: 80%">{<I>implicit 
subtype conversion (choices of aggregate)</I> [partial]}</SPAN> <A NAME="I2672"></A></DIV>
<DIV Class="paranum">23</DIV>
<DIV Class="Enumerated-Term">2.</DIV><DIV Class="Enumerated-Body">
The array component expressions of the aggregate are evaluated in an 
arbitrary order and their values are converted to the component subtype 
of the array type; an array component expression is evaluated once for 
each associated component. <SPAN STYLE="font-size: 80%">{<I>implicit 
subtype conversion (expressions of aggregate)</I> [partial]}</SPAN> <A NAME="I2673"></A></DIV>
<DIV Class="paranum">23.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>Subaggregates are not separately 
evaluated. The conversion of the value of the component expressions to 
the component subtype might raise Constraint_Error.&nbsp;</DIV>
<DIV Class="paranum">23.1/2</DIV>
<DIV Class="Normal">&nbsp;&nbsp;&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
<SPAN class="insert2">Each <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
in an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0114">array_component_association</A></SPAN> 
defines the value for the associated component(s). For an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0114">array_component_association</A></SPAN> 
with &lt;&gt;, the associated component(s) are initialized by default 
as for a stand-alone object of the component subtype (see <A HREF="AA-3-3-1.html">3.3.1</A>).</SPAN></DIV>
<DIV Class="paranum">24</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><SPAN STYLE="font-size: 80%">{<I>bounds 
(of the index range of an array_aggregate)</I>}</SPAN> <A NAME="I2674"></A>The 
bounds of the index range of an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
[(including a subaggregate)] are determined as follows:&nbsp;</DIV>
<DIV Class="paranum">25</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
with an <B>others</B> choice, the bounds are those of the corresponding 
index range from the applicable index constraint;</LI></UL>
<DIV Class="paranum">26</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For a <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0112">positional_array_aggregate</A></SPAN> 
[(or equivalent <SPAN Class="swiss"><A HREF="AA-2-6.html#S0016">string_literal</A></SPAN>)] 
without an <B>others</B> choice, the lower bound is that of the corresponding 
index range in the applicable index constraint, if defined, or that of 
the corresponding index subtype, if not; in either case, the upper bound 
is determined from the lower bound and the number of <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>s 
[(or the length of the <SPAN Class="swiss"><A HREF="AA-2-6.html#S0016">string_literal</A></SPAN>)];</LI></UL>
<DIV Class="paranum">27</DIV>
<UL Class="Bulleted"><LI TYPE=DISC>For a <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0113">named_array_aggregate</A></SPAN> 
without an <B>others</B> choice, the bounds are determined by the smallest 
and largest index values covered by any <SPAN Class="swiss"><A HREF="AA-3-8-1.html#S0073">discrete_choice_list</A></SPAN>. 
</LI></UL>
<DIV Class="paranum">27.a</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>We don't need to say that each 
index value has to be covered exactly once, since that is a ramification 
of the general rule on <SPAN Class="swiss"><A HREF="AA-4-3.html#S0104">aggregate</A></SPAN>s 
that each component's value has to be specified exactly once.&nbsp;</DIV>
<DIV Class="paranum">28</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>Range_Check</I> 
[partial]}</SPAN> <A NAME="I2675"></A><SPAN STYLE="font-size: 80%">{<I>check, 
language-defined (Range_Check)</I>}</SPAN> <A NAME="I2676"></A>For an 
<SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>, 
a check is made that the index range defined by its bounds is compatible 
with the corresponding index subtype.&nbsp;</DIV>
<DIV Class="paranum">28.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>In RM83, this was phrased 
more explicitly, but once we define &quot;compatibility&quot; between 
a range and a subtype, it seems to make sense to take advantage of that 
definition.&nbsp;</DIV>
<DIV Class="paranum">28.b</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>The definition of compatibility 
handles the special case of a null range, which is always compatible 
with a subtype. See AI83-00313.&nbsp;</DIV>
<DIV Class="paranum">29</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>Index_Check</I> 
[partial]}</SPAN> <A NAME="I2677"></A><SPAN STYLE="font-size: 80%">{<I>check, 
language-defined (Index_Check)</I>}</SPAN> <A NAME="I2678"></A>For an 
<SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN> 
with an <B>others</B> choice, a check is made that no <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
is specified for an index value outside the bounds determined by the 
applicable index constraint.&nbsp;</DIV>
<DIV Class="paranum">29.a</DIV>
<DIV Class="Annotations"><B>Discussion:&nbsp;</B>RM83 omitted this case, apparently 
through an oversight. AI83-00309 defines this as a dynamic check, even 
though other Ada 83 rules ensured that this check could be performed 
statically. We now allow an <B>others</B> choice to be dynamic, even 
if it is not the only choice, so this check now needs to be dynamic, 
in some cases. Also, within a generic unit, this would be a nonstatic 
check in some cases.&nbsp;</DIV>
<DIV Class="paranum">30</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>Index_Check</I> 
[partial]}</SPAN> <A NAME="I2679"></A><SPAN STYLE="font-size: 80%">{<I>check, 
language-defined (Index_Check)</I>}</SPAN> <A NAME="I2680"></A>For a 
multidimensional <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>, 
a check is made that all subaggregates that correspond to the same index 
have the same bounds.&nbsp;</DIV>
<DIV Class="paranum">30.a</DIV>
<DIV Class="Annotations"><B>Ramification:&nbsp;</B>No array bounds &ldquo;sliding&rdquo; 
is performed on subaggregates.&nbsp;</DIV>
<DIV Class="paranum">30.b</DIV>
<DIV Class="Annotations"><B>Reason:&nbsp;</B>If sliding were performed, it 
would not be obvious which subaggregate would determine the bounds of 
the corresponding index.&nbsp;</DIV>
<DIV Class="paranum">31</DIV>
<DIV Class="Normal"><SPAN STYLE="font-size: 80%">{<I>Constraint_Error 
(raised by failure of run-time check)</I>}</SPAN> <A NAME="I2681"></A>The 
exception Constraint_Error is raised if any of the above checks fail. 
</DIV>
<DIV Class="NotesHeader">NOTES</DIV>
<DIV Class="paranum">32/2</DIV>
<DIV Class="Notes">10&nbsp;&nbsp;In an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>, 
positional notation may only be used with two or more <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>s; 
a single <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
in parentheses is interpreted as a <SPAN class="insert2">parenthesized 
expression</SPAN><SPAN class="delete2"><SPAN Class="swiss">&nbsp;parenthesized_expression</SPAN></SPAN>. 
A <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0113">named_array_aggregate</A></SPAN>, 
such as (1 =&gt; X), may be used to specify an array with a single component. 
</DIV>

<H4 Class="centered">Examples</H4>
<DIV Class="paranum">33</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em"><I>Examples of array 
aggregates with positional associations:</I>&nbsp;</DIV>
<DIV Class="paranum">34</DIV>
<DIV Class="Examples">(7,&nbsp;9,&nbsp;5,&nbsp;1,&nbsp;3,&nbsp;2,&nbsp;4,&nbsp;8,&nbsp;6,&nbsp;0)<BR>
Table'(5,&nbsp;8,&nbsp;4,&nbsp;1,&nbsp;<B>others</B>&nbsp;=&gt;&nbsp;0)&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;see&nbsp;<A HREF="AA-3-6.html">3.6</A>&nbsp;</I></SPAN></DIV>
<DIV Class="paranum">35</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em"><I>Examples of array 
aggregates with named associations:</I>&nbsp;</DIV>
<DIV Class="paranum">36</DIV>
<DIV Class="Examples">(1&nbsp;..&nbsp;5&nbsp;=&gt;&nbsp;(1&nbsp;..&nbsp;8&nbsp;=&gt;&nbsp;0.0))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;two-dimensional</I></SPAN><BR>
(1&nbsp;..&nbsp;N&nbsp;=&gt;&nbsp;<B>new</B>&nbsp;Cell)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;N&nbsp;new&nbsp;cells,&nbsp;in&nbsp;particular&nbsp;for&nbsp;N&nbsp;=&nbsp;0</I></SPAN></DIV>
<DIV Class="paranum">37</DIV>
<DIV Class="Examples">Table'(2&nbsp;|&nbsp;4&nbsp;|&nbsp;10&nbsp;=&gt;&nbsp;1,&nbsp;<B>others</B>&nbsp;=&gt;&nbsp;0)<BR>
Schedule'(Mon&nbsp;..&nbsp;Fri&nbsp;=&gt;&nbsp;True,&nbsp;&nbsp;<B>others</B>&nbsp;=&gt;&nbsp;False)&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;see&nbsp;<A HREF="AA-3-6.html">3.6</A></I></SPAN><BR>
Schedule'(Wed&nbsp;|&nbsp;Sun&nbsp;&nbsp;=&gt;&nbsp;False,&nbsp;<B>others</B>&nbsp;=&gt;&nbsp;True)<BR>
Vector'(1&nbsp;=&gt;&nbsp;2.5)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;&nbsp;single-component&nbsp;vector</I></SPAN></DIV>
<DIV Class="paranum">38</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em"><I>Examples of two-dimensional 
array aggregates:</I>&nbsp;</DIV>
<DIV Class="paranum">39</DIV>
<DIV Class="Examples">--<SPAN Class="roman"><I>&nbsp;Three&nbsp;aggregates&nbsp;for&nbsp;the&nbsp;same&nbsp;value&nbsp;of&nbsp;subtype&nbsp;Matrix(1..2,1..3)&nbsp;(see&nbsp;<A HREF="AA-3-6.html">3.6</A>):</I></SPAN></DIV>
<DIV Class="paranum">40</DIV>
<DIV Class="Examples">((1.1,&nbsp;1.2,&nbsp;1.3),&nbsp;(2.1,&nbsp;2.2,&nbsp;2.3))<BR>
(1&nbsp;=&gt;&nbsp;(1.1,&nbsp;1.2,&nbsp;1.3),&nbsp;2&nbsp;=&gt;&nbsp;(2.1,&nbsp;2.2,&nbsp;2.3))<BR>
(1&nbsp;=&gt;&nbsp;(1&nbsp;=&gt;&nbsp;1.1,&nbsp;2&nbsp;=&gt;&nbsp;1.2,&nbsp;3&nbsp;=&gt;&nbsp;1.3),&nbsp;2&nbsp;=&gt;&nbsp;(1&nbsp;=&gt;&nbsp;2.1,&nbsp;2&nbsp;=&gt;&nbsp;2.2,&nbsp;3&nbsp;=&gt;&nbsp;2.3))</DIV>
<DIV Class="paranum">41</DIV>
<DIV Class="Wide" Style="margin-bottom: 0.4em"><I>Examples of aggregates 
as initial values:</I>&nbsp;</DIV>
<DIV Class="paranum">42</DIV>
<DIV Class="Examples">A&nbsp;:&nbsp;Table&nbsp;:=&nbsp;(7,&nbsp;9,&nbsp;5,&nbsp;1,&nbsp;3,&nbsp;2,&nbsp;4,&nbsp;8,&nbsp;6,&nbsp;0);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;A(1)=7,&nbsp;A(10)=0</I></SPAN><BR>
B&nbsp;:&nbsp;Table&nbsp;:=&nbsp;(2&nbsp;|&nbsp;4&nbsp;|&nbsp;10&nbsp;=&gt;&nbsp;1,&nbsp;<B>others</B>&nbsp;=&gt;&nbsp;0);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;B(1)=0,&nbsp;B(10)=1</I></SPAN><BR>
C&nbsp;:&nbsp;<B>constant</B>&nbsp;Matrix&nbsp;:=&nbsp;(1&nbsp;..&nbsp;5&nbsp;=&gt;&nbsp;(1&nbsp;..&nbsp;8&nbsp;=&gt;&nbsp;0.0));&nbsp;--<SPAN Class="roman"><I>&nbsp;C'Last(1)=5,&nbsp;C'Last(2)=8</I></SPAN></DIV>
<DIV Class="paranum">43</DIV>
<DIV Class="Examples">D&nbsp;:&nbsp;Bit_Vector(M&nbsp;..&nbsp;N)&nbsp;:=&nbsp;(M&nbsp;..&nbsp;N&nbsp;=&gt;&nbsp;True);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="AA-3-6.html">3.6</A></I></SPAN><BR>
E&nbsp;:&nbsp;Bit_Vector(M&nbsp;..&nbsp;N)&nbsp;:=&nbsp;(<B>others</B>&nbsp;=&gt;&nbsp;True);<BR>
F&nbsp;:&nbsp;String(1&nbsp;..&nbsp;1)&nbsp;:=&nbsp;(1&nbsp;=&gt;&nbsp;'F');&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;a&nbsp;one&nbsp;component&nbsp;aggregate:&nbsp;same&nbsp;as&nbsp;&quot;F&quot;</I></SPAN></DIV>
<DIV Class="paranum">44/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00433.TXT">AI95-00433-01</A></I>} 
<SPAN class="insert2"><I>Example of an array aggregate with defaulted 
others choice and with an applicable index constraint provided by an 
enclosing record aggregate:</I></SPAN></DIV>
<DIV Class="paranum">45/2</DIV>
<DIV Class="Examples"><SPAN class="insert2">Buffer'(Size&nbsp;=&gt;&nbsp;50,&nbsp;Pos&nbsp;=&gt;&nbsp;1,&nbsp;Value&nbsp;=&gt;&nbsp;String'('x',&nbsp;<B>others</B>&nbsp;=&gt;&nbsp;&lt;&gt;))&nbsp;&nbsp;--<SPAN Class="roman"><I>&nbsp;see&nbsp;<A HREF="AA-3-7.html">3.7</A></I></SPAN></SPAN></DIV>

<H4 Class="centered">Incompatibilities With Ada 83</H4>
<DIV Class="paranum">45.a.1/1</DIV>
<DIV Class="Annotations" Style="margin-bottom: 0.4em"><SPAN class="insert1">{<I>incompatibilities 
with Ada 83</I>} <A NAME="I2682"></A>In Ada 95, no applicable index constraint 
is defined for a parameter in a call to a generic formal subprogram; 
thus, some aggregates that are legal in Ada 83 are illegal in Ada 95. 
For example:</SPAN>&nbsp;</DIV>
<DIV Class="paranum">45.a.2/1</DIV>
<DIV Class="SmallExamples"><SPAN class="insert1"><B>subtype</B>&nbsp;S3&nbsp;<B>is</B>&nbsp;String&nbsp;(1&nbsp;..&nbsp;3);<BR>
...<BR>
<B>generic</B><BR>
&nbsp;&nbsp;&nbsp;<B>with&nbsp;function</B>&nbsp;F&nbsp;(The_S3&nbsp;:&nbsp;<B>in</B>&nbsp;S3)&nbsp;<B>return</B>&nbsp;Integer;<BR>
<B>package</B>&nbsp;Gp&nbsp;<B>is</B><BR>
&nbsp;&nbsp;&nbsp;I&nbsp;:&nbsp;constant&nbsp;Integer&nbsp;:=&nbsp;F&nbsp;((1&nbsp;=&gt;&nbsp;'!',&nbsp;others&nbsp;=&gt;&nbsp;'?'));<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&nbsp;<SPAN Class="roman"><I>The&nbsp;aggregate&nbsp;is&nbsp;legal&nbsp;in&nbsp;Ada&nbsp;83,&nbsp;illegal&nbsp;in&nbsp;Ada&nbsp;95.</I></SPAN><BR>
<B>end</B>&nbsp;Gp;</SPAN></DIV>
<DIV Class="paranum">45.a.3/1</DIV>
<DIV Class="Annotations"><SPAN class="insert1">This change eliminates 
generic contract model problems.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Extensions to Ada 83</H4>
<DIV Class="paranum">45.a</DIV>
<DIV Class="Annotations">{<I>extensions to Ada 83</I>} <A NAME="I2683"></A>We 
now allow &quot;named with others&quot; aggregates in all contexts where 
there is an applicable index constraint, effectively eliminating what 
was RM83-4.3.2(6). Sliding never occurs on an aggregate with others, 
because its bounds come from the applicable index constraint, and therefore 
already match the bounds of the target.</DIV>
<DIV Class="paranum">45.b</DIV>
<DIV Class="Annotations">The legality of an <B>others</B> choice is no 
longer affected by the staticness of the applicable index constraint. 
This substantially simplifies several rules, while being slightly more 
flexible for the user. It obviates the rulings of AI83-00244 and AI83-00310, 
while taking advantage of the dynamic nature of the &quot;extra values&quot; 
check required by AI83-00309.</DIV>
<DIV Class="paranum">45.c</DIV>
<DIV Class="Annotations">Named array aggregates are permitted even if 
the index type is descended from a formal scalar type. See <A HREF="AA-4-9.html">4.9</A> 
and AI83-00190.&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 83</H4>
<DIV Class="paranum">45.d</DIV>
<DIV Class="Annotations">We now separate named and positional array aggregate 
syntax, since, unlike other aggregates, named and positional associations 
cannot be mixed in array aggregates (except that an <B>others</B> choice 
is allowed in a positional array aggregate).</DIV>
<DIV Class="paranum">45.e</DIV>
<DIV Class="Annotations">We have also reorganized the presentation to 
handle multidimensional and one-dimensional aggregates more uniformly, 
and to incorporate the rulings of AI83-00019, AI83-00309, etc.&nbsp;</DIV>

<H4 Class="centered">Extensions to Ada 95</H4>
<DIV Class="paranum">45.f/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
<SPAN class="insert2">{<I>extensions to Ada 95</I>} <A NAME="I2684"></A>&lt;&gt; 
can be used in place of an <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN> 
in an <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>, 
default-initializing the component.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Wording Changes from Ada 95</H4>
<DIV Class="paranum">45.g/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00287.TXT">AI95-00287-01</A></I>} 
<SPAN class="insert2">Limited <SPAN Class="swiss"><A HREF="AA-4-3-3.html#S0111">array_aggregate</A></SPAN>s 
are allowed (since all kinds of aggregates can now be limited, see <A HREF="AA-4-3.html">4.3</A>).</SPAN></DIV>
<DIV Class="paranum">45.h/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-10318.TXT">AI95-00318-02</A></I>} 
<SPAN class="insert2">Fixed <SPAN Class="swiss"><A HREF="AA-4-3.html#S0104">aggregate</A></SPAN>s 
to use the subtype of the return object of a function, rather than the 
result subtype, because they can be different for an <SPAN Class="swiss"><A HREF="AA-6-5.html#S0170">extended_return_statement</A></SPAN>, 
and we want to use the subtype that's explicitly in the code at the point 
of the <SPAN Class="swiss"><A HREF="AA-4-4.html#S0115">expression</A></SPAN>.</SPAN> 
</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-4-3-2.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-4-4.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
