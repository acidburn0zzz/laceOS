<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<HTML>
<HEAD>
    <TITLE>The Package Environment_Variables</TITLE>
    <META http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <META NAME="Author" CONTENT="JTC1/SC22/WG9/ARG, by Randall Brukardt, ARG Editor">
    <META NAME="GENERATOR" CONTENT="Arm_Form.Exe, Ada Reference Manual generator">
    <STYLE type="text/css">
    H4.centered {text-align: center}
    SPAN.swiss {font-family: Arial, Helvetica, sans-serif; font-size: 92%}
    SPAN.roman {font-family: "Times New Roman", Times, serif}
    DIV.paranum {float: left; font-family: Arial, Helvetica, sans-serif; font-size: 64%; width: 2.8em; margin-left: -0.4em; margin-right: -3.0em; margin-top: 0.2em}
    TT {font-family: "Courier New", monospace}
    DT {display: compact}
    SPAN.insert2 {text-decoration: underline; color: rgb(0,102,0) }
    SPAN.delete2 {text-decoration: line-through; color: rgb(0,102,0) }
    DIV.Normal {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 1.2em; margin-bottom: 0.6em}
    DIV.Annotations {font-family: "Times New Roman", Times, serif; font-size: 80%; line-height: 122%; margin-left: 6.2em; margin-bottom: 0.6em}
    DIV.CodeIndented {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 5.2em; margin-bottom: 0.6em}
    DIV.Examples {font-family: "Courier New", monospace; font-size: 90%; line-height: 122%; margin-left: 3.4em; margin-bottom: 0.6em}
    UL.Bulleted {font-family: "Times New Roman", Times, serif; line-height: 122%; margin-left: 3.2em; margin-right: 2.0em; margin-top: 0em; margin-bottom: 0.5em}
    </STYLE>
</HEAD>
<BODY TEXT="#000000" BGCOLOR="#FFFFF0" LINK="#000080" VLINK="#330033" ALINK="#0000FF">
<DIV><B><SPAN Style="font-size:200%; color: rgb(0,51,153)">Annotated</SPAN><SPAN Style="font-size:200%; color: rgb(0,0,102)">&nbsp;Ada Reference Manual</SPAN></B> &mdash; <A HREF="AA-TTL.html"><B>Legal Information</B></A></DIV>
<DIV Style="margin-top: 0.6em; margin-bottom: 0.0em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-16.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-18.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<HR>
<H1>&nbsp;A.17 <SPAN class="insert2">The Package Environment_Variables</SPAN> <SPAN class="delete2"></SPAN></H1>
<DIV Class="paranum">1/2</DIV>
<DIV Class="Normal">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2"><SPAN STYLE="font-size: 80%">{<I>environment variable</I>}</SPAN> 
<A NAME="I6548"></A>The package Environment_Variables allows a program 
to read or modify environment variables. Environment variables are name-value 
pairs, where both the name and value are strings. The definition of what 
constitutes an <I>environment variable</I>, and the meaning of the name 
and value, are implementation defined.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">1.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Implementation defined: 
</B></SPAN><SPAN class="insert2">The definition and meaning of an environment 
variable.</SPAN></DIV>

<H4 Class="centered">Static Semantics</H4>
<DIV Class="paranum">2/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2">The library package Environment_Variables has the 
following declaration:</SPAN>&nbsp;</DIV>
<DIV Class="paranum">3/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>package</B>&nbsp;Ada.Environment_Variables&nbsp;<B>is</B><A NAME="I6549"></A><BR>
&nbsp;&nbsp;&nbsp;<B>pragma</B>&nbsp;Preelaborate(Environment_Variables);</SPAN></DIV>
<DIV Class="paranum">4/2</DIV>
<DIV Class="Examples"><SPAN class="insert2">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I6550"></A>Value&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String)&nbsp;<B>return</B>&nbsp;String;</SPAN></DIV>
<DIV Class="paranum">5/2</DIV>
<DIV Class="Examples"><SPAN class="insert2">&nbsp;&nbsp;&nbsp;<B>function</B>&nbsp;<A NAME="I6551"></A>Exists&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String)&nbsp;<B>return</B>&nbsp;Boolean;</SPAN></DIV>
<DIV Class="paranum">6/2</DIV>
<DIV Class="Examples"><SPAN class="insert2">&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;<A NAME="I6552"></A>Set&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String;&nbsp;Value&nbsp;:&nbsp;<B>in</B>&nbsp;String);</SPAN></DIV>
<DIV Class="paranum">7/2</DIV>
<DIV Class="Examples"><SPAN class="insert2">&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;<A NAME="I6553"></A>Clear&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String);<BR>
&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;<A NAME="I6554"></A>Clear;</SPAN></DIV>
<DIV Class="paranum">8/2</DIV>
<DIV Class="Examples"><SPAN class="insert2">&nbsp;&nbsp;&nbsp;<B>procedure</B>&nbsp;<A NAME="I6555"></A>Iterate&nbsp;(<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;:&nbsp;<B>not&nbsp;null&nbsp;access&nbsp;procedure</B>&nbsp;(Name,&nbsp;Value&nbsp;:&nbsp;<B>in</B>&nbsp;String));</SPAN></DIV>
<DIV Class="paranum">9/2</DIV>
<DIV Class="Examples" Style="margin-bottom: 0.9em"><SPAN class="insert2"><B>end</B>&nbsp;Ada.Environment_Variables;</SPAN></DIV>
<DIV Class="paranum">10/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>function</B>&nbsp;Value&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String)&nbsp;<B>return</B>&nbsp;String;</SPAN></DIV>
<DIV Class="paranum">11/2</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2">If the external execution environment supports 
environment variables, then Value returns the value of the environment 
variable with the given name. If no environment variable with the given 
name exists, then Constraint_Error is propagated. If the execution environment 
does not support environment variables, then Program_Error is propagated.</SPAN></DIV>
<DIV Class="paranum">12/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>function</B>&nbsp;Exists&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String)&nbsp;<B>return</B>&nbsp;Boolean;</SPAN></DIV>
<DIV Class="paranum">13/2</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2">If the external execution environment supports 
environment variables and an environment variable with the given name 
currently exists, then Exists returns True; otherwise it returns False.</SPAN></DIV>
<DIV Class="paranum">14/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>procedure</B>&nbsp;Set&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String;&nbsp;Value&nbsp;:&nbsp;<B>in</B>&nbsp;String);</SPAN></DIV>
<DIV Class="paranum">15/2</DIV>
<DIV Class="CodeIndented">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2">If the external execution environment supports 
environment variables, then Set first clears any existing environment 
variable with the given name, and then defines a single new environment 
variable with the given name and value. Otherwise Program_Error is propagated.</SPAN></DIV>
<DIV Class="paranum">16/2</DIV>
<DIV Class="CodeIndented"><SPAN class="insert2">If implementation-defined 
circumstances prohibit the definition of an environment variable with 
the given name and value, then Constraint_Error is propagated.</SPAN> 
</DIV>
<DIV Class="paranum">16.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Implementation defined: 
</B></SPAN><SPAN class="insert2">The circumstances where an environment 
variable cannot be defined.</SPAN></DIV>
<DIV Class="paranum">17/2</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em"><SPAN class="insert2">It 
is implementation defined whether there exist values for which the call 
Set(Name, Value) has the same effect as Clear (Name).</SPAN>&nbsp;</DIV>
<DIV Class="paranum">17.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Implementation defined: 
</B></SPAN><SPAN class="insert2">Environment names for which Set has 
the effect of Clear.</SPAN></DIV>
<DIV Class="paranum">18/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>procedure</B>&nbsp;Clear&nbsp;(Name&nbsp;:&nbsp;<B>in</B>&nbsp;String);</SPAN></DIV>
<DIV Class="paranum">19/2</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2">If the external execution environment supports 
environment variables, then Clear deletes all existing environment variable 
with the given name. Otherwise Program_Error is propagated.</SPAN></DIV>
<DIV Class="paranum">20/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>procedure</B>&nbsp;Clear;</SPAN></DIV>
<DIV Class="paranum">21/2</DIV>
<DIV Class="CodeIndented" Style="margin-bottom: 0.9em">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2">If the external execution environment supports 
environment variables, then Clear deletes all existing environment variables. 
Otherwise Program_Error is propagated.</SPAN></DIV>
<DIV Class="paranum">22/2</DIV>
<DIV Class="Examples"><SPAN class="insert2"><B>procedure</B>&nbsp;Iterate&nbsp;(<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;:&nbsp;<B>not&nbsp;null&nbsp;access&nbsp;procedure</B>&nbsp;(Name,&nbsp;Value&nbsp;:&nbsp;<B>in</B>&nbsp;String));</SPAN></DIV>
<DIV Class="paranum">23/2</DIV>
<DIV Class="CodeIndented">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2">If the external execution environment supports 
environment variables, then Iterate calls the subprogram designated by 
Process for each existing environment variable, passing the name and 
value of that environment variable. Otherwise Program_Error is propagated.</SPAN></DIV>
<DIV Class="paranum">24/2</DIV>
<DIV Class="CodeIndented"><SPAN class="insert2">If several environment 
variables exist that have the same name, Process is called once for each 
such variable.</SPAN></DIV>

<H4 Class="centered">Bounded (Run-Time) Errors</H4>
<DIV Class="paranum">25/2</DIV>
<DIV Class="Normal" Style="margin-bottom: 0.4em">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2"><SPAN STYLE="font-size: 80%">{<I>bounded error 
(cause)</I> [partial]}</SPAN> <A NAME="I6556"></A>It is a bounded error 
to call Value if more than one environment variable exists with the given 
name; the possible outcomes are that:</SPAN>&nbsp;</DIV>
<DIV Class="paranum">26/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">one of the values 
is returned, and that same value is returned in subsequent calls in the 
absence of changes to the environment; or</SPAN></LI></UL>
<DIV Class="paranum">27/2</DIV>
<UL Class="Bulleted"><LI TYPE=DISC><SPAN class="insert2">Program_Error 
is propagated.</SPAN>&nbsp;</LI></UL>

<H4 Class="centered">Erroneous Execution</H4>
<DIV Class="paranum">28/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2"><SPAN STYLE="font-size: 80%">{<I>erroneous execution 
(cause)</I> [partial]}</SPAN> <A NAME="I6557"></A>Making calls to the 
procedures Set or Clear concurrently with calls to any subprogram of 
package Environment_Variables, or to any instantiation of Iterate, results 
in erroneous execution.</SPAN></DIV>
<DIV Class="paranum">29/2</DIV>
<DIV Class="Normal">&nbsp;<SPAN class="insert2">Making calls to the procedures 
Set or Clear in the actual subprogram corresponding to the Process parameter 
of Iterate results in erroneous execution.</SPAN>&nbsp;</DIV>

<H4 Class="centered">Documentation Requirements</H4>
<DIV Class="paranum">30/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2">An implementation shall document how the operations 
of this package behave if environment variables are changed by external 
mechanisms (for instance, calling operating system services).</SPAN> 
</DIV>
<DIV Class="paranum">30.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Documentation Requirement: 
</B></SPAN><SPAN class="insert2">The behavior of package Environment_Variables 
when environment variables are changed by external mechanisms.</SPAN></DIV>

<H4 Class="centered">Implementation Permissions</H4>
<DIV Class="paranum">31/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2">An implementation running on a system that does 
not support environment variables is permitted to define the operations 
of package Environment_Variables with the semantics corresponding to 
the case where the external execution environment does support environment 
variables. In this case, it shall provide a mechanism to initialize a 
nonempty set of environment variables prior to the execution of a partition.</SPAN> 
</DIV>

<H4 Class="centered">Implementation Advice</H4>
<DIV Class="paranum">32/2</DIV>
<DIV Class="Normal">&nbsp;{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2">If the execution environment supports subprocesses, 
the currently defined environment variables should be used to initialize 
the environment variables of a subprocess.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">32.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Implementation Advice: 
</B></SPAN><SPAN class="insert2">If the execution environment supports 
subprocesses, the current environment variables should be used to initialize 
the environment variables of a subprocess.</SPAN></DIV>
<DIV Class="paranum">33/2</DIV>
<DIV Class="Normal">&nbsp;<SPAN class="insert2">Changes to the environment 
variables made outside the control of this package should be reflected 
immediately in the effect of the operations of this package. Changes 
to the environment variables made using this package should be reflected 
immediately in the external execution environment. This package should 
not perform any buffering of the environment variables.</SPAN>&nbsp;</DIV>
<DIV Class="paranum">33.a/2</DIV>
<DIV Class="Annotations"><SPAN class="insert2"><B>Implementation Advice: 
</B></SPAN><SPAN class="insert2">Changes to the environment variables 
made outside the control of Environment_Variables should be reflected 
immediately.</SPAN></DIV>

<H4 Class="centered">Extensions to Ada 95</H4>
<DIV Class="paranum">33.b/2</DIV>
<DIV Class="Annotations">{<I><A HREF="http://www.ada-auth.org/cgi-bin/cvsweb.cgi/AIs/AI-00370.TXT">AI95-00370-01</A></I>} 
<SPAN class="insert2">{<I>extensions to Ada 95</I>} <A NAME="I6558"></A>Package 
Environment_Variables is new.</SPAN>&nbsp;</DIV>

<HR>
<DIV Style="margin-top: 0.0em; margin-bottom: 0.6em"><A HREF="AA-TOC.html"><IMG SRC="cont.gif" ALT="Contents" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-0-5.html"><IMG SRC="index.gif" ALT="Index" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-STDS.html"><IMG SRC="lib.gif" ALT="References" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-SRCH.html"><IMG SRC="find.gif" ALT="Search" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-16.html"><IMG SRC="prev.gif" ALT="Previous" BORDER=0></A>&nbsp;
&nbsp;<A HREF="AA-A-18.html"><IMG SRC="next.gif" ALT="Next" BORDER=0></A>&nbsp;
</DIV>
<DIV Style="margin-top:0.0em"><IMG SRC="AE_logo.gif" height=100 width=113 align=right ALT="Ada-Europe">
<SPAN Style="font-size: 125%">Sponsored by <SPAN Style="font-size: 125%"><A HREF="http://www.ada-europe.org/"><B>Ada-Europe</B></A></SPAN></SPAN></DIV>
</BODY>
</HTML>
